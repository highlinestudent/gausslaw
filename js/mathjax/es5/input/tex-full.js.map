{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/Configuration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/SymbolMap.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/TexError.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/NodeUtil.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/ParseUtil.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/core/lib/core/MmlTree/MmlNode.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/TexParser.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/TexConstants.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/MapHandler.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/base/BaseMethods.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/core/lib/util/Options.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/StackItem.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/ParseMethods.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/core/lib/util/Entities.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/Tags.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/Symbol.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/NodeFactory.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/base/BaseConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/base/BaseItems.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/ams/AmsMethods.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/bussproofs/BussproofsUtil.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/Stack.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/enclose/EncloseConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/newcommand/NewcommandMethods.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/newcommand/NewcommandUtil.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/newcommand/NewcommandConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/require/RequireConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/AllPackages.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/core/lib/components/global.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/FindTeX.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/FilterUtil.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/ParseOptions.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/StackItemFactory.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/action/ActionConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/ams/AmsConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/ams/AmsItems.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/ams_cd/AmsCdConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/ams_cd/AmsCdMethods.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/bbox/BboxConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/boldsymbol/BoldsymbolConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/braket/BraketConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/braket/BraketItems.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/braket/BraketMethods.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/bussproofs/BussproofsConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/bussproofs/BussproofsItems.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/bussproofs/BussproofsMethods.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/cancel/CancelConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/color/ColorConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/color/ColorMethods.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/color/ColorUtil.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/color_v2/ColorV2Configuration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/config_macros/ConfigMacrosConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/extpfeil/ExtpfeilConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/newcommand/NewcommandItems.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/html/HtmlConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/html/HtmlMethods.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/mhchem/MhchemConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/noerrors/NoErrorsConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/noundefined/NoUndefinedConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/physics/PhysicsConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/physics/PhysicsItems.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/physics/PhysicsMethods.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/unicode/UnicodeConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/verb/VerbConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/startup/lib/components/loader.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/util/entities/n.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/startup/lib/components/package.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/autoload/AutoloadConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/core/lib/core/InputJax.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/core/lib/core/FindMath.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/core/lib/util/string.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/core/lib/core/MathItem.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/core/lib/core/MmlTree/MmlNodes/mo.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/core/lib/core/Tree/Factory.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/core/lib/util/FunctionList.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/base/BaseMappings.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/util/entities/p.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/util/entities/r.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/ams/AmsMappings.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/ams_cd/AmsCdMappings.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/braket/BraketMappings.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/bussproofs/BussproofsMappings.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/color/ColorConstants.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/newcommand/NewcommandMappings.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/mhchem/mhchem_parser.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/physics/PhysicsMappings.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/tag_format/TagFormatConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/core/lib/mathjax.js","webpack:///./lib/tex-full.js","webpack:///./tex-full.js","webpack:///../tex/register.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__read","this","iterator","e","ar","next","done","push","error","__values","length","TypeError","ConfigurationHandler","maps","ParseMethods_js_1","MapHandler_js_1","Options_js_1","sm","MapHandler_js_2","FunctionList_js_1","Configuration","config","handler","fallback","items","tags","options","nodes","preprocessors","postprocessors","init","priority","configPriority","empty","extension","MacroMap","ExtensionMaps","NEW_MACRO","DelimiterMap","NEW_DELIMITER","default","delimiter","CommandMap","NEW_COMMAND","EnvironmentMap","NEW_ENVIRONMENT","environment","character","macro","configuration","initMethod","execute","jax","e_1","_a","e_2","_b","configMethod","_c","_d","pre","preFilters","add","e_1_1","return","_e","_f","post","postFilters","e_2_1","append","e_3","e_4","e_5","e_6","e_7","e_8","handlers","keys","handlers_1","handlers_1_1","_g","_h","map","unshift","e_4_1","e_3_1","assign","defaultOptions","_j","_k","e_5_1","_l","_m","e_6_1","_o","_p","item","e_7_1","_q","_r","e_8_1","register","e_9","parser","parseOptions","SubHandlers","nodeFactory","setCreators","kind","itemFactory","setNodeClass","e_9_1","userOptions","FunctionList","set","Map","extendStatics","__extends","b","setPrototypeOf","__proto__","Array","__","constructor","__spread","arguments","concat","Symbol_js_1","AbstractSymbolMap","_name","configurable","parserFor","symbol","contains","parse","env","mapped","lookup","_parser","MapHandler","_super","RegExpMap","_regExp","test","_this","AbstractParseMap","has","apply","CharacterMap","json","char","attrs","func","args","functionMap","slice","Macro","saveCommand","currentCS","result","envParser","TexError","processString","str","parts","split","pattern","charAt","parseInt","toString","substr","match","join","id","message","rest","_i","NodeUtil","MmlNode_js_1","mo_js_1","setProperties","node","properties","name_1","texClass","setProperty","isKind","attributes","setChild","position","child","childNodes","parent","isType","createEntity","code","String","fromCharCode","getChildren","getText","appendChildren","children","children_1","children_1_1","appendChild","setAttribute","attribute","getProperty","getAttribute","attr","removeProperties","removeProperty","getChildAt","copyChildren","oldNode","newNode","copyAttributes","getAllProperties","isEmbellished","getTexClass","getCoreMO","coreMO","isNode","AbstractMmlNode","AbstractMmlEmptyNode","isInferred","getForm","mo","forms","getForms","forms_1","forms_1_1","form","MmlMo","OPTABLE","ParseUtil","UNIT_CASES","num","unit","dimenEnd","dimenRest","NodeUtil_js_1","TexParser_js_1","TexError_js_1","Entities_js_1","matchDimen","dim","replace","Em","parseFloat","Math","abs","toFixed","mathPalette","fence","side","D","T","mml","internalText","text","def","entities","nbsp","textNode","addArgs","s1","s2","removeBraces","count","trim","readValue","end","braces","index","start","startCount","stopCount","indexOf","RegExp","dimen2em","fenced","open","close","big","nf","mrow","TEXCLASS","INNER","stack","openNode","stretchy","symmetric","OPEN","closeNode","CLOSE","fixedFence","ORD","fixInitialMO","REL","mi","internalMath","level","mathvariant","k","atom","len","displaystyle","scriptlevel","trimSpaces","TEXT","setArrayAlign","array","align","arraydef","substituteArgs","newstring","checkEqnEnv","global","eqnenv","MmlFilterAttribute","getFontDef","font","keyvalOptions","attrib","allowed","val","JSON","readKeyval","MathJax","_","core","MmlTree","MmlNode","TEXCLASSNAMES","indentAttributes","AbstractMmlTokenNode","AbstractMmlLayoutNode","AbstractMmlBaseNode","TextNode","XMLNode","ParseUtil_js_1","Stack_js_1","TexParser","_string","input","from","Parse","string","charCodeAt","Push","arg","PushAll","args_1","args_1_1","Top","First","popParser","convertDelimiter","nextIsSpace","GetNext","GetCS","CS","GetArgument","noneOK","j","parens","GetBrackets","GetDelimiter","braceOK","GetDimen","dimen","length_1","GetUpTo","token","ParseArg","ParseUpTo","GetDelimiterArg","GetStar","star","macroCount","ENV","inner","isInner","pushParser","TexConstant","Variant","NORMAL","BOLD","ITALIC","BOLDITALIC","DOUBLESTRUCK","FRAKTUR","BOLDFRAKTUR","SCRIPT","BOLDSCRIPT","SANSSERIF","BOLDSANSSERIF","SANSSERIFITALIC","SANSSERIFBOLDITALIC","MONOSPACE","INITIAL","TAILED","LOOPED","STRETCHED","CALLIGRAPHIC","OLDSTYLE","Form","PREFIX","INFIX","POSTFIX","LineBreak","AUTO","NEWLINE","NOBREAK","GOODBREAK","BADBREAK","LineBreakStyle","BEFORE","AFTER","DUPLICATE","INFIXLINBREAKSTYLE","IndentAlign","LEFT","CENTER","RIGHT","ID","INDENTALIGN","IndentShift","INDENTSHIFT","LineThickness","THIN","MEDIUM","THICK","Notation","LONGDIV","ACTUARIAL","PHASORANGLE","RADICAL","BOX","ROUNDEDBOX","CIRCLE","TOP","BOTTOM","UPDIAGONALSTRIKE","DOWNDIAGONALSTRIKE","VERTICALSTRIKE","HORIZONTALSTRIKE","NORTHEASTARROW","MADRUWB","UPDIAGONALARROW","Align","BASELINE","AXIS","Lines","NONE","SOLID","DASHED","Side","LEFTOVERLAP","RIGHTOVERLAP","Width","FIT","Actiontype","TOGGLE","STATUSLINE","TOOLTIP","INPUT","Length","VERYVERYTHINMATHSPACE","VERYTHINMATHSPACE","THINMATHSPACE","MEDIUMMATHSPACE","THICKMATHSPACE","VERYTHICKMATHSPACE","VERYVERYTHICKMATHSPACE","NEGATIVEVERYVERYTHINMATHSPACE","NEGATIVEVERYTHINMATHSPACE","NEGATIVETHINMATHSPACE","NEGATIVEMEDIUMMATHSPACE","NEGATIVETHICKMATHSPACE","NEGATIVEVERYTHICKMATHSPACE","NEGATIVEVERYVERYTHICKMATHSPACE","Overflow","LINBREAK","SCROLL","ELIDE","TRUNCATE","SCALE","Unit","EM","EX","PX","IN","CM","MM","PT","PC","getMap","SubHandler","_configuration","warn","_fallback","applicable","x","retrieve","find","console","log","maps_1","maps_1_1","subHandler","values","name_2","sitem","TexConstants_js_1","Tags_js_1","BaseMethods","MmlTokenAllow","fontfamily","fontsize","fontweight","fontstyle","color","background","href","style","parseRoot","inRoot","newParser","Open","Close","Tilde","Space","Superscript","primes","base","top","Peek","Pop","Prev","movesupsub","sup","over","Subscript","sub","under","Prime","prime","rquote","Comment","Hash","SetFont","SetStyle","texStyle","SetSize","size","mathsize","Spacer","space","width","LeftRight","first","Middle","delim","NamedFn","OP","NamedOp","movablelimits","Limits","limits","op","Last","Over","Frac","den","Sqrt","Root","MoveRoot","Accent","accent","entity","muoNode","texAtom","UnderOver","noaccent","lspace","rspace","Overset","Underset","bot","TeXAtom","mclass","parsed","MmlToken","isToken","hasDefault","toLowerCase","Strut","row","padded","height","depth","Phantom","v","h","box","Smash","bt","smash","Lap","RaiseLower","move","MoveLeftRight","nh","tmp","left","right","Hskip","Rule","rule","w","mathbackground","voffset","MakeBig","sizeStr","minsize","maxsize","BuildRel","HBox","FBox","internal","notation","Not","Dots","ldotsEntity","cdotsEntity","ldots","cdots","Matrix","spacing","vspacing","cases","numbered","rowspacing","columnspacing","columnalign","Entry","isEntry","close_1","Cr","isCR","CrLaTeX","nobrackets","linebreak","ArrayItem","rows","dimem","table","max","HLine","Size","lines","frame","HFill","hfill","BeginEnd","begin","raggedHeight","getName","dashed","columnlines","AlignedArray","Equation","EqnArray","taggable","newItem","minlabelspacing","HandleNoTag","notag","HandleLabel","label","refUpdate","allLabels","labels","Label","HandleRef","eqref","ref","redo","tag","formatTag","formatUrl","baseURL","argcount","optional","MathChoice","S","SS","APPEND","util","Options","REMOVE","Expandable","expandable","makeArray","copy","insert","selectOptions","selectOptionsFromKeys","separateOptions","MmlStack","_nodes","pop","Clear","toMml","inferred","forceRow","factory","BaseItem","_env","_properties","checkItem","isOpen","fail","isClose","getErrors","isFinal","success","clearEnv","errors","ParseMethods","variable","digit","controlSequence","mathchar0mi","mchar","mathchar0mo","addNode","mathchar7","Entities","remove","translate","numeric","TagInfo","defaultTags","tagId","tagFormat","noTag","labelId","AbstractTags","currentTag","history","noFormat","encodeURIComponent","formatId","formatNumber","autoTag","counter","clearTag","getTag","force","makeTag","ct","resetTag","reset","offset","allCounter","allIds","startEquation","math","ids","recompile","inputData","finishEquation","state","finalize","display","enTag","makeId","cell","NoTags","TagsFactory","tagsMapping","AllTags","OPTIONS","tagSide","tagIndent","multlineWidth","useLabelIds","ignoreDuplicateLabels","constr","addTags","Error","setDefault","getDefault","_symbol","_char","_attributes","_func","_args","NodeFactory","setMmlFactory","mmlFactory","createNode","arity","Infinity","setChildren","cleanChildren","createToken","createText","setText","createError","mtext","Configuration_js_1","SymbolMap_js_1","bitem","Other","remap","BaseTags","BaseConfiguration","StartItem","StopItem","OpenItem","CloseItem","PrimeItem","SubsupItem","OverItem","LeftItem","RightItem","BeginItem","EndItem","StyleItem","PositionItem","CellItem","MmlItem","FnItem","NotItem","DotsItem","EqnArrayItem","EquationItem","maxMacros","document","getElementsByTagName","location","StackItem_js_1","top0","top1","splice","ApplyFunction","mtextNode","paddedNode","dots","tclass","BIN","EndEntry","EndRow","EndTable","isFrame","mtd","checkLines","mtr","BaseMethods_js_1","AmsMethods","valign","spaceStr","columnwidth","cs","integral","chr","arrow","mpadded","bottom","shove","lr","lrMap","numNode","denNode","frac","numalign","denomalign","thick","styleDigit","styleAlpha","getBBox","root","doc","outputJax","getRule","getPremises","direction","getPremise","premises","firstPremise","getConclusion","getColumn","inf","getParentInf","getSpaces","index_1","adjustValue","conc","addSpace","replaceChild","moveProperties","mspace","addSequentSpace","sequent","src","dest","forEach","adjustSequentPairwise","sequents","compareSequents","tr","br","balanceRules","MathItem","data","nodeLists","seq","collect","premise","adjustSequents","inferences","inferences_1","inferences_1_1","isProof","premiseF","adjust_1","w_1","premiseL","adjust","maxAdjust","column","sibling","pos","parentRule","property_prefix","blacklistedProperties","makeBsprAttributes","walkTree","getPropertyNames","saveDocument","clearDocument","Stack","_factory","top_1","copyEnv","noPop","ENCLOSE_OPTIONS","mathcolor","EncloseMethods","Enclose","enclose","EncloseConfiguration","NewcommandUtil_js_1","NewcommandMethods","opt","addMacro","bdef","edef","addEnvironment","BeginEnv","GetCSname","params","GetTemplate","MacroWithTemplate","addDelimiter","macro_1","map_1","macro_2","newArgs","disassembleSymbol","symb","assembleSymbol","argCount","MatchParam","GetParameter","NewcommandUtil","param","cmd","hasBraces","NewcommandItems_js_1","NewcommandConfiguration","BeginEnvItem","global_js_1","package_js_1","loader_js_1","mathjax_js_1","MJCONFIG","RegisterExtension","require","prefix","required","names","names_1","names_1_1","RegisterDependencies","CONFIG","dependencies","options_1","configured","mathjax","retryAfter","Promise","resolve","RequireLoad","allow","defaultAllow","Package","packages","Loader","load","RequireMethods","Require","RequireConfiguration","paths","__assign","InputJax_js_1","FindTeX_js_1","FilterUtil_js_1","ParseOptions_js_1","TeX","AbstractInputJax","configure","packages_1","packages_1_1","conf","_parseOptions","compile","clear","executeFilters","latex","err","formatError","mathNode","findMath","strings","findTeX","NAME","FindTeX","digits","maxBuffer","tex","cleanSubSup","setInherited","moveLimits","cleanStretchy","cleanAttributes","combineRelations","loader","preLoad","AllPackages","isObject","components","combineConfig","combineDefaults","combineWithMathJax","FindMath_js_1","string_js_1","MathItem_js_1","AbstractFindMath","getPatterns","starts","subparts","delims","addPattern","sort","sortLength","hasPatterns","quotePattern","endPattern","findEnd","lastIndex","exec","protoItem","findMathInString","undefined","math_1","inlineMath","displayMath","processEscapes","processEnvironments","processRefs","FilterUtil","getList","parent_1","inheritAttributesFrom","attribs","getExplicitNames","getInherited","m2","variantForm","_compareExplicit","getExplicit","_copyExplicit","_cleanSubSup","low","up","parent_2","node1","node2","attr1","attr2","filter","exp1","exp2","exp1_1","exp1_1_1","_moveLimits","underover","subsup","setInheritedAttributes","StackItemFactory_js_1","NodeFactory_js_1","ParseOptions","parsers","shift","list","list_1","list_1_1","inTree","Factory_js_1","DummyItem","StackItemFactory","AbstractFactory","DefaultStackItems","defaultKind","ActionMethods","Toggle","actiontype","Mathtip","tip","toggle","mathtip","texttip","ActionConfiguration","AmsItems_js_1","AmsTags","AmsConfiguration","MultlineItem","BaseItems_js_1","mlabel","AmsCdConfiguration","amsCd","colspace","rowspace","harrowsize","varrowsize","hideHorizontalLabels","BaseConfiguration_js_1","AmsCdMethods","minw","CD_minw","minh","CD_minh","arrowRow","hdef","vdef","a","pad","nodeA","nodeB","arrowNode","BboxMethods","BBox","bbox","part","BBoxPadding","BBoxStyle","styles","BboxConfiguration","BOLDVARIANT","createBoldToken","rewriteBoldTokens","variant","BoldsymbolMethods","Boldsymbol","boldsymbol","BoldsymbolConfiguration","BraketItems_js_1","BraketConfiguration","BraketItem","BraketMethods","Braket","barmax","single","barcount","Bar","braketbar","node_1","BussproofsItems_js_1","BussproofsUtil_js_1","BussproofsConfiguration","ProofTreeItem","BussproofsUtil","innerStack","tree","leftLabel","rigthLabel","BussproofsMethods","line","currentLine","rootAtTop","content","paddedContent","lpad","rpad","createRule","conclusions","rightLabel","upper","lower","rowlines","framespacing","parseFCenterLine","axiom","prem","conclusion","fcenter","middle","Inference","childCount","SetLine","always","RootAtTop","where","AxiomF","FCenter","InferenceF","EncloseConfiguration_js_1","CancelMethods","Cancel","CancelTo","cancel","bcancel","xcancel","cancelto","CancelConfiguration","ColorMethods_js_1","ColorUtil_js_1","textcolor","definecolor","colorbox","fcolorbox","ColorMethods","ColorConfiguration","padding","borderWidth","model","ColorModel","colorPadding","Color","colorDef","getColor","TextColor","old","DefineColor","cname","defineColor","ColorBox","colorModel","FColorBox","fname","ColorConstants_js_1","ColorModelProcessors","normalizeColor","modelProcessor","getColorByName","userColors","COLORS","normalized","rgb","rgbParts","RGB","rgbParts_1","rgbParts_1_1","rgbPart","pn","floor","rgbParts_2","rgbParts_2_1","gray","ColorV2Methods","NewcommandMethods_js_1","MACROSMAP","ConfigMacrosConfiguration","macrosMap","macros","isArray","AmsMethods_js_1","NewcommandConfiguration_js_1","ExtpfeilMethods","xArrow","NewExtArrow","spaces","xtwoheadrightarrow","xtwoheadleftarrow","xmapsto","xlongequal","xtofrom","Newextarrow","ExtpfeilConfiguration","HtmlMethods_js_1","cssId","HtmlConfiguration","HtmlMethods","url","GetArgumentMML","CLASS","oldClass","oldStyle","mhchem_parser_js_1","MhchemMethods","Machine","machine","mhchemParser","go","texify","ce","pu","longrightleftharpoons","longRightleftharpoons","longLeftrightharpoons","longleftrightarrows","tripledash","xrightarrow","xleftarrow","xleftrightarrow","xrightleftharpoons","xRightleftharpoons","xLeftrightharpoons","MhchemConfiguration","NoErrorsConfiguration","expr","NoUndefinedConfiguration","PhysicsItems_js_1","PhysicsConfiguration","AutoOpen","mml_1","PhysicsMethods","pairs","biggs","Quantity","named","argument","Eval","Commutator","latinCap","latinSmall","greekCap","greekSmall","inRange","range","createVectorToken","vectorFont","vectorStar","VectorBold","oldToken","oldFont","StarMacro","vectorApplication","operator","fences","enlarge","outputBraket","star1","star2","arg1","arg2","arg3","OperatorApplication","VectorOperator","Expression","exp","Qqtext","Differential","optArg","power","Derivative","argMax","argCounter","ignore","power1","power2","second","Bra","starBra","bra","ket","hasKet","starKet","saveI","Ket","BraKet","KetBra","Expectation","MatrixElement","MatrixQuantity","small","IdentityMatrix","isNaN","zeros","fill","columns","XMatrix","matrix_1","matrix","PauliMatrix","DiagonalMatrix","anti","startI","endI","elements","element","currentI","makeDiagMatrix","AutoClose","texclass","autoclose","UnicodeMethods","UnicodeCache","Unicode","HD","HDsplit","N","unicode","UnicodeConfiguration","VerbMethods","Verb","verb","VerbConfiguration","NJcy","Nacute","Ncaron","Ncedil","Ncy","NegativeMediumSpace","NegativeThickSpace","NegativeThinSpace","NegativeVeryThinSpace","NewLine","NoBreak","NonBreakingSpace","NotCongruent","NotCupCap","NotEqualTilde","NotGreaterFullEqual","NotGreaterGreater","NotGreaterLess","NotGreaterSlantEqual","NotGreaterTilde","NotHumpDownHump","NotHumpEqual","NotLeftTriangleBar","NotLessGreater","NotLessLess","NotLessSlantEqual","NotLessTilde","NotNestedGreaterGreater","NotNestedLessLess","NotPrecedesEqual","NotReverseElement","NotRightTriangleBar","NotSquareSubset","NotSquareSubsetEqual","NotSquareSuperset","NotSquareSupersetEqual","NotSubset","NotSucceedsEqual","NotSucceedsTilde","NotSuperset","NotTildeEqual","NotTildeFullEqual","NotTildeTilde","Ntilde","Nu","nGg","nGt","nGtv","nLl","nLt","nLtv","nabla","nacute","nang","nap","napE","napid","napos","napprox","natural","naturals","nbump","nbumpe","ncap","ncaron","ncedil","ncong","ncongdot","ncup","ncy","ndash","ne","neArr","nearhk","nearrow","nedot","nequiv","nesear","nesim","nexist","nexists","ngE","nge","ngeq","ngeqq","ngeqslant","nges","ngsim","ngt","ngtr","nhArr","nhpar","ni","nis","nisd","niv","njcy","nlArr","nlE","nldr","nle","nleftarrow","nleftrightarrow","nleq","nleqq","nleqslant","nles","nless","nlsim","nlt","nltri","nltrie","nmid","notin","notinE","notindot","notinva","notinvb","notinvc","notni","notniva","notnivb","notnivc","npar","nparallel","nparsl","npart","npolint","npr","nprcue","npre","nprec","npreceq","nrArr","nrarrc","nrarrw","nrightarrow","nrtri","nrtrie","nsc","nsccue","nsce","nshortmid","nshortparallel","nsim","nsime","nsimeq","nsmid","nspar","nsqsube","nsqsupe","nsub","nsubE","nsube","nsubset","nsubseteq","nsubseteqq","nsucc","nsucceq","nsup","nsupE","nsupe","nsupset","nsupseteq","nsupseteqq","ntgl","ntilde","ntlg","ntriangleleft","ntrianglelefteq","ntriangleright","ntrianglerighteq","numero","numsp","nvHarr","nvap","nvge","nvgt","nvinfin","nvlArr","nvle","nvlt","nvltrie","nvrArr","nvrtrie","nvsim","nwArr","nwarhk","nwarrow","nwnear","PackageError","RequireConfiguration_js_1","AutoloadCommandMap","delete","Autoload","isMacro","autoload","envs","macros_1","macros_1_1","AutoloadMacros","envs_1","envs_1_1","AutoloadEnvironments","AutoloadConfiguration","action","braket","extpfeil","html","mhchem","newcommand","environments","macs","macs_1","macs_1_1","envs_2","envs_2_1","InputJax","FindMath","unicodeChars","isPercent","AbstractMathItem","STATE","newState","MmlNodes","Tree","Factory","'","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","chi","psi","omega","varepsilon","vartheta","varpi","varrho","varsigma","varphi","aleph","hbar","imath","jmath","ell","wp","Re","Im","partial","infty","emptyset","angle","triangle","backslash","forall","exists","neg","lnot","flat","sharp","clubsuit","diamondsuit","heartsuit","spadesuit","surd","coprod","bigvee","bigwedge","biguplus","bigcap","bigcup","intop","iint","iiint","prod","sum","bigotimes","bigoplus","bigodot","oint","bigsqcup","smallint","largeop","triangleleft","triangleright","bigtriangleup","bigtriangledown","wedge","land","vee","lor","cap","cup","ddagger","dagger","sqcap","sqcup","uplus","amalg","diamond","bullet","wr","div","odot","oslash","otimes","ominus","oplus","mp","pm","circ","bigcirc","setminus","cdot","ast","times","propto","sqsubseteq","sqsupseteq","parallel","mid","dashv","vdash","leq","le","geq","ge","lt","gt","succ","prec","approx","succeq","preceq","supset","subset","supseteq","subseteq","owns","gg","ll","sim","simeq","perp","equiv","asymp","smile","frown","neq","cong","doteq","bowtie","models","notChar","Leftrightarrow","Leftarrow","Rightarrow","leftrightarrow","leftarrow","gets","rightarrow","to","mapsto","leftharpoonup","leftharpoondown","rightharpoonup","rightharpoondown","searrow","swarrow","rightleftharpoons","hookrightarrow","hookleftarrow","longleftarrow","Longleftarrow","longrightarrow","Longrightarrow","Longleftrightarrow","longleftrightarrow","longmapsto","vdots","ddots","dotsc","dotsb","dotsm","dotsi","dotso","ldotp","PUNCT","cdotp","colon","Gamma","Delta","Theta","Lambda","Xi","Pi","Sigma","Upsilon","Phi","Psi","Omega","And","textstyle","scriptstyle","scriptscriptstyle","rm","mit","oldstyle","cal","it","bf","bbFont","scr","frak","sf","tt","tiny","Tiny","scriptsize","normalsize","large","Large","LARGE","huge","Huge","arcsin","arccos","arctan","cos","cosh","cot","coth","csc","deg","det","gcd","hom","ker","lg","lim","liminf","limsup","ln","min","Pr","sec","sin","sinh","tan","tanh","nolimits","overline","underline","overbrace","underbrace","overparen","underparen","overrightarrow","underrightarrow","overleftarrow","underleftarrow","overleftrightarrow","underleftrightarrow","overset","underset","stackrel","overwithdelims","atop","atopwithdelims","above","abovewithdelims","brace","brack","choose","sqrt","uproot","leftroot","llap","rlap","raise","moveleft","moveright","enspace","quad","qquad","thinspace","negthinspace","hskip","hspace","kern","mskip","mkern","Big","bigg","Bigg","bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","mathord","mathop","mathopen","mathclose","mathbin","mathrel","mathpunct","mathinner","vcenter","VCENTER","buildrel","hbox","mbox","fbox","strut","mathstrut","phantom","vphantom","hphantom","acute","grave","ddot","tilde","bar","breve","check","hat","vec","dot","widetilde","widehat","pmatrix","eqalign","displaylines","cr","newline","hline","hdashline","eqalignno","leqalignno","hfil","hfilll","bmod","pmod","mod","pod","iff","skew","mathcal","mathscr","mathrm","mathbf","mathbb","Bbb","mathit","mathfrak","mathsf","mathtt","textrm","textit","textbf","textsf","texttt","pmb","LaTeX","not","nonumber","mathchoice","mmlToken","equation","eqnarray","Pcy","Poincareplane","Proportion","par","para","parsim","parsl","pcy","percnt","permil","pertenk","phmmat","phone","pitchfork","planck","planckh","plankv","plus","plusacir","plusb","pluscir","plusdo","plusdu","pluse","plusmn","plussim","plustwo","pointint","pound","pr","prE","prcue","precapprox","preccurlyeq","precsim","prnE","prnap","prnsim","profalar","profline","profsurf","prop","prsim","prurel","puncsp","RBarr","REG","Racute","Rang","Rarrtl","Rcaron","Rcedil","Rcy","ReverseElement","ReverseUpEquilibrium","Rho","RightArrowBar","RightDoubleBracket","RightDownTeeVector","RightDownVectorBar","RightTeeVector","RightTriangleBar","RightUpDownVector","RightUpTeeVector","RightUpVectorBar","RightVectorBar","RoundImplies","RuleDelayed","rAarr","rArr","rAtail","rBarr","rHar","race","racute","radic","raemptyv","rang","rangd","rangle","raquo","rarr","rarrap","rarrb","rarrbfs","rarrc","rarrfs","rarrhk","rarrlp","rarrpl","rarrsim","rarrw","ratail","ratio","rationals","rbarr","rbbrk","rbrke","rbrksld","rbrkslu","rcaron","rcedil","rceil","rcub","rcy","rdca","rdldhar","rdquo","rdquor","rdsh","real","realine","realpart","reals","rect","reg","rfisht","rfloor","rhard","rharu","rharul","rightarrowtail","rightleftarrows","rightsquigarrow","risingdotseq","rlarr","rlhar","rlm","rmoustache","rnmid","roang","roarr","robrk","ropar","roplus","rotimes","rpar","rpargt","rppolint","rrarr","rsaquo","rsh","rsqb","rsquo","rsquor","rthree","rtrie","rtrif","rtriltri","ruluhar","rx","COLS","W","WW","iiiint","mathring","nobreakspace","negmedspace","negthickspace","idotsint","dddot","ddddot","sideset","boxed","substack","injlim","projlim","varliminf","varlimsup","varinjlim","varprojlim","DeclareMathOperator","operatorname","SkipLimits","genfrac","tfrac","dfrac","binom","tbinom","dbinom","cfrac","shoveleft","shoveright","multline","gather","alignat","alignedat","aligned","gathered","subarray","smallmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","digamma","varkappa","varGamma","varDelta","varTheta","varLambda","varXi","varPi","varSigma","varUpsilon","varPhi","varPsi","varOmega","beth","gimel","daleth","backprime","hslash","varnothing","blacktriangle","triangledown","blacktriangledown","square","Box","blacksquare","lozenge","Diamond","blacklozenge","circledS","bigstar","sphericalangle","measuredangle","complement","mho","eth","Finv","diagup","Game","diagdown","Bbbk","yen","circledR","checkmark","maltese","dotplus","ltimes","smallsetminus","rtimes","Cap","doublecap","leftthreetimes","Cup","doublecup","rightthreetimes","barwedge","curlywedge","veebar","curlyvee","doublebarwedge","boxminus","circleddash","boxtimes","circledast","boxdot","circledcirc","boxplus","centerdot","divideontimes","intercal","leqq","geqq","leqslant","geqslant","eqslantless","eqslantgtr","lesssim","gtrsim","lessapprox","gtrapprox","approxeq","lessdot","gtrdot","lll","llless","ggg","gggtr","lessgtr","gtrless","lesseqgtr","gtreqless","lesseqqgtr","gtreqqless","doteqdot","Doteq","eqcirc","circeq","fallingdotseq","triangleq","backsim","thicksim","backsimeq","thickapprox","subseteqq","supseteqq","Subset","Supset","sqsubset","sqsupset","succcurlyeq","curlyeqprec","curlyeqsucc","succsim","succapprox","vartriangleleft","lhd","vartriangleright","rhd","trianglelefteq","unlhd","trianglerighteq","unrhd","vDash","Vdash","Vvdash","smallsmile","shortmid","smallfrown","shortparallel","bumpeq","between","Bumpeq","varpropto","backepsilon","blacktriangleleft","blacktriangleright","therefore","because","eqsim","vartriangle","Join","lneq","gneq","lneqq","gneqq","lvertneqq","gvertneqq","lnsim","gnsim","lnapprox","gnapprox","precneqq","succneqq","precnsim","succnsim","precnapprox","succnapprox","nvdash","nvDash","nVdash","nVDash","subsetneq","supsetneq","varsubsetneq","varsupsetneq","subsetneqq","supsetneqq","varsubsetneqq","varsupsetneqq","leftleftarrows","rightrightarrows","leftrightarrows","Lleftarrow","Rrightarrow","twoheadleftarrow","twoheadrightarrow","leftarrowtail","looparrowleft","looparrowright","leftrightharpoons","curvearrowleft","curvearrowright","circlearrowleft","circlearrowright","Lsh","Rsh","upuparrows","downdownarrows","upharpoonleft","upharpoonright","downharpoonleft","restriction","multimap","downharpoonright","leftrightsquigarrow","leadsto","dashrightarrow","dashleftarrow","nLeftarrow","nRightarrow","nLeftrightarrow","implies","impliedby","AmsCdMethods_js_1","CD","minCDarrowwidth","minCDarrowheight","BraketMethods_js_1","Set","ketbra","Ketbra","BussproofsMethods_js_1","AxiomC","UnaryInfC","BinaryInfC","TrinaryInfC","QuaternaryInfC","QuinaryInfC","RightLabel","LeftLabel","AXC","UIC","BIC","TIC","RL","LL","noLine","singleLine","solidLine","dashedLine","alwaysNoLine","alwaysSingleLine","alwaysSolidLine","alwaysDashedLine","alwaysRootAtTop","rootAtBottom","alwaysRootAtBottom","fCenter","Axiom","UnaryInf","BinaryInf","TrinaryInf","QuaternaryInf","QuinaryInf","prooftree","renewcommand","newenvironment","renewenvironment","stateMachine","lastInput","buffer","watchdog","output","stateMachines","transitions","iterateTransitions","matches","patterns","match_","task","iA","action_","actions","type_","option","concatArray","nextState","revisit","remainder","toContinue","iB","findObserveGroups","begExcl","begIncl","endIncl","endExcl","beg2Excl","beg2Incl","end2Incl","end2Excl","combine","_match","endChars","endMatchBegin","endMatchEnd","_findObserveGroups","match1","substring","group2","matchRet","q","text_","p1","p2","ret","kind_","createTransitions","stateArray","patternArray","dType","isAfterD","c1","c2","c3","c4","hyphenFollows","sb","entityFollows","rd","rq","rdt","rqt","color1","color2","md","mq","b5","mrm","reverse","res","cee","inputi","_go2","_goInner","buf","_getBond","b6","_getArrow","_getOperator","assertNever","assertString","PhysicsMethods_js_1","dotproduct","vdot","crossproduct","cross","cp","gradientnabla","imaginary","tagID","tagFormatConfig","TagClass","TagFormat","number","tagName","TagFormatConfiguration","tex_ts","module1","module2","module3","module4","module5","module6","module7","module8","module9","module10","module11","module12","StackItem","module13","module14","module15","SymbolMap","module16","Tags","module17","TexConstants","module18","module19","module20","module21","ams_cd","module22","module23","ams","module24","AmsItems","module25","module26","module27","module28","BaseItems","module29","module30","module31","module32","module33","BraketItems","module34","module35","bussproofs","module36","BussproofsItems","module37","module38","module39","module40","color_v2","ColorV2Configuration","module41","module42","module43","ColorUtil","module44","config_macros","module45","module46","module47","module48","module49","module50","module51","NewcommandItems","module52","module53","module54","noerrors","module55","noundefined","module56","physics","module57","PhysicsItems","module58","module59","module60","module61","module62","packageList","startup","registerConstructor","useInput","registerTeX"],"mappings":"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","file":"tex-full.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 89);\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ParseMethods_js_1 = require(\"./ParseMethods.js\");\nvar MapHandler_js_1 = require(\"./MapHandler.js\");\nvar Options_js_1 = require(\"../../util/Options.js\");\nvar sm = require(\"./SymbolMap.js\");\nvar MapHandler_js_2 = require(\"./MapHandler.js\");\nvar FunctionList_js_1 = require(\"../../util/FunctionList.js\");\nvar Configuration = (function () {\n    function Configuration(name, handler, fallback, items, tags, options, nodes, preprocessors, postprocessors, _a, _b) {\n        if (handler === void 0) { handler = {}; }\n        if (fallback === void 0) { fallback = {}; }\n        if (items === void 0) { items = {}; }\n        if (tags === void 0) { tags = {}; }\n        if (options === void 0) { options = {}; }\n        if (nodes === void 0) { nodes = {}; }\n        if (preprocessors === void 0) { preprocessors = []; }\n        if (postprocessors === void 0) { postprocessors = []; }\n        var _c = __read(_a, 2), init = _c[0], priority = _c[1];\n        var _d = __read(_b, 2), config = _d[0], configPriority = _d[1];\n        this.name = name;\n        this.handler = handler;\n        this.fallback = fallback;\n        this.items = items;\n        this.tags = tags;\n        this.options = options;\n        this.nodes = nodes;\n        this.preprocessors = preprocessors;\n        this.postprocessors = postprocessors;\n        this.initMethod = new FunctionList_js_1.FunctionList();\n        this.configMethod = new FunctionList_js_1.FunctionList();\n        if (init) {\n            this.initMethod.add(init, priority || 0);\n        }\n        if (config) {\n            this.configMethod.add(config, configPriority || priority || 0);\n        }\n        this.handler = Object.assign({ character: [], delimiter: [], macro: [], environment: [] }, handler);\n        ConfigurationHandler.set(name, this);\n    }\n    Configuration.create = function (name, config) {\n        if (config === void 0) { config = {}; }\n        return new Configuration(name, config.handler || {}, config.fallback || {}, config.items || {}, config.tags || {}, config.options || {}, config.nodes || {}, config.preprocessors || [], config.postprocessors || [], [config.init, config.priority], [config.config, config.configPriority]);\n    };\n    Configuration.empty = function () {\n        return Configuration.create('empty');\n    };\n    ;\n    Configuration.extension = function () {\n        new sm.MacroMap(MapHandler_js_1.ExtensionMaps.NEW_MACRO, {}, {});\n        new sm.DelimiterMap(MapHandler_js_1.ExtensionMaps.NEW_DELIMITER, ParseMethods_js_1.default.delimiter, {});\n        new sm.CommandMap(MapHandler_js_1.ExtensionMaps.NEW_COMMAND, {}, {});\n        new sm.EnvironmentMap(MapHandler_js_1.ExtensionMaps.NEW_ENVIRONMENT, ParseMethods_js_1.default.environment, {}, {});\n        return Configuration.create('extension', { handler: { character: [],\n                delimiter: [MapHandler_js_1.ExtensionMaps.NEW_DELIMITER],\n                macro: [MapHandler_js_1.ExtensionMaps.NEW_DELIMITER,\n                    MapHandler_js_1.ExtensionMaps.NEW_COMMAND,\n                    MapHandler_js_1.ExtensionMaps.NEW_MACRO],\n                environment: [MapHandler_js_1.ExtensionMaps.NEW_ENVIRONMENT]\n            } });\n    };\n    ;\n    Configuration.prototype.init = function (configuration) {\n        this.initMethod.execute(configuration);\n    };\n    Configuration.prototype.config = function (configuration, jax) {\n        var e_1, _a, e_2, _b;\n        this.configMethod.execute(configuration, jax);\n        try {\n            for (var _c = __values(this.preprocessors), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var pre = _d.value;\n                typeof pre === 'function' ? jax.preFilters.add(pre) :\n                    jax.preFilters.add(pre[0], pre[1]);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        try {\n            for (var _e = __values(this.postprocessors), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var post = _f.value;\n                typeof post === 'function' ? jax.postFilters.add(post) :\n                    jax.postFilters.add(post[0], post[1]);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    };\n    Configuration.prototype.append = function (config) {\n        var e_3, _a, e_4, _b, e_5, _c, e_6, _d, e_7, _e, e_8, _f;\n        var handlers = Object.keys(config.handler);\n        try {\n            for (var handlers_1 = __values(handlers), handlers_1_1 = handlers_1.next(); !handlers_1_1.done; handlers_1_1 = handlers_1.next()) {\n                var key = handlers_1_1.value;\n                try {\n                    for (var _g = (e_4 = void 0, __values(config.handler[key])), _h = _g.next(); !_h.done; _h = _g.next()) {\n                        var map = _h.value;\n                        this.handler[key].unshift(map);\n                    }\n                }\n                catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                finally {\n                    try {\n                        if (_h && !_h.done && (_b = _g.return)) _b.call(_g);\n                    }\n                    finally { if (e_4) throw e_4.error; }\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (handlers_1_1 && !handlers_1_1.done && (_a = handlers_1.return)) _a.call(handlers_1);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        Object.assign(this.fallback, config.fallback);\n        Object.assign(this.items, config.items);\n        Object.assign(this.tags, config.tags);\n        Options_js_1.defaultOptions(this.options, config.options);\n        Object.assign(this.nodes, config.nodes);\n        try {\n            for (var _j = __values(config.preprocessors), _k = _j.next(); !_k.done; _k = _j.next()) {\n                var pre = _k.value;\n                this.preprocessors.push(pre);\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_k && !_k.done && (_c = _j.return)) _c.call(_j);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n        ;\n        try {\n            for (var _l = __values(config.postprocessors), _m = _l.next(); !_m.done; _m = _l.next()) {\n                var post = _m.value;\n                this.postprocessors.push(post);\n            }\n        }\n        catch (e_6_1) { e_6 = { error: e_6_1 }; }\n        finally {\n            try {\n                if (_m && !_m.done && (_d = _l.return)) _d.call(_l);\n            }\n            finally { if (e_6) throw e_6.error; }\n        }\n        ;\n        try {\n            for (var _o = __values(config.initMethod), _p = _o.next(); !_p.done; _p = _o.next()) {\n                var init = _p.value;\n                this.initMethod.add(init.item, init.priority);\n            }\n        }\n        catch (e_7_1) { e_7 = { error: e_7_1 }; }\n        finally {\n            try {\n                if (_p && !_p.done && (_e = _o.return)) _e.call(_o);\n            }\n            finally { if (e_7) throw e_7.error; }\n        }\n        ;\n        try {\n            for (var _q = __values(config.configMethod), _r = _q.next(); !_r.done; _r = _q.next()) {\n                var init = _r.value;\n                this.configMethod.add(init.item, init.priority);\n            }\n        }\n        catch (e_8_1) { e_8 = { error: e_8_1 }; }\n        finally {\n            try {\n                if (_r && !_r.done && (_f = _q.return)) _f.call(_q);\n            }\n            finally { if (e_8) throw e_8.error; }\n        }\n        ;\n    };\n    Configuration.prototype.register = function (config, jax, options) {\n        var e_9, _a;\n        if (options === void 0) { options = {}; }\n        this.append(config);\n        config.init(this);\n        var parser = jax.parseOptions;\n        parser.handlers = new MapHandler_js_2.SubHandlers(this);\n        parser.nodeFactory.setCreators(config.nodes);\n        try {\n            for (var _b = __values(Object.keys(config.items)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var kind = _c.value;\n                parser.itemFactory.setNodeClass(kind, config.items[kind]);\n            }\n        }\n        catch (e_9_1) { e_9 = { error: e_9_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_9) throw e_9.error; }\n        }\n        Options_js_1.defaultOptions(parser.options, config.options);\n        Options_js_1.userOptions(parser.options, options);\n        config.config(this, jax);\n    };\n    return Configuration;\n}());\nexports.Configuration = Configuration;\n;\nvar ConfigurationHandler;\n(function (ConfigurationHandler) {\n    var maps = new Map();\n    ConfigurationHandler.set = function (name, map) {\n        maps.set(name, map);\n    };\n    ConfigurationHandler.get = function (name) {\n        return maps.get(name);\n    };\n    ConfigurationHandler.keys = function () {\n        return maps.keys();\n    };\n})(ConfigurationHandler = exports.ConfigurationHandler || (exports.ConfigurationHandler = {}));\n//# sourceMappingURL=Configuration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Symbol_js_1 = require(\"./Symbol.js\");\nvar MapHandler_js_1 = require(\"./MapHandler.js\");\nvar AbstractSymbolMap = (function () {\n    function AbstractSymbolMap(_name, _parser) {\n        this._name = _name;\n        this._parser = _parser;\n        MapHandler_js_1.MapHandler.register(this);\n    }\n    ;\n    Object.defineProperty(AbstractSymbolMap.prototype, \"name\", {\n        get: function () {\n            return this._name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AbstractSymbolMap.prototype.parserFor = function (symbol) {\n        return this.contains(symbol) ? this.parser : null;\n    };\n    AbstractSymbolMap.prototype.parse = function (_a) {\n        var _b = __read(_a, 2), env = _b[0], symbol = _b[1];\n        var parser = this.parserFor(symbol);\n        var mapped = this.lookup(symbol);\n        return (parser && mapped) ?\n            parser(env, mapped) || true : null;\n    };\n    Object.defineProperty(AbstractSymbolMap.prototype, \"parser\", {\n        get: function () {\n            return this._parser;\n        },\n        set: function (parser) {\n            this._parser = parser;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AbstractSymbolMap;\n}());\nexports.AbstractSymbolMap = AbstractSymbolMap;\nvar RegExpMap = (function (_super) {\n    __extends(RegExpMap, _super);\n    function RegExpMap(name, parser, _regExp) {\n        var _this = _super.call(this, name, parser) || this;\n        _this._regExp = _regExp;\n        return _this;\n    }\n    ;\n    RegExpMap.prototype.contains = function (symbol) {\n        return this._regExp.test(symbol);\n    };\n    RegExpMap.prototype.lookup = function (symbol) {\n        return this.contains(symbol) ? symbol : null;\n    };\n    return RegExpMap;\n}(AbstractSymbolMap));\nexports.RegExpMap = RegExpMap;\nvar AbstractParseMap = (function (_super) {\n    __extends(AbstractParseMap, _super);\n    function AbstractParseMap() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.map = new Map();\n        return _this;\n    }\n    AbstractParseMap.prototype.lookup = function (symbol) {\n        return this.map.get(symbol);\n    };\n    AbstractParseMap.prototype.contains = function (symbol) {\n        return this.map.has(symbol);\n    };\n    AbstractParseMap.prototype.add = function (symbol, object) {\n        this.map.set(symbol, object);\n    };\n    return AbstractParseMap;\n}(AbstractSymbolMap));\nexports.AbstractParseMap = AbstractParseMap;\nvar CharacterMap = (function (_super) {\n    __extends(CharacterMap, _super);\n    function CharacterMap(name, parser, json) {\n        var e_1, _a;\n        var _this = _super.call(this, name, parser) || this;\n        try {\n            for (var _b = __values(Object.keys(json)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var key = _c.value;\n                var value = json[key];\n                var _d = __read((typeof (value) === 'string') ? [value, null] : value, 2), char = _d[0], attrs = _d[1];\n                var character = new Symbol_js_1.Symbol(key, char, attrs);\n                _this.add(key, character);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return _this;\n    }\n    ;\n    return CharacterMap;\n}(AbstractParseMap));\nexports.CharacterMap = CharacterMap;\nvar DelimiterMap = (function (_super) {\n    __extends(DelimiterMap, _super);\n    function DelimiterMap() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DelimiterMap.prototype.parse = function (_a) {\n        var _b = __read(_a, 2), env = _b[0], symbol = _b[1];\n        return _super.prototype.parse.call(this, [env, '\\\\' + symbol]);\n    };\n    return DelimiterMap;\n}(CharacterMap));\nexports.DelimiterMap = DelimiterMap;\nvar MacroMap = (function (_super) {\n    __extends(MacroMap, _super);\n    function MacroMap(name, json, functionMap) {\n        var e_2, _a;\n        var _this = _super.call(this, name, null) || this;\n        try {\n            for (var _b = __values(Object.keys(json)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var key = _c.value;\n                var value = json[key];\n                var _d = __read((typeof (value) === 'string') ? [value] : value), func = _d[0], attrs = _d.slice(1);\n                var character = new Symbol_js_1.Macro(key, functionMap[func], attrs);\n                _this.add(key, character);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return _this;\n    }\n    ;\n    MacroMap.prototype.parserFor = function (symbol) {\n        var macro = this.lookup(symbol);\n        return macro ? macro.func : null;\n    };\n    MacroMap.prototype.parse = function (_a) {\n        var _b = __read(_a, 2), env = _b[0], symbol = _b[1];\n        var macro = this.lookup(symbol);\n        var parser = this.parserFor(symbol);\n        if (!macro || !parser) {\n            return null;\n        }\n        return parser.apply(void 0, __spread([env, macro.symbol], macro.args)) || true;\n    };\n    return MacroMap;\n}(AbstractParseMap));\nexports.MacroMap = MacroMap;\nvar CommandMap = (function (_super) {\n    __extends(CommandMap, _super);\n    function CommandMap() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CommandMap.prototype.parse = function (_a) {\n        var _b = __read(_a, 2), env = _b[0], symbol = _b[1];\n        var macro = this.lookup(symbol);\n        var parser = this.parserFor(symbol);\n        if (!macro || !parser) {\n            return null;\n        }\n        var args = ['\\\\' + macro.symbol].concat(macro.args);\n        if (!parser) {\n            return null;\n        }\n        var saveCommand = env.currentCS;\n        env.currentCS = '\\\\' + symbol;\n        var result = parser.apply(void 0, __spread([env, '\\\\' + macro.symbol], macro.args));\n        env.currentCS = saveCommand;\n        return result || true;\n    };\n    return CommandMap;\n}(MacroMap));\nexports.CommandMap = CommandMap;\nvar EnvironmentMap = (function (_super) {\n    __extends(EnvironmentMap, _super);\n    function EnvironmentMap(name, parser, json, functionMap) {\n        var _this = _super.call(this, name, json, functionMap) || this;\n        _this.parser = parser;\n        return _this;\n    }\n    ;\n    EnvironmentMap.prototype.parse = function (_a) {\n        var _b = __read(_a, 2), env = _b[0], symbol = _b[1];\n        var macro = this.lookup(symbol);\n        var envParser = this.parserFor(symbol);\n        if (!macro || !envParser) {\n            return null;\n        }\n        this.parser(env, macro.symbol, envParser, macro.args);\n        return true;\n    };\n    return EnvironmentMap;\n}(MacroMap));\nexports.EnvironmentMap = EnvironmentMap;\n//# sourceMappingURL=SymbolMap.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TexError = (function () {\n    function TexError(id, message) {\n        var rest = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            rest[_i - 2] = arguments[_i];\n        }\n        this.id = id;\n        this.message = TexError.processString(message, rest);\n    }\n    TexError.processString = function (str, args) {\n        var parts = str.split(TexError.pattern);\n        for (var i = 1, m = parts.length; i < m; i += 2) {\n            var c = parts[i].charAt(0);\n            if (c >= '0' && c <= '9') {\n                parts[i] = args[parseInt(parts[i], 10) - 1];\n                if (typeof parts[i] === 'number') {\n                    parts[i] = parts[i].toString();\n                }\n            }\n            else if (c === '{') {\n                c = parts[i].substr(1);\n                if (c >= '0' && c <= '9') {\n                    parts[i] = args[parseInt(parts[i].substr(1, parts[i].length - 2), 10) - 1];\n                    if (typeof parts[i] === 'number') {\n                        parts[i] = parts[i].toString();\n                    }\n                }\n                else {\n                    var match = parts[i].match(/^\\{([a-z]+):%(\\d+)\\|(.*)\\}$/);\n                    if (match) {\n                        parts[i] = '%' + parts[i];\n                    }\n                }\n            }\n            if (parts[i] == null) {\n                parts[i] = '???';\n            }\n        }\n        return parts.join('');\n    };\n    TexError.pattern = /%(\\d+|\\{\\d+\\}|\\{[a-z]+:\\%\\d+(?:\\|(?:%\\{\\d+\\}|%.|[^\\}])*)+\\}|.)/g;\n    return TexError;\n}());\nexports.default = TexError;\n//# sourceMappingURL=TexError.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MmlNode_js_1 = require(\"../../core/MmlTree/MmlNode.js\");\nvar mo_js_1 = require(\"../../core/MmlTree/MmlNodes/mo.js\");\nvar NodeUtil;\n(function (NodeUtil) {\n    var attrs = new Map([\n        ['autoOP', true],\n        ['fnOP', true],\n        ['movesupsub', true],\n        ['subsupOK', true],\n        ['texprimestyle', true],\n        ['useHeight', true],\n        ['variantForm', true],\n        ['withDelims', true],\n        ['open', true],\n        ['close', true]\n    ]);\n    var methodOut = false;\n    function createEntity(code) {\n        return String.fromCharCode(parseInt(code, 16));\n    }\n    NodeUtil.createEntity = createEntity;\n    ;\n    function getChildren(node) {\n        return node.childNodes;\n    }\n    NodeUtil.getChildren = getChildren;\n    ;\n    function getText(node) {\n        return node.getText();\n    }\n    NodeUtil.getText = getText;\n    ;\n    function appendChildren(node, children) {\n        var e_1, _a;\n        try {\n            for (var children_1 = __values(children), children_1_1 = children_1.next(); !children_1_1.done; children_1_1 = children_1.next()) {\n                var child = children_1_1.value;\n                node.appendChild(child);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (children_1_1 && !children_1_1.done && (_a = children_1.return)) _a.call(children_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n    NodeUtil.appendChildren = appendChildren;\n    ;\n    function setAttribute(node, attribute, value) {\n        node.attributes.set(attribute, value);\n    }\n    NodeUtil.setAttribute = setAttribute;\n    ;\n    function setProperty(node, property, value) {\n        node.setProperty(property, value);\n    }\n    NodeUtil.setProperty = setProperty;\n    ;\n    function setProperties(node, properties) {\n        var e_2, _a;\n        try {\n            for (var _b = __values(Object.keys(properties)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var name_1 = _c.value;\n                var value = properties[name_1];\n                if (name_1 === 'texClass') {\n                    node.texClass = value;\n                    node.setProperty(name_1, value);\n                }\n                else if (name_1 === 'movablelimits') {\n                    node.setProperty('movablelimits', value);\n                    if (node.isKind('mo') || node.isKind('mstyle')) {\n                        node.attributes.set('movablelimits', value);\n                    }\n                }\n                else if (name_1 === 'inferred') {\n                }\n                else if (attrs.has(name_1)) {\n                    node.setProperty(name_1, value);\n                }\n                else {\n                    node.attributes.set(name_1, value);\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    }\n    NodeUtil.setProperties = setProperties;\n    ;\n    function getProperty(node, property) {\n        return node.getProperty(property);\n    }\n    NodeUtil.getProperty = getProperty;\n    ;\n    function getAttribute(node, attr) {\n        return node.attributes.get(attr);\n    }\n    NodeUtil.getAttribute = getAttribute;\n    function removeProperties(node) {\n        var properties = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            properties[_i - 1] = arguments[_i];\n        }\n        node.removeProperty.apply(node, __spread(properties));\n    }\n    NodeUtil.removeProperties = removeProperties;\n    function getChildAt(node, position) {\n        return node.childNodes[position];\n    }\n    NodeUtil.getChildAt = getChildAt;\n    ;\n    function setChild(node, position, child) {\n        var children = node.childNodes;\n        children[position] = child;\n        if (child) {\n            child.parent = node;\n        }\n    }\n    NodeUtil.setChild = setChild;\n    ;\n    function copyChildren(oldNode, newNode) {\n        var children = oldNode.childNodes;\n        for (var i = 0; i < children.length; i++) {\n            setChild(newNode, i, children[i]);\n        }\n    }\n    NodeUtil.copyChildren = copyChildren;\n    ;\n    function copyAttributes(oldNode, newNode) {\n        newNode.attributes = oldNode.attributes;\n        setProperties(newNode, oldNode.getAllProperties());\n    }\n    NodeUtil.copyAttributes = copyAttributes;\n    ;\n    function isType(node, kind) {\n        return node.isKind(kind);\n    }\n    NodeUtil.isType = isType;\n    ;\n    function isEmbellished(node) {\n        return node.isEmbellished;\n    }\n    NodeUtil.isEmbellished = isEmbellished;\n    ;\n    function getTexClass(node) {\n        return node.texClass;\n    }\n    NodeUtil.getTexClass = getTexClass;\n    ;\n    function getCoreMO(node) {\n        return node.coreMO();\n    }\n    NodeUtil.getCoreMO = getCoreMO;\n    ;\n    function isNode(item) {\n        return item instanceof MmlNode_js_1.AbstractMmlNode || item instanceof MmlNode_js_1.AbstractMmlEmptyNode;\n    }\n    NodeUtil.isNode = isNode;\n    ;\n    function isInferred(node) {\n        return node.isInferred;\n    }\n    NodeUtil.isInferred = isInferred;\n    ;\n    function getForm(node) {\n        var e_3, _a;\n        if (!isType(node, 'mo')) {\n            return null;\n        }\n        var mo = node;\n        var forms = mo.getForms();\n        try {\n            for (var forms_1 = __values(forms), forms_1_1 = forms_1.next(); !forms_1_1.done; forms_1_1 = forms_1.next()) {\n                var form = forms_1_1.value;\n                var symbol = mo_js_1.MmlMo.OPTABLE[form][mo.getText()];\n                if (symbol) {\n                    return symbol;\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (forms_1_1 && !forms_1_1.done && (_a = forms_1.return)) _a.call(forms_1);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return null;\n    }\n    NodeUtil.getForm = getForm;\n    ;\n})(NodeUtil || (NodeUtil = {}));\nexports.default = NodeUtil;\n//# sourceMappingURL=NodeUtil.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MmlNode_js_1 = require(\"../../core/MmlTree/MmlNode.js\");\nvar NodeUtil_js_1 = require(\"./NodeUtil.js\");\nvar TexParser_js_1 = require(\"./TexParser.js\");\nvar TexError_js_1 = require(\"./TexError.js\");\nvar Entities_js_1 = require(\"../../util/Entities.js\");\nrequire(\"../../util/entities/n.js\");\nvar ParseUtil;\n(function (ParseUtil) {\n    var emPerInch = 7.2;\n    var pxPerInch = 72;\n    var UNIT_CASES = {\n        'em': function (m) { return m; },\n        'ex': function (m) { return m * .43; },\n        'pt': function (m) { return m / 10; },\n        'pc': function (m) { return m * 1.2; },\n        'px': function (m) { return m * emPerInch / pxPerInch; },\n        'in': function (m) { return m * emPerInch; },\n        'cm': function (m) { return m * emPerInch / 2.54; },\n        'mm': function (m) { return m * emPerInch / 25.4; },\n        'mu': function (m) { return m / 18; },\n    };\n    var num = '([-+]?([.,]\\\\d+|\\\\d+([.,]\\\\d*)?))';\n    var unit = '(pt|em|ex|mu|px|mm|cm|in|pc)';\n    var dimenEnd = RegExp('^\\\\s*' + num + '\\\\s*' + unit + '\\\\s*$');\n    var dimenRest = RegExp('^\\\\s*' + num + '\\\\s*' + unit + ' ?');\n    function matchDimen(dim, rest) {\n        if (rest === void 0) { rest = false; }\n        var match = dim.match(rest ? dimenRest : dimenEnd);\n        return match ?\n            muReplace([match[1].replace(/,/, '.'), match[4], match[0].length]) :\n            [null, null, 0];\n    }\n    ParseUtil.matchDimen = matchDimen;\n    function muReplace(_a) {\n        var _b = __read(_a, 3), value = _b[0], unit = _b[1], length = _b[2];\n        if (unit !== 'mu') {\n            return [value, unit, length];\n        }\n        var em = Em(UNIT_CASES[unit](parseFloat(value || '1')));\n        return [em.slice(0, -2), 'em', length];\n    }\n    ;\n    function dimen2em(dim) {\n        var _a = __read(matchDimen(dim), 3), value = _a[0], unit = _a[1], _ = _a[2];\n        var m = parseFloat(value || '1');\n        var func = UNIT_CASES[unit];\n        return func ? func(m) : 0;\n    }\n    ParseUtil.dimen2em = dimen2em;\n    function Em(m) {\n        if (Math.abs(m) < .0006) {\n            return '0em';\n        }\n        return m.toFixed(3).replace(/\\.?0+$/, '') + 'em';\n    }\n    ParseUtil.Em = Em;\n    function fenced(configuration, open, mml, close, big) {\n        if (big === void 0) { big = ''; }\n        var nf = configuration.nodeFactory;\n        var mrow = nf.create('node', 'mrow', [], { open: open, close: close, texClass: MmlNode_js_1.TEXCLASS.INNER });\n        var mo;\n        if (big) {\n            mo = new TexParser_js_1.default('\\\\' + big + 'l' + open, configuration.parser.stack.env, configuration).mml();\n        }\n        else {\n            var openNode = nf.create('text', open);\n            mo = nf.create('node', 'mo', [], { fence: true, stretchy: true, symmetric: true, texClass: MmlNode_js_1.TEXCLASS.OPEN }, openNode);\n        }\n        NodeUtil_js_1.default.appendChildren(mrow, [mo]);\n        if (NodeUtil_js_1.default.isType(mml, 'mrow') && NodeUtil_js_1.default.isInferred(mml)) {\n            NodeUtil_js_1.default.appendChildren(mrow, NodeUtil_js_1.default.getChildren(mml));\n        }\n        else {\n            NodeUtil_js_1.default.appendChildren(mrow, [mml]);\n        }\n        if (big) {\n            mo = new TexParser_js_1.default('\\\\' + big + 'r' + close, configuration.parser.stack.env, configuration).mml();\n        }\n        else {\n            var closeNode = nf.create('text', close);\n            mo = nf.create('node', 'mo', [], { fence: true, stretchy: true, symmetric: true, texClass: MmlNode_js_1.TEXCLASS.CLOSE }, closeNode);\n        }\n        NodeUtil_js_1.default.appendChildren(mrow, [mo]);\n        return mrow;\n    }\n    ParseUtil.fenced = fenced;\n    function fixedFence(configuration, open, mml, close) {\n        var mrow = configuration.nodeFactory.create('node', 'mrow', [], { open: open, close: close, texClass: MmlNode_js_1.TEXCLASS.ORD });\n        if (open) {\n            NodeUtil_js_1.default.appendChildren(mrow, [mathPalette(configuration, open, 'l')]);\n        }\n        if (NodeUtil_js_1.default.isType(mml, 'mrow')) {\n            NodeUtil_js_1.default.appendChildren(mrow, NodeUtil_js_1.default.getChildren(mml));\n        }\n        else {\n            NodeUtil_js_1.default.appendChildren(mrow, [mml]);\n        }\n        if (close) {\n            NodeUtil_js_1.default.appendChildren(mrow, [mathPalette(configuration, close, 'r')]);\n        }\n        return mrow;\n    }\n    ParseUtil.fixedFence = fixedFence;\n    function mathPalette(configuration, fence, side) {\n        if (fence === '{' || fence === '}') {\n            fence = '\\\\' + fence;\n        }\n        var D = '{\\\\bigg' + side + ' ' + fence + '}';\n        var T = '{\\\\big' + side + ' ' + fence + '}';\n        return new TexParser_js_1.default('\\\\mathchoice' + D + T + T + T, {}, configuration).mml();\n    }\n    ParseUtil.mathPalette = mathPalette;\n    function fixInitialMO(configuration, nodes) {\n        for (var i = 0, m = nodes.length; i < m; i++) {\n            var child = nodes[i];\n            if (child && (!NodeUtil_js_1.default.isType(child, 'mspace') &&\n                (!NodeUtil_js_1.default.isType(child, 'TeXAtom') ||\n                    (NodeUtil_js_1.default.getChildren(child)[0] &&\n                        NodeUtil_js_1.default.getChildren(NodeUtil_js_1.default.getChildren(child)[0]).length)))) {\n                if (NodeUtil_js_1.default.isEmbellished(child) ||\n                    (NodeUtil_js_1.default.isType(child, 'TeXAtom') && NodeUtil_js_1.default.getTexClass(child) === MmlNode_js_1.TEXCLASS.REL)) {\n                    var mi = configuration.nodeFactory.create('node', 'mi');\n                    nodes.unshift(mi);\n                }\n                break;\n            }\n        }\n    }\n    ParseUtil.fixInitialMO = fixInitialMO;\n    function internalMath(parser, text, level) {\n        var def = (parser.stack.env['font'] ? { mathvariant: parser.stack.env['font'] } : {});\n        var mml = [], i = 0, k = 0, c, node, match = '', braces = 0;\n        if (text.match(/\\\\?[${}\\\\]|\\\\\\(|\\\\(eq)?ref\\s*\\{/)) {\n            while (i < text.length) {\n                c = text.charAt(i++);\n                if (c === '$') {\n                    if (match === '$' && braces === 0) {\n                        node = parser.create('node', 'TeXAtom', [(new TexParser_js_1.default(text.slice(k, i - 1), {}, parser.configuration)).mml()]);\n                        mml.push(node);\n                        match = '';\n                        k = i;\n                    }\n                    else if (match === '') {\n                        if (k < i - 1) {\n                            mml.push(internalText(parser, text.slice(k, i - 1), def));\n                        }\n                        match = '$';\n                        k = i;\n                    }\n                }\n                else if (c === '{' && match !== '') {\n                    braces++;\n                }\n                else if (c === '}') {\n                    if (match === '}' && braces === 0) {\n                        var atom = (new TexParser_js_1.default(text.slice(k, i), {}, parser.configuration)).mml();\n                        node = parser.create('node', 'TeXAtom', [atom], def);\n                        mml.push(node);\n                        match = '';\n                        k = i;\n                    }\n                    else if (match !== '') {\n                        if (braces) {\n                            braces--;\n                        }\n                    }\n                }\n                else if (c === '\\\\') {\n                    if (match === '' && text.substr(i).match(/^(eq)?ref\\s*\\{/)) {\n                        var len = RegExp['$&'].length;\n                        if (k < i - 1) {\n                            mml.push(internalText(parser, text.slice(k, i - 1), def));\n                        }\n                        match = '}';\n                        k = i - 1;\n                        i += len;\n                    }\n                    else {\n                        c = text.charAt(i++);\n                        if (c === '(' && match === '') {\n                            if (k < i - 2) {\n                                mml.push(internalText(parser, text.slice(k, i - 2), def));\n                            }\n                            match = ')';\n                            k = i;\n                        }\n                        else if (c === ')' && match === ')' && braces === 0) {\n                            node = parser.create('node', 'TeXAtom', [(new TexParser_js_1.default(text.slice(k, i - 2), {}, parser.configuration)).mml()]);\n                            mml.push(node);\n                            match = '';\n                            k = i;\n                        }\n                        else if (c.match(/[${}\\\\]/) && match === '') {\n                            i--;\n                            text = text.substr(0, i - 1) + text.substr(i);\n                        }\n                    }\n                }\n            }\n            if (match !== '') {\n                throw new TexError_js_1.default('MathNotTerminated', 'Math not terminated in text box');\n            }\n        }\n        if (k < text.length) {\n            mml.push(internalText(parser, text.slice(k), def));\n        }\n        if (level != null) {\n            mml = [parser.create('node', 'mstyle', mml, { displaystyle: false, scriptlevel: level })];\n        }\n        else if (mml.length > 1) {\n            mml = [parser.create('node', 'mrow', mml)];\n        }\n        return mml;\n    }\n    ParseUtil.internalMath = internalMath;\n    function internalText(parser, text, def) {\n        text = text.replace(/^\\s+/, Entities_js_1.entities.nbsp).replace(/\\s+$/, Entities_js_1.entities.nbsp);\n        var textNode = parser.create('text', text);\n        return parser.create('node', 'mtext', [], def, textNode);\n    }\n    function trimSpaces(text) {\n        if (typeof (text) !== 'string') {\n            return text;\n        }\n        var TEXT = text.trim();\n        if (TEXT.match(/\\\\$/) && text.match(/ $/)) {\n            TEXT += ' ';\n        }\n        return TEXT;\n    }\n    ParseUtil.trimSpaces = trimSpaces;\n    function setArrayAlign(array, align) {\n        align = ParseUtil.trimSpaces(align || '');\n        if (align === 't') {\n            array.arraydef.align = 'baseline 1';\n        }\n        else if (align === 'b') {\n            array.arraydef.align = 'baseline -1';\n        }\n        else if (align === 'c') {\n            array.arraydef.align = 'center';\n        }\n        else if (align) {\n            array.arraydef.align = align;\n        }\n        return array;\n    }\n    ParseUtil.setArrayAlign = setArrayAlign;\n    function substituteArgs(parser, args, str) {\n        var text = '';\n        var newstring = '';\n        var i = 0;\n        while (i < str.length) {\n            var c = str.charAt(i++);\n            if (c === '\\\\') {\n                text += c + str.charAt(i++);\n            }\n            else if (c === '#') {\n                c = str.charAt(i++);\n                if (c === '#') {\n                    text += c;\n                }\n                else {\n                    if (!c.match(/[1-9]/) || parseInt(c, 10) > args.length) {\n                        throw new TexError_js_1.default('IllegalMacroParam', 'Illegal macro parameter reference');\n                    }\n                    newstring = addArgs(parser, addArgs(parser, newstring, text), args[parseInt(c, 10) - 1]);\n                    text = '';\n                }\n            }\n            else {\n                text += c;\n            }\n        }\n        return addArgs(parser, newstring, text);\n    }\n    ParseUtil.substituteArgs = substituteArgs;\n    function addArgs(parser, s1, s2) {\n        if (s2.match(/^[a-z]/i) && s1.match(/(^|[^\\\\])(\\\\\\\\)*\\\\[a-z]+$/i)) {\n            s1 += ' ';\n        }\n        if (s1.length + s2.length > parser.configuration.options['maxBuffer']) {\n            throw new TexError_js_1.default('MaxBufferSize', 'MathJax internal buffer size exceeded; is there a' +\n                ' recursive macro call?');\n        }\n        return s1 + s2;\n    }\n    ParseUtil.addArgs = addArgs;\n    function checkEqnEnv(parser) {\n        if (parser.stack.global.eqnenv) {\n            throw new TexError_js_1.default('ErroneousNestingEq', 'Erroneous nesting of equation structures');\n        }\n        parser.stack.global.eqnenv = true;\n    }\n    ParseUtil.checkEqnEnv = checkEqnEnv;\n    ;\n    function MmlFilterAttribute(parser, name, value) {\n        return value;\n    }\n    ParseUtil.MmlFilterAttribute = MmlFilterAttribute;\n    ;\n    function getFontDef(parser) {\n        var font = parser.stack.env['font'];\n        return (font ? { mathvariant: font } : {});\n    }\n    ParseUtil.getFontDef = getFontDef;\n    ;\n    function keyvalOptions(attrib, allowed, error) {\n        var e_1, _a;\n        if (allowed === void 0) { allowed = null; }\n        if (error === void 0) { error = false; }\n        var def = readKeyval(attrib);\n        if (allowed) {\n            try {\n                for (var _b = __values(Object.keys(def)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var key = _c.value;\n                    if (!allowed.hasOwnProperty(key)) {\n                        if (error) {\n                            throw new TexError_js_1.default('InvalidOption', 'Invalid optional argument: %1', key);\n                        }\n                        delete def[key];\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        }\n        return def;\n    }\n    ParseUtil.keyvalOptions = keyvalOptions;\n    function readKeyval(text) {\n        var _a, _b;\n        var options = {};\n        var rest = text;\n        var end, key, val;\n        while (rest) {\n            _a = __read(readValue(rest, ['=', ',']), 3), key = _a[0], end = _a[1], rest = _a[2];\n            if (end === '=') {\n                _b = __read(readValue(rest, [',']), 3), val = _b[0], end = _b[1], rest = _b[2];\n                val = (val === 'false' || val === 'true') ?\n                    JSON.parse(val) : val;\n                options[key] = val;\n            }\n            else if (key) {\n                options[key] = true;\n            }\n        }\n        return options;\n    }\n    function removeBraces(text, count) {\n        while (count > 0) {\n            text = text.trim().slice(1, -1);\n            count--;\n        }\n        return text.trim();\n    }\n    function readValue(text, end) {\n        var length = text.length;\n        var braces = 0;\n        var value = '';\n        var index = 0;\n        var start = 0;\n        var startCount = true;\n        var stopCount = false;\n        while (index < length) {\n            var c = text[index++];\n            switch (c) {\n                case ' ':\n                    break;\n                case '{':\n                    if (startCount) {\n                        start++;\n                    }\n                    else {\n                        stopCount = false;\n                        if (start > braces) {\n                            start = braces;\n                        }\n                    }\n                    braces++;\n                    break;\n                case '}':\n                    if (braces) {\n                        braces--;\n                    }\n                    if (startCount || stopCount) {\n                        start--;\n                        stopCount = true;\n                    }\n                    startCount = false;\n                    break;\n                default:\n                    if (!braces && end.indexOf(c) !== -1) {\n                        return [stopCount ? 'true' :\n                                removeBraces(value, start), c, text.slice(index)];\n                    }\n                    startCount = false;\n                    stopCount = false;\n            }\n            value += c;\n        }\n        if (braces) {\n            throw new TexError_js_1.default('ExtraOpenMissingClose', 'Extra open brace or missing close brace');\n        }\n        return [stopCount ? 'true' : removeBraces(value, start), '', text.slice(index)];\n    }\n    ;\n})(ParseUtil || (ParseUtil = {}));\nexports.default = ParseUtil;\n//# sourceMappingURL=ParseUtil.js.map","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.TEXCLASS = MathJax._.core.MmlTree.MmlNode.TEXCLASS;\nexports.TEXCLASSNAMES = MathJax._.core.MmlTree.MmlNode.TEXCLASSNAMES;\nexports.indentAttributes = MathJax._.core.MmlTree.MmlNode.indentAttributes;\nexports.AbstractMmlNode = MathJax._.core.MmlTree.MmlNode.AbstractMmlNode;\nexports.AbstractMmlTokenNode = MathJax._.core.MmlTree.MmlNode.AbstractMmlTokenNode;\nexports.AbstractMmlLayoutNode = MathJax._.core.MmlTree.MmlNode.AbstractMmlLayoutNode;\nexports.AbstractMmlBaseNode = MathJax._.core.MmlTree.MmlNode.AbstractMmlBaseNode;\nexports.AbstractMmlEmptyNode = MathJax._.core.MmlTree.MmlNode.AbstractMmlEmptyNode;\nexports.TextNode = MathJax._.core.MmlTree.MmlNode.TextNode;\nexports.XMLNode = MathJax._.core.MmlTree.MmlNode.XMLNode;\n","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ParseUtil_js_1 = require(\"./ParseUtil.js\");\nvar Stack_js_1 = require(\"./Stack.js\");\nvar TexError_js_1 = require(\"./TexError.js\");\nvar MmlNode_js_1 = require(\"../../core/MmlTree/MmlNode.js\");\nvar TexParser = (function () {\n    function TexParser(_string, env, configuration) {\n        var e_1, _a;\n        this._string = _string;\n        this.configuration = configuration;\n        this.macroCount = 0;\n        this.i = 0;\n        this.currentCS = '';\n        var inner = env.hasOwnProperty('isInner');\n        var isInner = env['isInner'];\n        delete env['isInner'];\n        var ENV;\n        if (env) {\n            ENV = {};\n            try {\n                for (var _b = __values(Object.keys(env)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var id = _c.value;\n                    ENV[id] = env[id];\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        }\n        this.configuration.pushParser(this);\n        this.stack = new Stack_js_1.default(this.itemFactory, ENV, inner ? isInner : true);\n        this.Parse();\n        this.Push(this.itemFactory.create('stop'));\n    }\n    Object.defineProperty(TexParser.prototype, \"options\", {\n        get: function () {\n            return this.configuration.options;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TexParser.prototype, \"itemFactory\", {\n        get: function () {\n            return this.configuration.itemFactory;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TexParser.prototype, \"tags\", {\n        get: function () {\n            return this.configuration.tags;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TexParser.prototype, \"string\", {\n        get: function () {\n            return this._string;\n        },\n        set: function (str) {\n            this._string = str;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TexParser.prototype.parse = function (kind, input) {\n        return this.configuration.handlers.get(kind).parse(input);\n    };\n    TexParser.prototype.lookup = function (kind, symbol) {\n        return this.configuration.handlers.get(kind).lookup(symbol);\n    };\n    TexParser.prototype.contains = function (kind, symbol) {\n        return this.configuration.handlers.get(kind).contains(symbol);\n    };\n    TexParser.prototype.toString = function () {\n        var e_2, _a;\n        var str = '';\n        try {\n            for (var _b = __values(Array.from(this.configuration.handlers.keys())), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var config = _c.value;\n                str += config + ': ' +\n                    this.configuration.handlers.get(config) + '\\n';\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return str;\n    };\n    TexParser.prototype.Parse = function () {\n        var c;\n        var n;\n        while (this.i < this.string.length) {\n            c = this.string.charAt(this.i++);\n            n = c.charCodeAt(0);\n            if (n >= 0xD800 && n < 0xDC00) {\n                c += this.string.charAt(this.i++);\n            }\n            this.parse('character', [this, c]);\n        }\n    };\n    TexParser.prototype.Push = function (arg) {\n        if (arg instanceof MmlNode_js_1.AbstractMmlNode && arg.isInferred) {\n            this.PushAll(arg.childNodes);\n        }\n        else {\n            this.stack.Push(arg);\n        }\n    };\n    TexParser.prototype.PushAll = function (args) {\n        var e_3, _a;\n        try {\n            for (var args_1 = __values(args), args_1_1 = args_1.next(); !args_1_1.done; args_1_1 = args_1.next()) {\n                var arg = args_1_1.value;\n                this.stack.Push(arg);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (args_1_1 && !args_1_1.done && (_a = args_1.return)) _a.call(args_1);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n    };\n    TexParser.prototype.mml = function () {\n        if (!this.stack.Top().isKind('mml')) {\n            return null;\n        }\n        var node = this.stack.Top().First;\n        this.configuration.popParser();\n        return node;\n    };\n    TexParser.prototype.convertDelimiter = function (c) {\n        var symbol = this.lookup('delimiter', c);\n        return symbol ? symbol.char : null;\n    };\n    TexParser.prototype.nextIsSpace = function () {\n        return this.string.charAt(this.i).match(/\\s/);\n    };\n    TexParser.prototype.GetNext = function () {\n        while (this.nextIsSpace()) {\n            this.i++;\n        }\n        return this.string.charAt(this.i);\n    };\n    TexParser.prototype.GetCS = function () {\n        var CS = this.string.slice(this.i).match(/^([a-z]+|.) ?/i);\n        if (CS) {\n            this.i += CS[1].length;\n            return CS[1];\n        }\n        else {\n            this.i++;\n            return ' ';\n        }\n    };\n    TexParser.prototype.GetArgument = function (name, noneOK) {\n        switch (this.GetNext()) {\n            case '':\n                if (!noneOK) {\n                    throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', this.currentCS);\n                }\n                return null;\n            case '}':\n                if (!noneOK) {\n                    throw new TexError_js_1.default('ExtraCloseMissingOpen', 'Extra close brace or missing open brace');\n                }\n                return null;\n            case '\\\\':\n                this.i++;\n                return '\\\\' + this.GetCS();\n            case '{':\n                var j = ++this.i, parens = 1;\n                while (this.i < this.string.length) {\n                    switch (this.string.charAt(this.i++)) {\n                        case '\\\\':\n                            this.i++;\n                            break;\n                        case '{':\n                            parens++;\n                            break;\n                        case '}':\n                            if (--parens === 0) {\n                                return this.string.slice(j, this.i - 1);\n                            }\n                            break;\n                    }\n                }\n                throw new TexError_js_1.default('MissingCloseBrace', 'Missing close brace');\n        }\n        return this.string.charAt(this.i++);\n    };\n    TexParser.prototype.GetBrackets = function (name, def) {\n        if (this.GetNext() !== '[') {\n            return def;\n        }\n        var j = ++this.i, parens = 0;\n        while (this.i < this.string.length) {\n            switch (this.string.charAt(this.i++)) {\n                case '{':\n                    parens++;\n                    break;\n                case '\\\\':\n                    this.i++;\n                    break;\n                case '}':\n                    if (parens-- <= 0) {\n                        throw new TexError_js_1.default('ExtraCloseLooking', 'Extra close brace while looking for %1', '\\']\\'');\n                    }\n                    break;\n                case ']':\n                    if (parens === 0) {\n                        return this.string.slice(j, this.i - 1);\n                    }\n                    break;\n            }\n        }\n        throw new TexError_js_1.default('MissingCloseBracket', 'Could not find closing \\']\\' for argument to %1', this.currentCS);\n    };\n    TexParser.prototype.GetDelimiter = function (name, braceOK) {\n        while (this.nextIsSpace()) {\n            this.i++;\n        }\n        var c = this.string.charAt(this.i);\n        this.i++;\n        if (this.i <= this.string.length) {\n            if (c === '\\\\') {\n                c += this.GetCS();\n            }\n            else if (c === '{' && braceOK) {\n                this.i--;\n                c = this.GetArgument(name);\n            }\n            if (this.contains('delimiter', c)) {\n                return this.convertDelimiter(c);\n            }\n        }\n        throw new TexError_js_1.default('MissingOrUnrecognizedDelim', 'Missing or unrecognized delimiter for %1', this.currentCS);\n    };\n    TexParser.prototype.GetDimen = function (name) {\n        if (this.nextIsSpace()) {\n            this.i++;\n        }\n        if (this.string.charAt(this.i) === '{') {\n            var dimen = this.GetArgument(name);\n            var _a = __read(ParseUtil_js_1.default.matchDimen(dimen), 3), value = _a[0], unit = _a[1], _ = _a[2];\n            if (value) {\n                return value + unit;\n            }\n        }\n        else {\n            var dimen = this.string.slice(this.i);\n            var _b = __read(ParseUtil_js_1.default.matchDimen(dimen, true), 3), value = _b[0], unit = _b[1], length_1 = _b[2];\n            if (value) {\n                this.i += length_1;\n                return value + unit;\n            }\n        }\n        throw new TexError_js_1.default('MissingDimOrUnits', 'Missing dimension or its units for %1', this.currentCS);\n    };\n    TexParser.prototype.GetUpTo = function (name, token) {\n        while (this.nextIsSpace()) {\n            this.i++;\n        }\n        var j = this.i;\n        var parens = 0;\n        while (this.i < this.string.length) {\n            var k = this.i;\n            var c = this.string.charAt(this.i++);\n            switch (c) {\n                case '\\\\':\n                    c += this.GetCS();\n                    break;\n                case '{':\n                    parens++;\n                    break;\n                case '}':\n                    if (parens === 0) {\n                        throw new TexError_js_1.default('ExtraCloseLooking', 'Extra close brace while looking for %1', token);\n                    }\n                    parens--;\n                    break;\n            }\n            if (parens === 0 && c === token) {\n                return this.string.slice(j, k);\n            }\n        }\n        throw new TexError_js_1.default('TokenNotFoundForCommand', 'Could not find %1 for %2', token, this.currentCS);\n    };\n    TexParser.prototype.ParseArg = function (name) {\n        return new TexParser(this.GetArgument(name), this.stack.env, this.configuration).mml();\n    };\n    TexParser.prototype.ParseUpTo = function (name, token) {\n        return new TexParser(this.GetUpTo(name, token), this.stack.env, this.configuration).mml();\n    };\n    TexParser.prototype.GetDelimiterArg = function (name) {\n        var c = ParseUtil_js_1.default.trimSpaces(this.GetArgument(name));\n        if (c === '') {\n            return null;\n        }\n        if (this.contains('delimiter', c)) {\n            return c;\n        }\n        throw new TexError_js_1.default('MissingOrUnrecognizedDelim', 'Missing or unrecognized delimiter for %1', this.currentCS);\n    };\n    TexParser.prototype.GetStar = function () {\n        var star = (this.GetNext() === '*');\n        if (star) {\n            this.i++;\n        }\n        return star;\n    };\n    TexParser.prototype.create = function (kind) {\n        var _a;\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        return (_a = this.configuration.nodeFactory).create.apply(_a, __spread([kind], rest));\n    };\n    return TexParser;\n}());\nexports.default = TexParser;\n//# sourceMappingURL=TexParser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TexConstant;\n(function (TexConstant) {\n    TexConstant.Variant = {\n        NORMAL: 'normal',\n        BOLD: 'bold',\n        ITALIC: 'italic',\n        BOLDITALIC: 'bold-italic',\n        DOUBLESTRUCK: 'double-struck',\n        FRAKTUR: 'fraktur',\n        BOLDFRAKTUR: 'bold-fraktur',\n        SCRIPT: 'script',\n        BOLDSCRIPT: 'bold-script',\n        SANSSERIF: 'sans-serif',\n        BOLDSANSSERIF: 'bold-sans-serif',\n        SANSSERIFITALIC: 'sans-serif-italic',\n        SANSSERIFBOLDITALIC: 'sans-serif-bold-italic',\n        MONOSPACE: 'monospace',\n        INITIAL: 'inital',\n        TAILED: 'tailed',\n        LOOPED: 'looped',\n        STRETCHED: 'stretched',\n        CALLIGRAPHIC: '-tex-calligraphic',\n        OLDSTYLE: '-tex-oldstyle'\n    };\n    TexConstant.Form = {\n        PREFIX: 'prefix',\n        INFIX: 'infix',\n        POSTFIX: 'postfix'\n    };\n    TexConstant.LineBreak = {\n        AUTO: 'auto',\n        NEWLINE: 'newline',\n        NOBREAK: 'nobreak',\n        GOODBREAK: 'goodbreak',\n        BADBREAK: 'badbreak'\n    };\n    TexConstant.LineBreakStyle = {\n        BEFORE: 'before',\n        AFTER: 'after',\n        DUPLICATE: 'duplicate',\n        INFIXLINBREAKSTYLE: 'infixlinebreakstyle'\n    };\n    TexConstant.IndentAlign = {\n        LEFT: 'left',\n        CENTER: 'center',\n        RIGHT: 'right',\n        AUTO: 'auto',\n        ID: 'id',\n        INDENTALIGN: 'indentalign'\n    };\n    TexConstant.IndentShift = {\n        INDENTSHIFT: 'indentshift'\n    };\n    TexConstant.LineThickness = {\n        THIN: 'thin',\n        MEDIUM: 'medium',\n        THICK: 'thick'\n    };\n    TexConstant.Notation = {\n        LONGDIV: 'longdiv',\n        ACTUARIAL: 'actuarial',\n        PHASORANGLE: 'phasorangle',\n        RADICAL: 'radical',\n        BOX: 'box',\n        ROUNDEDBOX: 'roundedbox',\n        CIRCLE: 'circle',\n        LEFT: 'left',\n        RIGHT: 'right',\n        TOP: 'top',\n        BOTTOM: 'bottom',\n        UPDIAGONALSTRIKE: 'updiagonalstrike',\n        DOWNDIAGONALSTRIKE: 'downdiagonalstrike',\n        VERTICALSTRIKE: 'verticalstrike',\n        HORIZONTALSTRIKE: 'horizontalstrike',\n        NORTHEASTARROW: 'northeastarrow',\n        MADRUWB: 'madruwb',\n        UPDIAGONALARROW: 'updiagonalarrow'\n    };\n    TexConstant.Align = {\n        TOP: 'top',\n        BOTTOM: 'bottom',\n        CENTER: 'center',\n        BASELINE: 'baseline',\n        AXIS: 'axis',\n        LEFT: 'left',\n        RIGHT: 'right'\n    };\n    TexConstant.Lines = {\n        NONE: 'none',\n        SOLID: 'solid',\n        DASHED: 'dashed'\n    };\n    TexConstant.Side = {\n        LEFT: 'left',\n        RIGHT: 'right',\n        LEFTOVERLAP: 'leftoverlap',\n        RIGHTOVERLAP: 'rightoverlap'\n    };\n    TexConstant.Width = {\n        AUTO: 'auto',\n        FIT: 'fit'\n    };\n    TexConstant.Actiontype = {\n        TOGGLE: 'toggle',\n        STATUSLINE: 'statusline',\n        TOOLTIP: 'tooltip',\n        INPUT: 'input'\n    };\n    TexConstant.Length = {\n        VERYVERYTHINMATHSPACE: 'veryverythinmathspace',\n        VERYTHINMATHSPACE: 'verythinmathspace',\n        THINMATHSPACE: 'thinmathspace',\n        MEDIUMMATHSPACE: 'mediummathspace',\n        THICKMATHSPACE: 'thickmathspace',\n        VERYTHICKMATHSPACE: 'verythickmathspace',\n        VERYVERYTHICKMATHSPACE: 'veryverythickmathspace',\n        NEGATIVEVERYVERYTHINMATHSPACE: 'negativeveryverythinmathspace',\n        NEGATIVEVERYTHINMATHSPACE: 'negativeverythinmathspace',\n        NEGATIVETHINMATHSPACE: 'negativethinmathspace',\n        NEGATIVEMEDIUMMATHSPACE: 'negativemediummathspace',\n        NEGATIVETHICKMATHSPACE: 'negativethickmathspace',\n        NEGATIVEVERYTHICKMATHSPACE: 'negativeverythickmathspace',\n        NEGATIVEVERYVERYTHICKMATHSPACE: 'negativeveryverythickmathspace'\n    };\n    TexConstant.Overflow = {\n        LINBREAK: 'linebreak',\n        SCROLL: 'scroll',\n        ELIDE: 'elide',\n        TRUNCATE: 'truncate',\n        SCALE: 'scale'\n    };\n    TexConstant.Unit = {\n        EM: 'em',\n        EX: 'ex',\n        PX: 'px',\n        IN: 'in',\n        CM: 'cm',\n        MM: 'mm',\n        PT: 'pt',\n        PC: 'pc'\n    };\n})(TexConstant = exports.TexConstant || (exports.TexConstant = {}));\n//# sourceMappingURL=TexConstants.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MapHandler;\n(function (MapHandler) {\n    var maps = new Map();\n    MapHandler.register = function (map) {\n        maps.set(map.name, map);\n    };\n    MapHandler.getMap = function (name) {\n        return maps.get(name);\n    };\n})(MapHandler = exports.MapHandler || (exports.MapHandler = {}));\nexports.ExtensionMaps = {\n    NEW_MACRO: 'new-Macro',\n    NEW_DELIMITER: 'new-Delimiter',\n    NEW_COMMAND: 'new-Command',\n    NEW_ENVIRONMENT: 'new-Environment'\n};\nvar SubHandler = (function () {\n    function SubHandler(maps, _fallback) {\n        var e_1, _a;\n        this._fallback = _fallback;\n        this._configuration = [];\n        try {\n            for (var maps_1 = __values(maps), maps_1_1 = maps_1.next(); !maps_1_1.done; maps_1_1 = maps_1.next()) {\n                var name_1 = maps_1_1.value;\n                this.add(name_1);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (maps_1_1 && !maps_1_1.done && (_a = maps_1.return)) _a.call(maps_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n    SubHandler.prototype.add = function (name) {\n        var map = MapHandler.getMap(name);\n        if (!map) {\n            this.warn('Configuration ' + name + ' not found! Omitted.');\n            return;\n        }\n        this._configuration.push(map);\n    };\n    SubHandler.prototype.parse = function (input) {\n        var e_2, _a;\n        try {\n            for (var _b = __values(this._configuration), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var map = _c.value;\n                var result = map.parse(input);\n                if (result) {\n                    return result;\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        var _d = __read(input, 2), env = _d[0], symbol = _d[1];\n        this._fallback(env, symbol);\n    };\n    SubHandler.prototype.lookup = function (symbol) {\n        var map = this.applicable(symbol);\n        return map ? map.lookup(symbol) : null;\n    };\n    SubHandler.prototype.contains = function (symbol) {\n        return this.applicable(symbol) ? true : false;\n    };\n    SubHandler.prototype.toString = function () {\n        return this._configuration\n            .map(function (x) { return x.name; })\n            .join(', ');\n    };\n    SubHandler.prototype.applicable = function (symbol) {\n        var e_3, _a;\n        try {\n            for (var _b = __values(this._configuration), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var map = _c.value;\n                if (map.contains(symbol)) {\n                    return map;\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return null;\n    };\n    SubHandler.prototype.retrieve = function (name) {\n        return this._configuration.find(function (x) { return x.name === name; });\n    };\n    SubHandler.prototype.warn = function (message) {\n        console.log('TexParser Warning: ' + message);\n    };\n    return SubHandler;\n}());\nexports.SubHandler = SubHandler;\nvar SubHandlers = (function () {\n    function SubHandlers(config) {\n        var e_4, _a;\n        this.map = new Map();\n        try {\n            for (var _b = __values(Object.keys(config.handler)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var key = _c.value;\n                var name_2 = key;\n                var subHandler = new SubHandler(config.handler[name_2] || [], config.fallback[name_2]);\n                this.set(name_2, subHandler);\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n    }\n    SubHandlers.prototype.set = function (name, subHandler) {\n        this.map.set(name, subHandler);\n    };\n    SubHandlers.prototype.get = function (name) {\n        return this.map.get(name);\n    };\n    SubHandlers.prototype.retrieve = function (name) {\n        var e_5, _a;\n        try {\n            for (var _b = __values(this.map.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var handler = _c.value;\n                var map = handler.retrieve(name);\n                if (map) {\n                    return map;\n                }\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n        return null;\n    };\n    SubHandlers.prototype.keys = function () {\n        return this.map.keys();\n    };\n    return SubHandlers;\n}());\nexports.SubHandlers = SubHandlers;\n//# sourceMappingURL=MapHandler.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar sitem = require(\"./BaseItems.js\");\nvar NodeUtil_js_1 = require(\"../NodeUtil.js\");\nvar TexError_js_1 = require(\"../TexError.js\");\nvar TexParser_js_1 = require(\"../TexParser.js\");\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar Tags_js_1 = require(\"../Tags.js\");\nvar Entities_js_1 = require(\"../../../util/Entities.js\");\nrequire(\"../../../util/entities/n.js\");\nrequire(\"../../../util/entities/p.js\");\nrequire(\"../../../util/entities/r.js\");\nvar BaseMethods = {};\nvar P_HEIGHT = 1.2 / .85;\nvar MmlTokenAllow = {\n    fontfamily: 1, fontsize: 1, fontweight: 1, fontstyle: 1,\n    color: 1, background: 1,\n    id: 1, 'class': 1, href: 1, style: 1\n};\nBaseMethods.Open = function (parser, c) {\n    parser.Push(parser.itemFactory.create('open'));\n};\nBaseMethods.Close = function (parser, c) {\n    parser.Push(parser.itemFactory.create('close'));\n};\nBaseMethods.Tilde = function (parser, c) {\n    parser.Push(parser.create('token', 'mtext', {}, Entities_js_1.entities.nbsp));\n};\nBaseMethods.Space = function (parser, c) { };\nBaseMethods.Superscript = function (parser, c) {\n    var _a;\n    if (parser.GetNext().match(/\\d/)) {\n        parser.string = parser.string.substr(0, parser.i + 1) +\n            ' ' + parser.string.substr(parser.i + 1);\n    }\n    var primes;\n    var base;\n    var top = parser.stack.Top();\n    if (top.isKind('prime')) {\n        _a = __read(top.Peek(2), 2), base = _a[0], primes = _a[1];\n        parser.stack.Pop();\n    }\n    else {\n        base = parser.stack.Prev();\n        if (!base) {\n            base = parser.create('token', 'mi', {}, '');\n        }\n    }\n    var movesupsub = NodeUtil_js_1.default.getProperty(base, 'movesupsub');\n    var position = NodeUtil_js_1.default.isType(base, 'msubsup') ? base.sup :\n        base.over;\n    if ((NodeUtil_js_1.default.isType(base, 'msubsup') && !NodeUtil_js_1.default.isType(base, 'msup') &&\n        NodeUtil_js_1.default.getChildAt(base, base.sup)) ||\n        (NodeUtil_js_1.default.isType(base, 'munderover') && !NodeUtil_js_1.default.isType(base, 'mover') &&\n            NodeUtil_js_1.default.getChildAt(base, base.over) &&\n            !NodeUtil_js_1.default.getProperty(base, 'subsupOK'))) {\n        throw new TexError_js_1.default('DoubleExponent', 'Double exponent: use braces to clarify');\n    }\n    if (!NodeUtil_js_1.default.isType(base, 'msubsup') || NodeUtil_js_1.default.isType(base, 'msup')) {\n        if (movesupsub) {\n            if (!NodeUtil_js_1.default.isType(base, 'munderover') || NodeUtil_js_1.default.isType(base, 'mover') ||\n                NodeUtil_js_1.default.getChildAt(base, base.over)) {\n                base = parser.create('node', 'munderover', [base], { movesupsub: true });\n            }\n            position = base.over;\n        }\n        else {\n            base = parser.create('node', 'msubsup', [base]);\n            position = base.sup;\n        }\n    }\n    parser.Push(parser.itemFactory.create('subsup', base).setProperties({\n        position: position, primes: primes, movesupsub: movesupsub\n    }));\n};\nBaseMethods.Subscript = function (parser, c) {\n    var _a;\n    if (parser.GetNext().match(/\\d/)) {\n        parser.string =\n            parser.string.substr(0, parser.i + 1) + ' ' +\n                parser.string.substr(parser.i + 1);\n    }\n    var primes, base;\n    var top = parser.stack.Top();\n    if (top.isKind('prime')) {\n        _a = __read(top.Peek(2), 2), base = _a[0], primes = _a[1];\n        parser.stack.Pop();\n    }\n    else {\n        base = parser.stack.Prev();\n        if (!base) {\n            base = parser.create('token', 'mi', {}, '');\n        }\n    }\n    var movesupsub = NodeUtil_js_1.default.getProperty(base, 'movesupsub');\n    var position = NodeUtil_js_1.default.isType(base, 'msubsup') ?\n        base.sub : base.under;\n    if ((NodeUtil_js_1.default.isType(base, 'msubsup') && !NodeUtil_js_1.default.isType(base, 'msup') &&\n        NodeUtil_js_1.default.getChildAt(base, base.sub)) ||\n        (NodeUtil_js_1.default.isType(base, 'munderover') && !NodeUtil_js_1.default.isType(base, 'mover') &&\n            NodeUtil_js_1.default.getChildAt(base, base.under) &&\n            !NodeUtil_js_1.default.getProperty(base, 'subsupOK'))) {\n        throw new TexError_js_1.default('DoubleSubscripts', 'Double subscripts: use braces to clarify');\n    }\n    if (!NodeUtil_js_1.default.isType(base, 'msubsup') || NodeUtil_js_1.default.isType(base, 'msup')) {\n        if (movesupsub) {\n            if (!NodeUtil_js_1.default.isType(base, 'munderover') || NodeUtil_js_1.default.isType(base, 'mover') ||\n                NodeUtil_js_1.default.getChildAt(base, base.under)) {\n                base = parser.create('node', 'munderover', [base], { movesupsub: true });\n            }\n            position = base.under;\n        }\n        else {\n            base = parser.create('node', 'msubsup', [base]);\n            position = base.sub;\n        }\n    }\n    parser.Push(parser.itemFactory.create('subsup', base).setProperties({\n        position: position, primes: primes, movesupsub: movesupsub\n    }));\n};\nBaseMethods.Prime = function (parser, c) {\n    var base = parser.stack.Prev();\n    if (!base) {\n        base = parser.create('node', 'mi');\n    }\n    if (NodeUtil_js_1.default.isType(base, 'msubsup') && !NodeUtil_js_1.default.isType(base, 'msup') &&\n        NodeUtil_js_1.default.getChildAt(base, base.sup)) {\n        throw new TexError_js_1.default('DoubleExponentPrime', 'Prime causes double exponent: use braces to clarify');\n    }\n    var sup = '';\n    parser.i--;\n    do {\n        sup += Entities_js_1.entities.prime;\n        parser.i++, c = parser.GetNext();\n    } while (c === '\\'' || c === Entities_js_1.entities.rquote);\n    sup = ['', '\\u2032', '\\u2033', '\\u2034', '\\u2057'][sup.length] || sup;\n    var node = parser.create('token', 'mo', {}, sup);\n    parser.Push(parser.itemFactory.create('prime', base, node));\n};\nBaseMethods.Comment = function (parser, c) {\n    while (parser.i < parser.string.length && parser.string.charAt(parser.i) !== '\\n') {\n        parser.i++;\n    }\n};\nBaseMethods.Hash = function (parser, c) {\n    throw new TexError_js_1.default('CantUseHash1', 'You can\\'t use \\'macro parameter character #\\' in math mode');\n};\nBaseMethods.SetFont = function (parser, name, font) {\n    parser.stack.env['font'] = font;\n};\nBaseMethods.SetStyle = function (parser, name, texStyle, style, level) {\n    parser.stack.env['style'] = texStyle;\n    parser.stack.env['level'] = level;\n    parser.Push(parser.itemFactory.create('style').setProperty('styles', { displaystyle: style, scriptlevel: level }));\n};\nBaseMethods.SetSize = function (parser, name, size) {\n    parser.stack.env['size'] = size;\n    parser.Push(parser.itemFactory.create('style').setProperty('styles', { mathsize: size + 'em' }));\n};\nBaseMethods.Spacer = function (parser, name, space) {\n    var node = parser.create('node', 'mspace', [], { width: space });\n    var style = parser.create('node', 'mstyle', [node], { scriptlevel: 0 });\n    parser.Push(style);\n};\nBaseMethods.LeftRight = function (parser, name) {\n    var first = name.substr(1);\n    parser.Push(parser.itemFactory.create(first)\n        .setProperty('delim', parser.GetDelimiter(name)));\n};\nBaseMethods.Middle = function (parser, name) {\n    var delim = parser.GetDelimiter(name);\n    var node = parser.create('node', 'TeXAtom', [], { texClass: MmlNode_js_1.TEXCLASS.CLOSE });\n    parser.Push(node);\n    if (!parser.stack.Top().isKind('left')) {\n        throw new TexError_js_1.default('MisplacedMiddle', '%1 must be within \\\\left and \\\\right', parser.currentCS);\n    }\n    node = parser.create('token', 'mo', { stretchy: true }, delim);\n    parser.Push(node);\n    node = parser.create('node', 'TeXAtom', [], { texClass: MmlNode_js_1.TEXCLASS.OPEN });\n    parser.Push(node);\n};\nBaseMethods.NamedFn = function (parser, name, id) {\n    if (!id) {\n        id = name.substr(1);\n    }\n    var mml = parser.create('token', 'mi', { texClass: MmlNode_js_1.TEXCLASS.OP }, id);\n    parser.Push(parser.itemFactory.create('fn', mml));\n};\nBaseMethods.NamedOp = function (parser, name, id) {\n    if (!id) {\n        id = name.substr(1);\n    }\n    id = id.replace(/&thinsp;/, '\\u2006');\n    var mml = parser.create('token', 'mo', {\n        movablelimits: true,\n        movesupsub: true,\n        form: TexConstants_js_1.TexConstant.Form.PREFIX,\n        texClass: MmlNode_js_1.TEXCLASS.OP\n    }, id);\n    parser.Push(mml);\n};\nBaseMethods.Limits = function (parser, name, limits) {\n    var op = parser.stack.Prev(true);\n    if (!op || (NodeUtil_js_1.default.getTexClass(NodeUtil_js_1.default.getCoreMO(op)) !== MmlNode_js_1.TEXCLASS.OP &&\n        NodeUtil_js_1.default.getProperty(op, 'movesupsub') == null)) {\n        throw new TexError_js_1.default('MisplacedLimits', '%1 is allowed only on operators', parser.currentCS);\n    }\n    var top = parser.stack.Top();\n    var node;\n    if (NodeUtil_js_1.default.isType(op, 'munderover') && !limits) {\n        node = parser.create('node', 'msubsup');\n        NodeUtil_js_1.default.copyChildren(op, node);\n        op = top.Last = node;\n    }\n    else if (NodeUtil_js_1.default.isType(op, 'msubsup') && limits) {\n        node = parser.create('node', 'munderover');\n        NodeUtil_js_1.default.copyChildren(op, node);\n        op = top.Last = node;\n    }\n    NodeUtil_js_1.default.setProperty(op, 'movesupsub', limits ? true : false);\n    NodeUtil_js_1.default.setProperties(NodeUtil_js_1.default.getCoreMO(op), { 'movablelimits': false });\n    if (NodeUtil_js_1.default.getAttribute(op, 'movablelimits') ||\n        NodeUtil_js_1.default.getProperty(op, 'movablelimits')) {\n        NodeUtil_js_1.default.setProperties(op, { 'movablelimits': false });\n    }\n};\nBaseMethods.Over = function (parser, name, open, close) {\n    var mml = parser.itemFactory.create('over').setProperty('name', parser.currentCS);\n    if (open || close) {\n        mml.setProperty('open', open);\n        mml.setProperty('close', close);\n    }\n    else if (name.match(/withdelims$/)) {\n        mml.setProperty('open', parser.GetDelimiter(name));\n        mml.setProperty('close', parser.GetDelimiter(name));\n    }\n    if (name.match(/^\\\\above/)) {\n        mml.setProperty('thickness', parser.GetDimen(name));\n    }\n    else if (name.match(/^\\\\atop/) || open || close) {\n        mml.setProperty('thickness', 0);\n    }\n    parser.Push(mml);\n};\nBaseMethods.Frac = function (parser, name) {\n    var num = parser.ParseArg(name);\n    var den = parser.ParseArg(name);\n    var node = parser.create('node', 'mfrac', [num, den]);\n    parser.Push(node);\n};\nBaseMethods.Sqrt = function (parser, name) {\n    var n = parser.GetBrackets(name);\n    var arg = parser.GetArgument(name);\n    if (arg === '\\\\frac') {\n        arg += '{' + parser.GetArgument(arg) + '}{' + parser.GetArgument(arg) + '}';\n    }\n    var mml = new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();\n    if (!n) {\n        mml = parser.create('node', 'msqrt', [mml]);\n    }\n    else {\n        mml = parser.create('node', 'mroot', [mml, parseRoot(parser, n)]);\n    }\n    parser.Push(mml);\n};\nfunction parseRoot(parser, n) {\n    var env = parser.stack.env;\n    var inRoot = env['inRoot'];\n    env['inRoot'] = true;\n    var newParser = new TexParser_js_1.default(n, env, parser.configuration);\n    var node = newParser.mml();\n    var global = newParser.stack.global;\n    if (global['leftRoot'] || global['upRoot']) {\n        var def = {};\n        if (global['leftRoot']) {\n            def['width'] = global['leftRoot'];\n        }\n        if (global['upRoot']) {\n            def['voffset'] = global['upRoot'];\n            def['height'] = global['upRoot'];\n        }\n        node = parser.create('node', 'mpadded', [node], def);\n    }\n    env['inRoot'] = inRoot;\n    return node;\n}\n;\nBaseMethods.Root = function (parser, name) {\n    var n = parser.GetUpTo(name, '\\\\of');\n    var arg = parser.ParseArg(name);\n    var node = parser.create('node', 'mroot', [arg, parseRoot(parser, n)]);\n    parser.Push(node);\n};\nBaseMethods.MoveRoot = function (parser, name, id) {\n    if (!parser.stack.env['inRoot']) {\n        throw new TexError_js_1.default('MisplacedMoveRoot', '%1 can appear only within a root', parser.currentCS);\n    }\n    if (parser.stack.global[id]) {\n        throw new TexError_js_1.default('MultipleMoveRoot', 'Multiple use of %1', parser.currentCS);\n    }\n    var n = parser.GetArgument(name);\n    if (!n.match(/-?[0-9]+/)) {\n        throw new TexError_js_1.default('IntegerArg', 'The argument to %1 must be an integer', parser.currentCS);\n    }\n    n = (parseInt(n, 10) / 15) + 'em';\n    if (n.substr(0, 1) !== '-') {\n        n = '+' + n;\n    }\n    parser.stack.global[id] = n;\n};\nBaseMethods.Accent = function (parser, name, accent, stretchy) {\n    var c = parser.ParseArg(name);\n    var def = ParseUtil_js_1.default.getFontDef(parser);\n    def['accent'] = true;\n    var entity = NodeUtil_js_1.default.createEntity(accent);\n    var moNode = parser.create('token', 'mo', def, entity);\n    var mml = moNode;\n    NodeUtil_js_1.default.setAttribute(mml, 'stretchy', stretchy ? true : false);\n    var mo = (NodeUtil_js_1.default.isEmbellished(c) ? NodeUtil_js_1.default.getCoreMO(c) : c);\n    if (NodeUtil_js_1.default.isType(mo, 'mo')) {\n        NodeUtil_js_1.default.setProperties(mo, { 'movablelimits': false });\n    }\n    var muoNode = parser.create('node', 'munderover');\n    NodeUtil_js_1.default.setChild(muoNode, 0, c);\n    NodeUtil_js_1.default.setChild(muoNode, 1, null);\n    NodeUtil_js_1.default.setChild(muoNode, 2, mml);\n    var texAtom = parser.create('node', 'TeXAtom', [muoNode]);\n    parser.Push(texAtom);\n};\nBaseMethods.UnderOver = function (parser, name, c, stack, noaccent) {\n    var base = parser.ParseArg(name);\n    var symbol = NodeUtil_js_1.default.getForm(base);\n    if ((symbol && symbol[3] && symbol[3]['movablelimits'])\n        || NodeUtil_js_1.default.getProperty(base, 'movablelimits')) {\n        NodeUtil_js_1.default.setProperties(base, { 'movablelimits': false });\n    }\n    var mo;\n    if (NodeUtil_js_1.default.isType(base, 'munderover') && NodeUtil_js_1.default.isEmbellished(base)) {\n        NodeUtil_js_1.default.setProperties(NodeUtil_js_1.default.getCoreMO(base), { lspace: 0, rspace: 0 });\n        mo = parser.create('node', 'mo', [], { rspace: 0 });\n        base = parser.create('node', 'mrow', [mo, base]);\n    }\n    var mml = parser.create('node', 'munderover', [base]);\n    var entity = NodeUtil_js_1.default.createEntity(c);\n    mo = parser.create('token', 'mo', { stretchy: true, accent: !noaccent }, entity);\n    NodeUtil_js_1.default.setChild(mml, name.charAt(1) === 'o' ? mml.over : mml.under, mo);\n    var node = mml;\n    if (stack) {\n        node = parser.create('node', 'TeXAtom', [mml], { texClass: MmlNode_js_1.TEXCLASS.OP, movesupsub: true });\n    }\n    NodeUtil_js_1.default.setProperty(node, 'subsupOK', true);\n    parser.Push(node);\n};\nBaseMethods.Overset = function (parser, name) {\n    var top = parser.ParseArg(name), base = parser.ParseArg(name);\n    if (NodeUtil_js_1.default.getAttribute(base, 'movablelimits') || NodeUtil_js_1.default.getProperty(base, 'movablelimits')) {\n        NodeUtil_js_1.default.setProperties(base, { 'movablelimits': false });\n    }\n    var node = parser.create('node', 'mover', [base, top]);\n    parser.Push(node);\n};\nBaseMethods.Underset = function (parser, name) {\n    var bot = parser.ParseArg(name), base = parser.ParseArg(name);\n    if (NodeUtil_js_1.default.getAttribute(base, 'movablelimits') || NodeUtil_js_1.default.getProperty(base, 'movablelimits')) {\n        NodeUtil_js_1.default.setProperties(base, { 'movablelimits': false });\n    }\n    var node = parser.create('node', 'munder', [base, bot]);\n    parser.Push(node);\n};\nBaseMethods.TeXAtom = function (parser, name, mclass) {\n    var def = { texClass: mclass };\n    var mml;\n    var node;\n    var parsed;\n    if (mclass === MmlNode_js_1.TEXCLASS.OP) {\n        def['movesupsub'] = def['movablelimits'] = true;\n        var arg = parser.GetArgument(name);\n        var match = arg.match(/^\\s*\\\\rm\\s+([a-zA-Z0-9 ]+)$/);\n        if (match) {\n            def['mathvariant'] = TexConstants_js_1.TexConstant.Variant.NORMAL;\n            node = parser.create('token', 'mi', def, match[1]);\n        }\n        else {\n            parsed = new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();\n            node = parser.create('node', 'TeXAtom', [parsed], def);\n        }\n        mml = parser.itemFactory.create('fn', node);\n    }\n    else {\n        parsed = parser.ParseArg(name);\n        mml = parser.create('node', 'TeXAtom', [parsed], def);\n    }\n    parser.Push(mml);\n};\nBaseMethods.MmlToken = function (parser, name) {\n    var kind = parser.GetArgument(name);\n    var attr = parser.GetBrackets(name, '').replace(/^\\s+/, '');\n    var text = parser.GetArgument(name);\n    var def = {};\n    var node;\n    try {\n        node = parser.create('node', kind);\n    }\n    catch (e) {\n        node = null;\n    }\n    if (!node || !node.isToken) {\n        throw new TexError_js_1.default('NotMathMLToken', '%1 is not a token element', kind);\n    }\n    while (attr !== '') {\n        var match = attr.match(/^([a-z]+)\\s*=\\s*('[^']*'|\"[^\"]*\"|[^ ,]*)\\s*,?\\s*/i);\n        if (!match) {\n            throw new TexError_js_1.default('InvalidMathMLAttr', 'Invalid MathML attribute: %1', attr);\n        }\n        if (!node.attributes.hasDefault(match[1]) && !MmlTokenAllow[match[1]]) {\n            throw new TexError_js_1.default('UnknownAttrForElement', '%1 is not a recognized attribute for %2', match[1], kind);\n        }\n        var value = ParseUtil_js_1.default.MmlFilterAttribute(parser, match[1], match[2].replace(/^(['\"])(.*)\\1$/, '$2'));\n        if (value) {\n            if (value.toLowerCase() === 'true') {\n                value = true;\n            }\n            else if (value.toLowerCase() === 'false') {\n                value = false;\n            }\n            def[match[1]] = value;\n        }\n        attr = attr.substr(match[0].length);\n    }\n    var textNode = parser.create('text', text);\n    node.appendChild(textNode);\n    NodeUtil_js_1.default.setProperties(node, def);\n    parser.Push(node);\n};\nBaseMethods.Strut = function (parser, name) {\n    var row = parser.create('node', 'mrow');\n    var padded = parser.create('node', 'mpadded', [row], { height: '8.6pt', depth: '3pt', width: 0 });\n    parser.Push(padded);\n};\nBaseMethods.Phantom = function (parser, name, v, h) {\n    var box = parser.create('node', 'mphantom', [parser.ParseArg(name)]);\n    if (v || h) {\n        box = parser.create('node', 'mpadded', [box]);\n        if (h) {\n            NodeUtil_js_1.default.setAttribute(box, 'height', 0);\n            NodeUtil_js_1.default.setAttribute(box, 'depth', 0);\n        }\n        if (v) {\n            NodeUtil_js_1.default.setAttribute(box, 'width', 0);\n        }\n    }\n    var atom = parser.create('node', 'TeXAtom', [box]);\n    parser.Push(atom);\n};\nBaseMethods.Smash = function (parser, name) {\n    var bt = ParseUtil_js_1.default.trimSpaces(parser.GetBrackets(name, ''));\n    var smash = parser.create('node', 'mpadded', [parser.ParseArg(name)]);\n    switch (bt) {\n        case 'b':\n            NodeUtil_js_1.default.setAttribute(smash, 'depth', 0);\n            break;\n        case 't':\n            NodeUtil_js_1.default.setAttribute(smash, 'height', 0);\n            break;\n        default:\n            NodeUtil_js_1.default.setAttribute(smash, 'height', 0);\n            NodeUtil_js_1.default.setAttribute(smash, 'depth', 0);\n    }\n    var atom = parser.create('node', 'TeXAtom', [smash]);\n    parser.Push(atom);\n};\nBaseMethods.Lap = function (parser, name) {\n    var mml = parser.create('node', 'mpadded', [parser.ParseArg(name)], { width: 0 });\n    if (name === '\\\\llap') {\n        NodeUtil_js_1.default.setAttribute(mml, 'lspace', '-1width');\n    }\n    var atom = parser.create('node', 'TeXAtom', [mml]);\n    parser.Push(atom);\n};\nBaseMethods.RaiseLower = function (parser, name) {\n    var h = parser.GetDimen(name);\n    var item = parser.itemFactory.create('position').setProperties({ name: parser.currentCS, move: 'vertical' });\n    if (h.charAt(0) === '-') {\n        h = h.slice(1);\n        name = name.substr(1) === 'raise' ? '\\\\lower' : '\\\\raise';\n    }\n    if (name === '\\\\lower') {\n        item.setProperty('dh', '-' + h);\n        item.setProperty('dd', '+' + h);\n    }\n    else {\n        item.setProperty('dh', '+' + h);\n        item.setProperty('dd', '-' + h);\n    }\n    parser.Push(item);\n};\nBaseMethods.MoveLeftRight = function (parser, name) {\n    var h = parser.GetDimen(name);\n    var nh = (h.charAt(0) === '-' ? h.slice(1) : '-' + h);\n    if (name === '\\\\moveleft') {\n        var tmp = h;\n        h = nh;\n        nh = tmp;\n    }\n    parser.Push(parser.itemFactory.create('position').setProperties({\n        name: parser.currentCS, move: 'horizontal',\n        left: parser.create('node', 'mspace', [], { width: h }),\n        right: parser.create('node', 'mspace', [], { width: nh })\n    }));\n};\nBaseMethods.Hskip = function (parser, name) {\n    var node = parser.create('node', 'mspace', [], { width: parser.GetDimen(name) });\n    parser.Push(node);\n};\nBaseMethods.Rule = function (parser, name, style) {\n    var w = parser.GetDimen(name), h = parser.GetDimen(name), d = parser.GetDimen(name);\n    var def = { width: w, height: h, depth: d };\n    if (style !== 'blank') {\n        def['mathbackground'] = (parser.stack.env['color'] || 'black');\n    }\n    var node = parser.create('node', 'mspace', [], def);\n    parser.Push(node);\n};\nBaseMethods.rule = function (parser, name) {\n    var v = parser.GetBrackets(name), w = parser.GetDimen(name), h = parser.GetDimen(name);\n    var mml = parser.create('node', 'mspace', [], {\n        width: w, height: h,\n        mathbackground: (parser.stack.env['color'] || 'black')\n    });\n    if (v) {\n        mml = parser.create('node', 'mpadded', [mml], { voffset: v });\n        if (v.match(/^\\-/)) {\n            NodeUtil_js_1.default.setAttribute(mml, 'height', v);\n            NodeUtil_js_1.default.setAttribute(mml, 'depth', '+' + v.substr(1));\n        }\n        else {\n            NodeUtil_js_1.default.setAttribute(mml, 'height', '+' + v);\n        }\n    }\n    parser.Push(mml);\n};\nBaseMethods.MakeBig = function (parser, name, mclass, size) {\n    size *= P_HEIGHT;\n    var sizeStr = String(size).replace(/(\\.\\d\\d\\d).+/, '$1') + 'em';\n    var delim = parser.GetDelimiter(name, true);\n    var mo = parser.create('token', 'mo', {\n        minsize: sizeStr, maxsize: sizeStr,\n        fence: true, stretchy: true, symmetric: true\n    }, delim);\n    var node = parser.create('node', 'TeXAtom', [mo], { texClass: mclass });\n    parser.Push(node);\n};\nBaseMethods.BuildRel = function (parser, name) {\n    var top = parser.ParseUpTo(name, '\\\\over');\n    var bot = parser.ParseArg(name);\n    var node = parser.create('node', 'munderover');\n    NodeUtil_js_1.default.setChild(node, 0, bot);\n    NodeUtil_js_1.default.setChild(node, 1, null);\n    NodeUtil_js_1.default.setChild(node, 2, top);\n    var atom = parser.create('node', 'TeXAtom', [node], { texClass: MmlNode_js_1.TEXCLASS.REL });\n    parser.Push(atom);\n};\nBaseMethods.HBox = function (parser, name, style) {\n    parser.PushAll(ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name), style));\n};\nBaseMethods.FBox = function (parser, name) {\n    var internal = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name));\n    var node = parser.create('node', 'menclose', internal, { notation: 'box' });\n    parser.Push(node);\n};\nBaseMethods.Not = function (parser, name) {\n    parser.Push(parser.itemFactory.create('not'));\n};\nBaseMethods.Dots = function (parser, name) {\n    var ldotsEntity = NodeUtil_js_1.default.createEntity('2026');\n    var cdotsEntity = NodeUtil_js_1.default.createEntity('22EF');\n    var ldots = parser.create('token', 'mo', { stretchy: false }, ldotsEntity);\n    var cdots = parser.create('token', 'mo', { stretchy: false }, cdotsEntity);\n    parser.Push(parser.itemFactory.create('dots').setProperties({\n        ldots: ldots,\n        cdots: cdots\n    }));\n};\nBaseMethods.Matrix = function (parser, name, open, close, align, spacing, vspacing, style, cases, numbered) {\n    var c = parser.GetNext();\n    if (c === '') {\n        throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', parser.currentCS);\n    }\n    if (c === '{') {\n        parser.i++;\n    }\n    else {\n        parser.string = c + '}' + parser.string.slice(parser.i + 1);\n        parser.i = 0;\n    }\n    var array = parser.itemFactory.create('array').setProperty('requireClose', true);\n    array.arraydef = {\n        rowspacing: (vspacing || '4pt'),\n        columnspacing: (spacing || '1em')\n    };\n    if (cases) {\n        array.setProperty('isCases', true);\n    }\n    if (numbered) {\n        array.setProperty('isNumbered', true);\n        array.arraydef.side = numbered;\n    }\n    if (open || close) {\n        array.setProperty('open', open);\n        array.setProperty('close', close);\n    }\n    if (style === 'D') {\n        array.arraydef.displaystyle = true;\n    }\n    if (align != null) {\n        array.arraydef.columnalign = align;\n    }\n    parser.Push(array);\n};\nBaseMethods.Entry = function (parser, name) {\n    parser.Push(parser.itemFactory.create('cell').setProperties({ isEntry: true, name: name }));\n    if (parser.stack.Top().getProperty('isCases')) {\n        var str = parser.string;\n        var braces = 0, close_1 = -1, i = parser.i, m = str.length;\n        while (i < m) {\n            var c = str.charAt(i);\n            if (c === '{') {\n                braces++;\n                i++;\n            }\n            else if (c === '}') {\n                if (braces === 0) {\n                    m = 0;\n                }\n                else {\n                    braces--;\n                    if (braces === 0 && close_1 < 0) {\n                        close_1 = i - parser.i;\n                    }\n                    i++;\n                }\n            }\n            else if (c === '&' && braces === 0) {\n                throw new TexError_js_1.default('ExtraAlignTab', 'Extra alignment tab in \\\\cases text');\n            }\n            else if (c === '\\\\') {\n                if (str.substr(i).match(/^((\\\\cr)[^a-zA-Z]|\\\\\\\\)/)) {\n                    m = 0;\n                }\n                else {\n                    i += 2;\n                }\n            }\n            else {\n                i++;\n            }\n        }\n        var text = str.substr(parser.i, i - parser.i);\n        if (!text.match(/^\\s*\\\\text[^a-zA-Z]/) || close_1 !== text.replace(/\\s+$/, '').length - 1) {\n            var internal = ParseUtil_js_1.default.internalMath(parser, text, 0);\n            parser.PushAll(internal);\n            parser.i = i;\n        }\n    }\n};\nBaseMethods.Cr = function (parser, name) {\n    parser.Push(parser.itemFactory.create('cell').setProperties({ isCR: true, name: name }));\n};\nBaseMethods.CrLaTeX = function (parser, name, nobrackets) {\n    if (nobrackets === void 0) { nobrackets = false; }\n    var n;\n    if (!nobrackets && parser.string.charAt(parser.i) === '[') {\n        var dim = parser.GetBrackets(name, '');\n        var _a = __read(ParseUtil_js_1.default.matchDimen(dim), 3), value = _a[0], unit = _a[1], _ = _a[2];\n        if (dim && !value) {\n            throw new TexError_js_1.default('BracketMustBeDimension', 'Bracket argument to %1 must be a dimension', parser.currentCS);\n        }\n        n = value + unit;\n    }\n    parser.Push(parser.itemFactory.create('cell').setProperties({ isCR: true, name: name, linebreak: true }));\n    var top = parser.stack.Top();\n    var node;\n    if (top instanceof sitem.ArrayItem) {\n        if (n && top.arraydef['rowspacing']) {\n            var rows = top.arraydef['rowspacing'].split(/ /);\n            if (!top.getProperty('rowspacing')) {\n                var dimem = ParseUtil_js_1.default.dimen2em(rows[0]);\n                top.setProperty('rowspacing', dimem);\n            }\n            var rowspacing = top.getProperty('rowspacing');\n            while (rows.length < top.table.length) {\n                rows.push(ParseUtil_js_1.default.Em(rowspacing));\n            }\n            rows[top.table.length - 1] = ParseUtil_js_1.default.Em(Math.max(0, rowspacing + ParseUtil_js_1.default.dimen2em(n)));\n            top.arraydef['rowspacing'] = rows.join(' ');\n        }\n    }\n    else {\n        if (n) {\n            node = parser.create('node', 'mspace', [], { depth: n });\n            parser.Push(node);\n        }\n        node = parser.create('node', 'mspace', [], { linebreak: TexConstants_js_1.TexConstant.LineBreak.NEWLINE });\n        parser.Push(node);\n    }\n};\nBaseMethods.HLine = function (parser, name, style) {\n    if (style == null) {\n        style = 'solid';\n    }\n    var top = parser.stack.Top();\n    if (!(top instanceof sitem.ArrayItem) || top.Size()) {\n        throw new TexError_js_1.default('Misplaced', 'Misplaced %1', parser.currentCS);\n    }\n    if (!top.table.length) {\n        top.frame.push('top');\n    }\n    else {\n        var lines = (top.arraydef['rowlines'] ? top.arraydef['rowlines'].split(/ /) : []);\n        while (lines.length < top.table.length) {\n            lines.push('none');\n        }\n        lines[top.table.length - 1] = style;\n        top.arraydef['rowlines'] = lines.join(' ');\n    }\n};\nBaseMethods.HFill = function (parser, name) {\n    var top = parser.stack.Top();\n    if (top instanceof sitem.ArrayItem) {\n        top.hfill.push(top.Size());\n    }\n    else {\n        throw new TexError_js_1.default('UnsupportedHFill', 'Unsupported use of %1', parser.currentCS);\n    }\n};\nBaseMethods.BeginEnd = function (parser, name) {\n    var env = parser.GetArgument(name);\n    if (env.match(/\\\\/i)) {\n        throw new TexError_js_1.default('InvalidEnv', 'Invalid environment name \\'%1\\'', env);\n    }\n    var macro = parser.configuration.handlers.get('environment').lookup(env);\n    if (macro && name === '\\\\end') {\n        if (!macro.args[0]) {\n            var mml = parser.itemFactory.create('end').setProperty('name', env);\n            parser.Push(mml);\n            return;\n        }\n        parser.stack.env['closing'] = env;\n    }\n    if (++parser.macroCount > parser.configuration.options['maxMacros']) {\n        throw new TexError_js_1.default('MaxMacroSub2', 'MathJax maximum substitution count exceeded; ' +\n            'is there a recursive latex environment?');\n    }\n    parser.parse('environment', [parser, env]);\n};\nBaseMethods.Array = function (parser, begin, open, close, align, spacing, vspacing, style, raggedHeight) {\n    if (!align) {\n        align = parser.GetArgument('\\\\begin{' + begin.getName() + '}');\n    }\n    var lines = ('c' + align).replace(/[^clr|:]/g, '').replace(/[^|:]([|:])+/g, '$1');\n    align = align.replace(/[^clr]/g, '').split('').join(' ');\n    align = align.replace(/l/g, 'left').replace(/r/g, 'right').replace(/c/g, 'center');\n    var array = parser.itemFactory.create('array');\n    array.arraydef = {\n        columnalign: align,\n        columnspacing: (spacing || '1em'),\n        rowspacing: (vspacing || '4pt')\n    };\n    if (lines.match(/[|:]/)) {\n        if (lines.charAt(0).match(/[|:]/)) {\n            array.frame.push('left');\n            array.dashed = lines.charAt(0) === ':';\n        }\n        if (lines.charAt(lines.length - 1).match(/[|:]/)) {\n            array.frame.push('right');\n        }\n        lines = lines.substr(1, lines.length - 2);\n        array.arraydef.columnlines =\n            lines.split('').join(' ').replace(/[^|: ]/g, 'none').replace(/\\|/g, 'solid').replace(/:/g, 'dashed');\n    }\n    if (open) {\n        array.setProperty('open', parser.convertDelimiter(open));\n    }\n    if (close) {\n        array.setProperty('close', parser.convertDelimiter(close));\n    }\n    if (style === 'D') {\n        array.arraydef['displaystyle'] = true;\n    }\n    else if (style) {\n        array.arraydef['displaystyle'] = false;\n    }\n    if (style === 'S') {\n        array.arraydef['scriptlevel'] = 1;\n    }\n    if (raggedHeight) {\n        array.arraydef['useHeight'] = false;\n    }\n    parser.Push(begin);\n    return array;\n};\nBaseMethods.AlignedArray = function (parser, begin) {\n    var align = parser.GetBrackets('\\\\begin{' + begin.getName() + '}');\n    var item = BaseMethods.Array(parser, begin);\n    return ParseUtil_js_1.default.setArrayAlign(item, align);\n};\nBaseMethods.Equation = function (parser, begin, numbered) {\n    parser.Push(begin);\n    ParseUtil_js_1.default.checkEqnEnv(parser);\n    return parser.itemFactory.create('equation', numbered).\n        setProperty('name', begin.getName());\n};\nBaseMethods.EqnArray = function (parser, begin, numbered, taggable, align, spacing) {\n    parser.Push(begin);\n    if (taggable) {\n        ParseUtil_js_1.default.checkEqnEnv(parser);\n    }\n    align = align.replace(/[^clr]/g, '').split('').join(' ');\n    align = align.replace(/l/g, 'left').replace(/r/g, 'right').replace(/c/g, 'center');\n    var newItem = parser.itemFactory.create('eqnarray', begin.getName(), numbered, taggable, parser.stack.global);\n    newItem.arraydef = {\n        displaystyle: true,\n        columnalign: align,\n        columnspacing: (spacing || '1em'),\n        rowspacing: '3pt',\n        side: parser.options['tagSide'],\n        minlabelspacing: parser.options['tagIndent']\n    };\n    return newItem;\n};\nBaseMethods.HandleNoTag = function (parser, name) {\n    parser.tags.notag();\n};\nBaseMethods.HandleLabel = function (parser, name) {\n    var global = parser.stack.global;\n    var label = parser.GetArgument(name);\n    if (label === '') {\n        return;\n    }\n    if (!parser.tags.refUpdate) {\n        if (parser.tags.label) {\n            throw new TexError_js_1.default('MultipleCommand', 'Multiple %1', parser.currentCS);\n        }\n        parser.tags.label = label;\n        if ((parser.tags.allLabels[label] || parser.tags.labels[label]) && !parser.options['ignoreDuplicateLabels']) {\n            throw new TexError_js_1.default('MultipleLabel', 'Label \\'%1\\' multiply defined', label);\n        }\n        parser.tags.labels[label] = new Tags_js_1.Label();\n    }\n};\nBaseMethods.HandleRef = function (parser, name, eqref) {\n    var label = parser.GetArgument(name);\n    var ref = parser.tags.allLabels[label] || parser.tags.labels[label];\n    if (!ref) {\n        if (!parser.tags.refUpdate) {\n            parser.tags.redo = true;\n        }\n        ref = new Tags_js_1.Label();\n    }\n    var tag = ref.tag;\n    if (eqref) {\n        tag = parser.tags.formatTag(tag);\n    }\n    var node = parser.create('node', 'mrow', ParseUtil_js_1.default.internalMath(parser, tag), {\n        href: parser.tags.formatUrl(ref.id, parser.options.baseURL), 'class': 'MathJax_ref'\n    });\n    parser.Push(node);\n};\nBaseMethods.Macro = function (parser, name, macro, argcount, def) {\n    if (argcount) {\n        var args = [];\n        if (def != null) {\n            var optional = parser.GetBrackets(name);\n            args.push(optional == null ? def : optional);\n        }\n        for (var i = args.length; i < argcount; i++) {\n            args.push(parser.GetArgument(name));\n        }\n        macro = ParseUtil_js_1.default.substituteArgs(parser, args, macro);\n    }\n    parser.string = ParseUtil_js_1.default.addArgs(parser, macro, parser.string.slice(parser.i));\n    parser.i = 0;\n    if (++parser.macroCount > parser.configuration.options['maxMacros']) {\n        throw new TexError_js_1.default('MaxMacroSub1', 'MathJax maximum macro substitution count exceeded; ' +\n            'is there a recursive macro call?');\n    }\n};\nBaseMethods.MathChoice = function (parser, name) {\n    var D = parser.ParseArg(name);\n    var T = parser.ParseArg(name);\n    var S = parser.ParseArg(name);\n    var SS = parser.ParseArg(name);\n    parser.Push(parser.create('node', 'mathchoice', [D, T, S, SS]));\n};\nexports.default = BaseMethods;\n//# sourceMappingURL=BaseMethods.js.map","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.APPEND = MathJax._.util.Options.APPEND;\nexports.REMOVE = MathJax._.util.Options.REMOVE;\nexports.Expandable = MathJax._.util.Options.Expandable;\nexports.expandable = MathJax._.util.Options.expandable;\nexports.makeArray = MathJax._.util.Options.makeArray;\nexports.keys = MathJax._.util.Options.keys;\nexports.copy = MathJax._.util.Options.copy;\nexports.insert = MathJax._.util.Options.insert;\nexports.defaultOptions = MathJax._.util.Options.defaultOptions;\nexports.userOptions = MathJax._.util.Options.userOptions;\nexports.selectOptions = MathJax._.util.Options.selectOptions;\nexports.selectOptionsFromKeys = MathJax._.util.Options.selectOptionsFromKeys;\nexports.separateOptions = MathJax._.util.Options.separateOptions;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TexError_js_1 = require(\"./TexError.js\");\nvar MmlStack = (function () {\n    function MmlStack(_nodes) {\n        this._nodes = _nodes;\n    }\n    Object.defineProperty(MmlStack.prototype, \"nodes\", {\n        get: function () {\n            return this._nodes;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MmlStack.prototype.Push = function () {\n        var _a;\n        var nodes = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            nodes[_i] = arguments[_i];\n        }\n        (_a = this._nodes).push.apply(_a, __spread(nodes));\n    };\n    MmlStack.prototype.Pop = function () {\n        return this._nodes.pop();\n    };\n    Object.defineProperty(MmlStack.prototype, \"First\", {\n        get: function () {\n            return this._nodes[this.Size() - 1];\n        },\n        set: function (node) {\n            this._nodes[this.Size() - 1] = node;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MmlStack.prototype, \"Last\", {\n        get: function () {\n            return this._nodes[0];\n        },\n        set: function (node) {\n            this._nodes[0] = node;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MmlStack.prototype.Peek = function (n) {\n        if (n == null) {\n            n = 1;\n        }\n        return this._nodes.slice(this.Size() - n);\n    };\n    MmlStack.prototype.Size = function () {\n        return this._nodes.length;\n    };\n    MmlStack.prototype.Clear = function () {\n        this._nodes = [];\n    };\n    MmlStack.prototype.toMml = function (inferred, forceRow) {\n        if (inferred === void 0) { inferred = true; }\n        if (this._nodes.length === 1 && !forceRow) {\n            return this.First;\n        }\n        return this.create('node', inferred ? 'inferredMrow' : 'mrow', this._nodes, {});\n    };\n    MmlStack.prototype.create = function (kind) {\n        var _a;\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        return (_a = this.factory.configuration.nodeFactory).create.apply(_a, __spread([kind], rest));\n    };\n    return MmlStack;\n}());\nexports.MmlStack = MmlStack;\nvar BaseItem = (function (_super) {\n    __extends(BaseItem, _super);\n    function BaseItem(factory) {\n        var nodes = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            nodes[_i - 1] = arguments[_i];\n        }\n        var _this = _super.call(this, nodes) || this;\n        _this.factory = factory;\n        _this.global = {};\n        _this._properties = {};\n        if (_this.isOpen) {\n            _this._env = {};\n        }\n        return _this;\n    }\n    Object.defineProperty(BaseItem.prototype, \"kind\", {\n        get: function () {\n            return 'base';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BaseItem.prototype, \"env\", {\n        get: function () {\n            return this._env;\n        },\n        set: function (value) {\n            this._env = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BaseItem.prototype, \"copyEnv\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BaseItem.prototype.getProperty = function (key) {\n        return this._properties[key];\n    };\n    BaseItem.prototype.setProperty = function (key, value) {\n        this._properties[key] = value;\n        return this;\n    };\n    Object.defineProperty(BaseItem.prototype, \"isOpen\", {\n        get: function () {\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BaseItem.prototype, \"isClose\", {\n        get: function () {\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BaseItem.prototype, \"isFinal\", {\n        get: function () {\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BaseItem.prototype.isKind = function (kind) {\n        return kind === this.kind;\n    };\n    BaseItem.prototype.checkItem = function (item) {\n        if (item.isKind('over') && this.isOpen) {\n            item.setProperty('num', this.toMml(false));\n            this.Clear();\n        }\n        if (item.isKind('cell') && this.isOpen) {\n            if (item.getProperty('linebreak')) {\n                return BaseItem.fail;\n            }\n            throw new TexError_js_1.default('Misplaced', 'Misplaced %1', item.getName());\n        }\n        if (item.isClose && this.getErrors(item.kind)) {\n            var _a = __read(this.getErrors(item.kind), 2), id = _a[0], message = _a[1];\n            throw new TexError_js_1.default(id, message, item.getName());\n        }\n        if (!item.isFinal) {\n            return BaseItem.success;\n        }\n        this.Push(item.First);\n        return BaseItem.fail;\n    };\n    BaseItem.prototype.clearEnv = function () {\n        var e_1, _a;\n        try {\n            for (var _b = __values(Object.keys(this.env)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var id = _c.value;\n                delete this.env[id];\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    BaseItem.prototype.setProperties = function (def) {\n        Object.assign(this._properties, def);\n        return this;\n    };\n    BaseItem.prototype.getName = function () {\n        return this.getProperty('name');\n    };\n    BaseItem.prototype.toString = function () {\n        return this.kind + '[' + this.nodes.join('; ') + ']';\n    };\n    BaseItem.prototype.getErrors = function (kind) {\n        var CLASS = this.constructor;\n        return (CLASS.errors || {})[kind] || BaseItem.errors[kind];\n    };\n    BaseItem.fail = [null, false];\n    BaseItem.success = [null, true];\n    BaseItem.errors = {\n        end: ['MissingBeginExtraEnd', 'Missing \\\\begin{%1} or extra \\\\end{%1}'],\n        close: ['ExtraCloseMissingOpen', 'Extra close brace or missing open brace'],\n        right: ['MissingLeftExtraRight', 'Missing \\\\left or extra \\\\right']\n    };\n    return BaseItem;\n}(MmlStack));\nexports.BaseItem = BaseItem;\n//# sourceMappingURL=StackItem.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NodeUtil_js_1 = require(\"./NodeUtil.js\");\nvar TexConstants_js_1 = require(\"./TexConstants.js\");\nvar ParseUtil_js_1 = require(\"./ParseUtil.js\");\nvar ParseMethods;\n(function (ParseMethods) {\n    function variable(parser, c) {\n        var def = ParseUtil_js_1.default.getFontDef(parser);\n        var node = parser.create('token', 'mi', def, c);\n        parser.Push(node);\n    }\n    ParseMethods.variable = variable;\n    ;\n    function digit(parser, c) {\n        var mml;\n        var pattern = parser.configuration.options['digits'];\n        var n = parser.string.slice(parser.i - 1).match(pattern);\n        var def = ParseUtil_js_1.default.getFontDef(parser);\n        if (n) {\n            mml = parser.create('token', 'mn', def, n[0].replace(/[{}]/g, ''));\n            parser.i += n[0].length - 1;\n        }\n        else {\n            mml = parser.create('token', 'mo', def, c);\n        }\n        parser.Push(mml);\n    }\n    ParseMethods.digit = digit;\n    ;\n    function controlSequence(parser, c) {\n        var name = parser.GetCS();\n        parser.parse('macro', [parser, name]);\n    }\n    ParseMethods.controlSequence = controlSequence;\n    ;\n    function mathchar0mi(parser, mchar) {\n        var def = mchar.attributes || { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC };\n        var node = parser.create('token', 'mi', def, mchar.char);\n        parser.Push(node);\n    }\n    ParseMethods.mathchar0mi = mathchar0mi;\n    ;\n    function mathchar0mo(parser, mchar) {\n        var def = mchar.attributes || {};\n        def['stretchy'] = false;\n        var node = parser.create('token', 'mo', def, mchar.char);\n        NodeUtil_js_1.default.setProperty(node, 'fixStretchy', true);\n        parser.configuration.addNode('fixStretchy', node);\n        parser.Push(node);\n    }\n    ParseMethods.mathchar0mo = mathchar0mo;\n    ;\n    function mathchar7(parser, mchar) {\n        var def = mchar.attributes || { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL };\n        if (parser.stack.env['font']) {\n            def['mathvariant'] = parser.stack.env['font'];\n        }\n        var node = parser.create('token', 'mi', def, mchar.char);\n        parser.Push(node);\n    }\n    ParseMethods.mathchar7 = mathchar7;\n    ;\n    function delimiter(parser, delim) {\n        var def = delim.attributes || {};\n        def = Object.assign({ fence: false, stretchy: false }, def);\n        var node = parser.create('token', 'mo', def, delim.char);\n        parser.Push(node);\n    }\n    ParseMethods.delimiter = delimiter;\n    ;\n    function environment(parser, env, func, args) {\n        var end = args[0];\n        var mml = parser.itemFactory.create('begin').setProperties({ name: env, end: end });\n        mml = func.apply(void 0, __spread([parser, mml], args.slice(1)));\n        parser.Push(mml);\n    }\n    ParseMethods.environment = environment;\n    ;\n})(ParseMethods || (ParseMethods = {}));\nexports.default = ParseMethods;\n//# sourceMappingURL=ParseMethods.js.map","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.options = MathJax._.util.Entities.options;\nexports.entities = MathJax._.util.Entities.entities;\nexports.add = MathJax._.util.Entities.add;\nexports.remove = MathJax._.util.Entities.remove;\nexports.translate = MathJax._.util.Entities.translate;\nexports.numeric = MathJax._.util.Entities.numeric;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TexParser_js_1 = require(\"./TexParser.js\");\nvar Label = (function () {\n    function Label(tag, id) {\n        if (tag === void 0) { tag = '???'; }\n        if (id === void 0) { id = ''; }\n        this.tag = tag;\n        this.id = id;\n    }\n    return Label;\n}());\nexports.Label = Label;\nvar TagInfo = (function () {\n    function TagInfo(env, taggable, defaultTags, tag, tagId, tagFormat, noTag, labelId) {\n        if (env === void 0) { env = ''; }\n        if (taggable === void 0) { taggable = false; }\n        if (defaultTags === void 0) { defaultTags = false; }\n        if (tag === void 0) { tag = null; }\n        if (tagId === void 0) { tagId = ''; }\n        if (tagFormat === void 0) { tagFormat = ''; }\n        if (noTag === void 0) { noTag = false; }\n        if (labelId === void 0) { labelId = ''; }\n        this.env = env;\n        this.taggable = taggable;\n        this.defaultTags = defaultTags;\n        this.tag = tag;\n        this.tagId = tagId;\n        this.tagFormat = tagFormat;\n        this.noTag = noTag;\n        this.labelId = labelId;\n    }\n    return TagInfo;\n}());\nexports.TagInfo = TagInfo;\nvar AbstractTags = (function () {\n    function AbstractTags() {\n        this.counter = 0;\n        this.allCounter = 0;\n        this.configuration = null;\n        this.ids = {};\n        this.allIds = {};\n        this.labels = {};\n        this.allLabels = {};\n        this.redo = false;\n        this.refUpdate = false;\n        this.currentTag = new TagInfo();\n        this.history = [];\n        this.stack = [];\n        this.enTag = function (node, tag) {\n            var nf = this.configuration.nodeFactory;\n            var cell = nf.create('node', 'mtd', [node]);\n            var row = nf.create('node', 'mlabeledtr', [tag, cell]);\n            var table = nf.create('node', 'mtable', [row], {\n                side: this.configuration.options['tagSide'],\n                minlabelspacing: this.configuration.options['tagIndent'],\n                displaystyle: true\n            });\n            return table;\n        };\n    }\n    AbstractTags.prototype.start = function (env, taggable, defaultTags) {\n        if (this.currentTag) {\n            this.stack.push(this.currentTag);\n        }\n        this.currentTag = new TagInfo(env, taggable, defaultTags);\n    };\n    Object.defineProperty(AbstractTags.prototype, \"env\", {\n        get: function () {\n            return this.currentTag.env;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AbstractTags.prototype.end = function () {\n        this.history.push(this.currentTag);\n        this.currentTag = this.stack.pop();\n    };\n    AbstractTags.prototype.tag = function (tag, noFormat) {\n        this.currentTag.tag = tag;\n        this.currentTag.tagFormat = noFormat ? tag : this.formatTag(tag);\n        this.currentTag.noTag = false;\n    };\n    AbstractTags.prototype.notag = function () {\n        this.tag('', true);\n        this.currentTag.noTag = true;\n    };\n    Object.defineProperty(AbstractTags.prototype, \"noTag\", {\n        get: function () {\n            return this.currentTag.noTag;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AbstractTags.prototype, \"label\", {\n        get: function () {\n            return this.currentTag.labelId;\n        },\n        set: function (label) {\n            this.currentTag.labelId = label;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AbstractTags.prototype.formatUrl = function (id, base) {\n        return base + '#' + encodeURIComponent(id);\n    };\n    AbstractTags.prototype.formatTag = function (tag) {\n        return '(' + tag + ')';\n    };\n    AbstractTags.prototype.formatId = function (id) {\n        return 'mjx-eqn-' + id.replace(/\\s/g, '_');\n    };\n    AbstractTags.prototype.formatNumber = function (n) {\n        return n.toString();\n    };\n    AbstractTags.prototype.autoTag = function () {\n        if (this.currentTag.tag == null) {\n            this.counter++;\n            this.tag(this.formatNumber(this.counter), false);\n        }\n    };\n    AbstractTags.prototype.clearTag = function () {\n        this.label = '';\n        this.tag(null, true);\n        this.currentTag.tagId = '';\n    };\n    AbstractTags.prototype.getTag = function (force) {\n        if (force === void 0) { force = false; }\n        if (force) {\n            this.autoTag();\n            return this.makeTag();\n        }\n        var ct = this.currentTag;\n        if (ct.taggable && !ct.noTag) {\n            if (ct.defaultTags) {\n                this.autoTag();\n            }\n            if (ct.tag) {\n                return this.makeTag();\n            }\n        }\n        return null;\n    };\n    AbstractTags.prototype.resetTag = function () {\n        this.history = [];\n        this.redo = false;\n        this.refUpdate = false;\n        this.clearTag();\n    };\n    AbstractTags.prototype.reset = function (offset) {\n        if (offset === void 0) { offset = 0; }\n        this.resetTag();\n        this.counter = this.allCounter = offset;\n        this.allLabels = {};\n        this.allIds = {};\n    };\n    AbstractTags.prototype.startEquation = function (math) {\n        this.labels = {};\n        this.ids = {};\n        this.counter = this.allCounter;\n        this.redo = false;\n        var recompile = math.inputData.recompile;\n        if (recompile) {\n            this.refUpdate = true;\n            this.counter = recompile.counter;\n        }\n    };\n    AbstractTags.prototype.finishEquation = function (math) {\n        if (this.redo) {\n            math.inputData.recompile = {\n                state: math.state(),\n                counter: this.allCounter\n            };\n        }\n        if (!this.refUpdate) {\n            this.allCounter = this.counter;\n        }\n        Object.assign(this.allIds, this.ids);\n        Object.assign(this.allLabels, this.labels);\n    };\n    AbstractTags.prototype.finalize = function (node, env) {\n        if (!env.display || this.currentTag.env ||\n            this.currentTag.tag == null) {\n            return node;\n        }\n        var tag = this.makeTag();\n        var table = this.enTag(node, tag);\n        return table;\n    };\n    AbstractTags.prototype.makeId = function () {\n        this.currentTag.tagId = this.formatId(this.configuration.options['useLabelIds'] ?\n            (this.label || this.currentTag.tag) : this.currentTag.tag);\n    };\n    AbstractTags.prototype.makeTag = function () {\n        this.makeId();\n        if (this.label) {\n            this.labels[this.label] = new Label(this.currentTag.tag, this.currentTag.tagId);\n        }\n        var mml = new TexParser_js_1.default('\\\\text{' + this.currentTag.tagFormat + '}', {}, this.configuration).mml();\n        return this.configuration.nodeFactory.create('node', 'mtd', [mml], { id: this.currentTag.tagId });\n    };\n    return AbstractTags;\n}());\nexports.AbstractTags = AbstractTags;\n;\nvar NoTags = (function (_super) {\n    __extends(NoTags, _super);\n    function NoTags() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NoTags.prototype.autoTag = function () { };\n    NoTags.prototype.getTag = function () {\n        return !this.currentTag.tag ? null : _super.prototype.getTag.call(this);\n    };\n    return NoTags;\n}(AbstractTags));\nexports.NoTags = NoTags;\nvar AllTags = (function (_super) {\n    __extends(AllTags, _super);\n    function AllTags() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllTags.prototype.finalize = function (node, env) {\n        if (!env.display || this.history.find(function (x) { return x.taggable; })) {\n            return node;\n        }\n        var tag = this.getTag(true);\n        return this.enTag(node, tag);\n    };\n    return AllTags;\n}(AbstractTags));\nexports.AllTags = AllTags;\nvar TagsFactory;\n(function (TagsFactory) {\n    var tagsMapping = new Map([\n        ['none', NoTags],\n        ['all', AllTags]\n    ]);\n    var defaultTags = 'none';\n    TagsFactory.OPTIONS = {\n        tags: defaultTags,\n        tagSide: 'right',\n        tagIndent: '0.8em',\n        multlineWidth: '85%',\n        useLabelIds: true,\n        ignoreDuplicateLabels: false\n    };\n    TagsFactory.add = function (name, constr) {\n        tagsMapping.set(name, constr);\n    };\n    TagsFactory.addTags = function (tags) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(Object.keys(tags)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var key = _c.value;\n                TagsFactory.add(key, tags[key]);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    TagsFactory.create = function (name) {\n        var constr = tagsMapping.get(name) || tagsMapping.get(defaultTags);\n        if (!constr) {\n            throw Error('Unknown tags class');\n        }\n        return new constr();\n    };\n    TagsFactory.setDefault = function (name) {\n        defaultTags = name;\n    };\n    TagsFactory.getDefault = function () {\n        return TagsFactory.create(defaultTags);\n    };\n})(TagsFactory = exports.TagsFactory || (exports.TagsFactory = {}));\n//# sourceMappingURL=Tags.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Symbol = (function () {\n    function Symbol(_symbol, _char, _attributes) {\n        this._symbol = _symbol;\n        this._char = _char;\n        this._attributes = _attributes;\n    }\n    Object.defineProperty(Symbol.prototype, \"symbol\", {\n        get: function () {\n            return this._symbol;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Symbol.prototype, \"char\", {\n        get: function () {\n            return this._char;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Symbol.prototype, \"attributes\", {\n        get: function () {\n            return this._attributes;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Symbol;\n}());\nexports.Symbol = Symbol;\n;\nvar Macro = (function () {\n    function Macro(_symbol, _func, _args) {\n        if (_args === void 0) { _args = []; }\n        this._symbol = _symbol;\n        this._func = _func;\n        this._args = _args;\n    }\n    Object.defineProperty(Macro.prototype, \"symbol\", {\n        get: function () {\n            return this._symbol;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Macro.prototype, \"func\", {\n        get: function () {\n            return this._func;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Macro.prototype, \"args\", {\n        get: function () {\n            return this._args;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Macro;\n}());\nexports.Macro = Macro;\n;\n//# sourceMappingURL=Symbol.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NodeUtil_js_1 = require(\"./NodeUtil.js\");\nvar NodeFactory = (function () {\n    function NodeFactory() {\n        this.mmlFactory = null;\n        this.factory = { 'node': NodeFactory.createNode,\n            'token': NodeFactory.createToken,\n            'text': NodeFactory.createText,\n            'error': NodeFactory.createError\n        };\n    }\n    NodeFactory.prototype.setMmlFactory = function (mmlFactory) {\n        this.mmlFactory = mmlFactory;\n    };\n    NodeFactory.createNode = function (factory, kind, children, def, text) {\n        if (children === void 0) { children = []; }\n        if (def === void 0) { def = {}; }\n        var node = factory.mmlFactory.create(kind);\n        var arity = node.arity;\n        if (arity === Infinity || arity === -1) {\n            if (children.length === 1 && children[0].isInferred) {\n                node.setChildren(NodeUtil_js_1.default.getChildren(children[0]));\n            }\n            else {\n                node.setChildren(children);\n            }\n        }\n        else {\n            var cleanChildren = [];\n            for (var i = 0, child = void 0; child = children[i]; i++) {\n                if (child.isInferred) {\n                    var mrow = factory.mmlFactory.create('mrow', {}, NodeUtil_js_1.default.getChildren(child));\n                    NodeUtil_js_1.default.copyAttributes(child, mrow);\n                    cleanChildren.push(mrow);\n                }\n                else {\n                    cleanChildren.push(child);\n                }\n            }\n            node.setChildren(cleanChildren);\n        }\n        if (text) {\n            node.appendChild(text);\n        }\n        NodeUtil_js_1.default.setProperties(node, def);\n        return node;\n    };\n    ;\n    NodeFactory.createToken = function (factory, kind, def, text) {\n        if (def === void 0) { def = {}; }\n        if (text === void 0) { text = ''; }\n        var textNode = factory.create('text', text);\n        return factory.create('node', kind, [], def, textNode);\n    };\n    NodeFactory.createText = function (factory, text) {\n        if (text == null) {\n            return null;\n        }\n        return factory.mmlFactory.create('text').setText(text);\n    };\n    ;\n    NodeFactory.createError = function (factory, message) {\n        var text = factory.create('text', message);\n        var mtext = factory.create('node', 'mtext', [], {}, text);\n        var error = factory.create('node', 'merror', [mtext]);\n        return error;\n    };\n    ;\n    NodeFactory.prototype.set = function (kind, func) {\n        this.factory[kind] = func;\n    };\n    NodeFactory.prototype.setCreators = function (maps) {\n        for (var kind in maps) {\n            this.set(kind, maps[kind]);\n        }\n    };\n    NodeFactory.prototype.create = function (kind) {\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        var func = this.factory[kind] || this.factory['node'];\n        var node = func.apply(void 0, __spread([this, rest[0]], rest.slice(1)));\n        if (kind === 'node') {\n            this.configuration.addNode(rest[0], node);\n        }\n        return node;\n    };\n    NodeFactory.prototype.get = function (kind) {\n        return this.factory[kind];\n    };\n    return NodeFactory;\n}());\nexports.NodeFactory = NodeFactory;\n//# sourceMappingURL=NodeFactory.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar MapHandler_js_1 = require(\"../MapHandler.js\");\nvar TexError_js_1 = require(\"../TexError.js\");\nvar NodeUtil_js_1 = require(\"../NodeUtil.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar bitem = require(\"./BaseItems.js\");\nvar Tags_js_1 = require(\"../Tags.js\");\nrequire(\"./BaseMappings.js\");\nnew SymbolMap_js_1.CharacterMap('remap', null, {\n    '-': '\\u2212',\n    '*': '\\u2217',\n    '`': '\\u2018'\n});\nfunction Other(parser, char) {\n    var font = parser.stack.env['font'];\n    var def = font ?\n        { mathvariant: parser.stack.env['font'] } : {};\n    var remap = MapHandler_js_1.MapHandler.getMap('remap').\n        lookup(char);\n    var mo = parser.create('token', 'mo', def, (remap ? remap.char : char));\n    NodeUtil_js_1.default.setProperty(mo, 'fixStretchy', true);\n    parser.configuration.addNode('fixStretchy', mo);\n    parser.Push(mo);\n}\nexports.Other = Other;\n;\nfunction csUndefined(parser, name) {\n    throw new TexError_js_1.default('UndefinedControlSequence', 'Undefined control sequence %1', '\\\\' + name);\n}\n;\nfunction envUndefined(parser, env) {\n    throw new TexError_js_1.default('UnknownEnv', 'Unknown environment \\'%1\\'', env);\n}\n;\nvar BaseTags = (function (_super) {\n    __extends(BaseTags, _super);\n    function BaseTags() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return BaseTags;\n}(Tags_js_1.AbstractTags));\nexports.BaseTags = BaseTags;\nexports.BaseConfiguration = Configuration_js_1.Configuration.create('base', { handler: {\n        character: ['command', 'special', 'letter', 'digit'],\n        delimiter: ['delimiter'],\n        macro: ['delimiter', 'macros', 'mathchar0mi', 'mathchar0mo', 'mathchar7'],\n        environment: ['environment']\n    },\n    fallback: {\n        character: Other,\n        macro: csUndefined,\n        environment: envUndefined\n    },\n    items: (_a = {},\n        _a[bitem.StartItem.prototype.kind] = bitem.StartItem,\n        _a[bitem.StopItem.prototype.kind] = bitem.StopItem,\n        _a[bitem.OpenItem.prototype.kind] = bitem.OpenItem,\n        _a[bitem.CloseItem.prototype.kind] = bitem.CloseItem,\n        _a[bitem.PrimeItem.prototype.kind] = bitem.PrimeItem,\n        _a[bitem.SubsupItem.prototype.kind] = bitem.SubsupItem,\n        _a[bitem.OverItem.prototype.kind] = bitem.OverItem,\n        _a[bitem.LeftItem.prototype.kind] = bitem.LeftItem,\n        _a[bitem.RightItem.prototype.kind] = bitem.RightItem,\n        _a[bitem.BeginItem.prototype.kind] = bitem.BeginItem,\n        _a[bitem.EndItem.prototype.kind] = bitem.EndItem,\n        _a[bitem.StyleItem.prototype.kind] = bitem.StyleItem,\n        _a[bitem.PositionItem.prototype.kind] = bitem.PositionItem,\n        _a[bitem.CellItem.prototype.kind] = bitem.CellItem,\n        _a[bitem.MmlItem.prototype.kind] = bitem.MmlItem,\n        _a[bitem.FnItem.prototype.kind] = bitem.FnItem,\n        _a[bitem.NotItem.prototype.kind] = bitem.NotItem,\n        _a[bitem.DotsItem.prototype.kind] = bitem.DotsItem,\n        _a[bitem.ArrayItem.prototype.kind] = bitem.ArrayItem,\n        _a[bitem.EqnArrayItem.prototype.kind] = bitem.EqnArrayItem,\n        _a[bitem.EquationItem.prototype.kind] = bitem.EquationItem,\n        _a),\n    options: { maxMacros: 1000,\n        baseURL: (typeof (document) === 'undefined' ||\n            document.getElementsByTagName('base').length === 0) ?\n            '' : String(document.location).replace(/#.*$/, '')\n    },\n    tags: { base: BaseTags } });\n//# sourceMappingURL=BaseConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MapHandler_js_1 = require(\"../MapHandler.js\");\nvar Entities_js_1 = require(\"../../../util/Entities.js\");\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar TexError_js_1 = require(\"../TexError.js\");\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nvar NodeUtil_js_1 = require(\"../NodeUtil.js\");\nvar StackItem_js_1 = require(\"../StackItem.js\");\nvar StartItem = (function (_super) {\n    __extends(StartItem, _super);\n    function StartItem(factory, global) {\n        var _this = _super.call(this, factory) || this;\n        _this.global = global;\n        return _this;\n    }\n    Object.defineProperty(StartItem.prototype, \"kind\", {\n        get: function () {\n            return 'start';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StartItem.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StartItem.prototype.checkItem = function (item) {\n        if (item.isKind('stop')) {\n            var node = this.toMml();\n            if (!this.global.isInner) {\n                node = this.factory.configuration.tags.finalize(node, this.env);\n            }\n            return [[this.factory.create('mml', node)], true];\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    return StartItem;\n}(StackItem_js_1.BaseItem));\nexports.StartItem = StartItem;\nvar StopItem = (function (_super) {\n    __extends(StopItem, _super);\n    function StopItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(StopItem.prototype, \"kind\", {\n        get: function () {\n            return 'stop';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StopItem.prototype, \"isClose\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return StopItem;\n}(StackItem_js_1.BaseItem));\nexports.StopItem = StopItem;\nvar OpenItem = (function (_super) {\n    __extends(OpenItem, _super);\n    function OpenItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(OpenItem.prototype, \"kind\", {\n        get: function () {\n            return 'open';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OpenItem.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OpenItem.prototype.checkItem = function (item) {\n        if (item.isKind('close')) {\n            var mml = this.toMml();\n            var node = this.create('node', 'TeXAtom', [mml]);\n            return [[this.factory.create('mml', node)], true];\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    OpenItem.errors = Object.assign(Object.create(StackItem_js_1.BaseItem.errors), {\n        'stop': ['ExtraOpenMissingClose',\n            'Extra open brace or missing close brace']\n    });\n    return OpenItem;\n}(StackItem_js_1.BaseItem));\nexports.OpenItem = OpenItem;\nvar CloseItem = (function (_super) {\n    __extends(CloseItem, _super);\n    function CloseItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(CloseItem.prototype, \"kind\", {\n        get: function () {\n            return 'close';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CloseItem.prototype, \"isClose\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return CloseItem;\n}(StackItem_js_1.BaseItem));\nexports.CloseItem = CloseItem;\nvar PrimeItem = (function (_super) {\n    __extends(PrimeItem, _super);\n    function PrimeItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(PrimeItem.prototype, \"kind\", {\n        get: function () {\n            return 'prime';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PrimeItem.prototype.checkItem = function (item) {\n        var _a = __read(this.Peek(2), 2), top0 = _a[0], top1 = _a[1];\n        if (!NodeUtil_js_1.default.isType(top0, 'msubsup') || NodeUtil_js_1.default.isType(top0, 'msup')) {\n            var node = this.create('node', 'msup', [top0, top1]);\n            return [[node, item], true];\n        }\n        NodeUtil_js_1.default.setChild(top0, top0.sup, top1);\n        return [[top0, item], true];\n    };\n    return PrimeItem;\n}(StackItem_js_1.BaseItem));\nexports.PrimeItem = PrimeItem;\nvar SubsupItem = (function (_super) {\n    __extends(SubsupItem, _super);\n    function SubsupItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(SubsupItem.prototype, \"kind\", {\n        get: function () {\n            return 'subsup';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SubsupItem.prototype.checkItem = function (item) {\n        if (item.isKind('open') || item.isKind('left')) {\n            return StackItem_js_1.BaseItem.success;\n        }\n        var top = this.First;\n        var position = this.getProperty('position');\n        if (item.isKind('mml')) {\n            if (this.getProperty('primes')) {\n                if (position !== 2) {\n                    NodeUtil_js_1.default.setChild(top, 2, this.getProperty('primes'));\n                }\n                else {\n                    NodeUtil_js_1.default.setProperty(this.getProperty('primes'), 'variantForm', true);\n                    var node = this.create('node', 'mrow', [this.getProperty('primes'), item.First]);\n                    item.First = node;\n                }\n            }\n            NodeUtil_js_1.default.setChild(top, position, item.First);\n            if (this.getProperty('movesupsub') != null) {\n                NodeUtil_js_1.default.setProperty(top, 'movesupsub', this.getProperty('movesupsub'));\n            }\n            var result = this.factory.create('mml', top);\n            return [[result], true];\n        }\n        if (_super.prototype.checkItem.call(this, item)[1]) {\n            var error = this.getErrors(['', 'sub', 'sup'][position]);\n            throw new (TexError_js_1.default.bind.apply(TexError_js_1.default, __spread([void 0, error[0], error[1]], error.splice(2))))();\n        }\n    };\n    SubsupItem.errors = Object.assign(Object.create(StackItem_js_1.BaseItem.errors), {\n        'stop': ['MissingScript',\n            'Missing superscript or subscript argument'],\n        'sup': ['MissingOpenForSup',\n            'Missing open brace for superscript'],\n        'sub': ['MissingOpenForSub',\n            'Missing open brace for subscript']\n    });\n    return SubsupItem;\n}(StackItem_js_1.BaseItem));\nexports.SubsupItem = SubsupItem;\nvar OverItem = (function (_super) {\n    __extends(OverItem, _super);\n    function OverItem(factory) {\n        var _this = _super.call(this, factory) || this;\n        _this.setProperty('name', '\\\\over');\n        return _this;\n    }\n    Object.defineProperty(OverItem.prototype, \"kind\", {\n        get: function () {\n            return 'over';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OverItem.prototype, \"isClose\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OverItem.prototype.checkItem = function (item) {\n        if (item.isKind('over')) {\n            throw new TexError_js_1.default('AmbiguousUseOf', 'Ambiguous use of %1', item.getName());\n        }\n        if (item.isClose) {\n            var mml = this.create('node', 'mfrac', [this.getProperty('num'), this.toMml(false)]);\n            if (this.getProperty('thickness') != null) {\n                NodeUtil_js_1.default.setAttribute(mml, 'linethickness', this.getProperty('thickness'));\n            }\n            if (this.getProperty('open') || this.getProperty('close')) {\n                NodeUtil_js_1.default.setProperty(mml, 'withDelims', true);\n                mml = ParseUtil_js_1.default.fixedFence(this.factory.configuration, this.getProperty('open'), mml, this.getProperty('close'));\n            }\n            return [[this.factory.create('mml', mml), item], true];\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    OverItem.prototype.toString = function () {\n        return 'over[' + this.getProperty('num') +\n            ' / ' + this.nodes.join('; ') + ']';\n    };\n    return OverItem;\n}(StackItem_js_1.BaseItem));\nexports.OverItem = OverItem;\nvar LeftItem = (function (_super) {\n    __extends(LeftItem, _super);\n    function LeftItem(factory) {\n        var _this = _super.call(this, factory) || this;\n        _this.setProperty('delim', '(');\n        return _this;\n    }\n    Object.defineProperty(LeftItem.prototype, \"kind\", {\n        get: function () {\n            return 'left';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LeftItem.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    LeftItem.prototype.checkItem = function (item) {\n        if (item.isKind('right')) {\n            return [[this.factory.create('mml', ParseUtil_js_1.default.fenced(this.factory.configuration, this.getProperty('delim'), this.toMml(), item.getProperty('delim')))], true];\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    LeftItem.errors = Object.assign(Object.create(StackItem_js_1.BaseItem.errors), {\n        'stop': ['ExtraLeftMissingRight',\n            'Extra \\\\left or missing \\\\right']\n    });\n    return LeftItem;\n}(StackItem_js_1.BaseItem));\nexports.LeftItem = LeftItem;\nvar RightItem = (function (_super) {\n    __extends(RightItem, _super);\n    function RightItem(factory) {\n        var _this = _super.call(this, factory) || this;\n        _this.setProperty('delim', ')');\n        return _this;\n    }\n    Object.defineProperty(RightItem.prototype, \"kind\", {\n        get: function () {\n            return 'right';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RightItem.prototype, \"isClose\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RightItem;\n}(StackItem_js_1.BaseItem));\nexports.RightItem = RightItem;\nvar BeginItem = (function (_super) {\n    __extends(BeginItem, _super);\n    function BeginItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BeginItem.prototype, \"kind\", {\n        get: function () {\n            return 'begin';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BeginItem.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BeginItem.prototype.checkItem = function (item) {\n        if (item.isKind('end')) {\n            if (item.getName() !== this.getName()) {\n                throw new TexError_js_1.default('EnvBadEnd', '\\\\begin{%1} ended with \\\\end{%2}', this.getName(), item.getName());\n            }\n            if (!this.getProperty('end')) {\n                return [[this.factory.create('mml', this.toMml())], true];\n            }\n            return StackItem_js_1.BaseItem.fail;\n        }\n        if (item.isKind('stop')) {\n            throw new TexError_js_1.default('EnvMissingEnd', 'Missing \\\\end{%1}', this.getName());\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    return BeginItem;\n}(StackItem_js_1.BaseItem));\nexports.BeginItem = BeginItem;\nvar EndItem = (function (_super) {\n    __extends(EndItem, _super);\n    function EndItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(EndItem.prototype, \"kind\", {\n        get: function () {\n            return 'end';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EndItem.prototype, \"isClose\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return EndItem;\n}(StackItem_js_1.BaseItem));\nexports.EndItem = EndItem;\nvar StyleItem = (function (_super) {\n    __extends(StyleItem, _super);\n    function StyleItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(StyleItem.prototype, \"kind\", {\n        get: function () {\n            return 'style';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StyleItem.prototype.checkItem = function (item) {\n        if (!item.isClose) {\n            return _super.prototype.checkItem.call(this, item);\n        }\n        var mml = this.create('node', 'mstyle', this.nodes, this.getProperty('styles'));\n        return [[this.factory.create('mml', mml), item], true];\n    };\n    return StyleItem;\n}(StackItem_js_1.BaseItem));\nexports.StyleItem = StyleItem;\nvar PositionItem = (function (_super) {\n    __extends(PositionItem, _super);\n    function PositionItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(PositionItem.prototype, \"kind\", {\n        get: function () {\n            return 'position';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PositionItem.prototype.checkItem = function (item) {\n        if (item.isClose) {\n            throw new TexError_js_1.default('MissingBoxFor', 'Missing box for %1', this.getName());\n        }\n        if (item.isFinal) {\n            var mml = item.toMml();\n            switch (this.getProperty('move')) {\n                case 'vertical':\n                    mml = this.create('node', 'mpadded', [mml], { height: this.getProperty('dh'),\n                        depth: this.getProperty('dd'),\n                        voffset: this.getProperty('dh') });\n                    return [[this.factory.create('mml', mml)], true];\n                case 'horizontal':\n                    return [[this.factory.create('mml', this.getProperty('left')), item,\n                            this.factory.create('mml', this.getProperty('right'))], true];\n            }\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    return PositionItem;\n}(StackItem_js_1.BaseItem));\nexports.PositionItem = PositionItem;\nvar CellItem = (function (_super) {\n    __extends(CellItem, _super);\n    function CellItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(CellItem.prototype, \"kind\", {\n        get: function () {\n            return 'cell';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CellItem.prototype, \"isClose\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return CellItem;\n}(StackItem_js_1.BaseItem));\nexports.CellItem = CellItem;\nvar MmlItem = (function (_super) {\n    __extends(MmlItem, _super);\n    function MmlItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(MmlItem.prototype, \"isFinal\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MmlItem.prototype, \"kind\", {\n        get: function () {\n            return 'mml';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return MmlItem;\n}(StackItem_js_1.BaseItem));\nexports.MmlItem = MmlItem;\nvar FnItem = (function (_super) {\n    __extends(FnItem, _super);\n    function FnItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(FnItem.prototype, \"kind\", {\n        get: function () {\n            return 'fn';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FnItem.prototype.checkItem = function (item) {\n        var top = this.First;\n        if (top) {\n            if (item.isOpen) {\n                return StackItem_js_1.BaseItem.success;\n            }\n            if (!item.isKind('fn')) {\n                var mml = item.First;\n                if (!item.isKind('mml') || !mml) {\n                    return [[top, item], true];\n                }\n                if ((NodeUtil_js_1.default.isType(mml, 'mstyle') && mml.childNodes.length &&\n                    NodeUtil_js_1.default.isType(mml.childNodes[0].childNodes[0], 'mspace')) ||\n                    NodeUtil_js_1.default.isType(mml, 'mspace')) {\n                    return [[top, item], true];\n                }\n                if (NodeUtil_js_1.default.isEmbellished(mml)) {\n                    mml = NodeUtil_js_1.default.getCoreMO(mml);\n                }\n                var form = NodeUtil_js_1.default.getForm(mml);\n                if (form != null && [0, 0, 1, 1, 0, 1, 1, 0, 0, 0][form[2]]) {\n                    return [[top, item], true];\n                }\n            }\n            var node = this.create('token', 'mo', { texClass: MmlNode_js_1.TEXCLASS.NONE }, Entities_js_1.entities.ApplyFunction);\n            return [[top, node, item], true];\n        }\n        return _super.prototype.checkItem.apply(this, arguments);\n    };\n    return FnItem;\n}(StackItem_js_1.BaseItem));\nexports.FnItem = FnItem;\nvar NotItem = (function (_super) {\n    __extends(NotItem, _super);\n    function NotItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.remap = MapHandler_js_1.MapHandler.getMap('not_remap');\n        return _this;\n    }\n    Object.defineProperty(NotItem.prototype, \"kind\", {\n        get: function () {\n            return 'not';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    NotItem.prototype.checkItem = function (item) {\n        var mml;\n        var c;\n        var textNode;\n        if (item.isKind('open') || item.isKind('left')) {\n            return StackItem_js_1.BaseItem.success;\n        }\n        if (item.isKind('mml') &&\n            (NodeUtil_js_1.default.isType(item.First, 'mo') || NodeUtil_js_1.default.isType(item.First, 'mi') ||\n                NodeUtil_js_1.default.isType(item.First, 'mtext'))) {\n            mml = item.First;\n            c = NodeUtil_js_1.default.getText(mml);\n            if (c.length === 1 && !NodeUtil_js_1.default.getProperty(mml, 'movesupsub') &&\n                NodeUtil_js_1.default.getChildren(mml).length === 1) {\n                if (this.remap.contains(c)) {\n                    textNode = this.create('text', this.remap.lookup(c).char);\n                    NodeUtil_js_1.default.setChild(mml, 0, textNode);\n                }\n                else {\n                    textNode = this.create('text', '\\u0338');\n                    NodeUtil_js_1.default.appendChildren(mml, [textNode]);\n                }\n                return [[item], true];\n            }\n        }\n        textNode = this.create('text', '\\u29F8');\n        var mtextNode = this.create('node', 'mtext', [], {}, textNode);\n        var paddedNode = this.create('node', 'mpadded', [mtextNode], { width: 0 });\n        mml = this.create('node', 'TeXAtom', [paddedNode], { texClass: MmlNode_js_1.TEXCLASS.REL });\n        return [[mml, item], true];\n    };\n    return NotItem;\n}(StackItem_js_1.BaseItem));\nexports.NotItem = NotItem;\nvar DotsItem = (function (_super) {\n    __extends(DotsItem, _super);\n    function DotsItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(DotsItem.prototype, \"kind\", {\n        get: function () {\n            return 'dots';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DotsItem.prototype.checkItem = function (item) {\n        if (item.isKind('open') || item.isKind('left')) {\n            return StackItem_js_1.BaseItem.success;\n        }\n        var dots = this.getProperty('ldots');\n        var top = item.First;\n        if (item.isKind('mml') && NodeUtil_js_1.default.isEmbellished(top)) {\n            var tclass = NodeUtil_js_1.default.getTexClass(NodeUtil_js_1.default.getCoreMO(top));\n            if (tclass === MmlNode_js_1.TEXCLASS.BIN || tclass === MmlNode_js_1.TEXCLASS.REL) {\n                dots = this.getProperty('cdots');\n            }\n        }\n        return [[dots, item], true];\n    };\n    return DotsItem;\n}(StackItem_js_1.BaseItem));\nexports.DotsItem = DotsItem;\nvar ArrayItem = (function (_super) {\n    __extends(ArrayItem, _super);\n    function ArrayItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.table = [];\n        _this.row = [];\n        _this.frame = [];\n        _this.hfill = [];\n        _this.arraydef = {};\n        _this.dashed = false;\n        return _this;\n    }\n    Object.defineProperty(ArrayItem.prototype, \"kind\", {\n        get: function () {\n            return 'array';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ArrayItem.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ArrayItem.prototype, \"copyEnv\", {\n        get: function () {\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ArrayItem.prototype.checkItem = function (item) {\n        if (item.isClose && !item.isKind('over')) {\n            if (item.getProperty('isEntry')) {\n                this.EndEntry();\n                this.clearEnv();\n                return StackItem_js_1.BaseItem.fail;\n            }\n            if (item.getProperty('isCR')) {\n                this.EndEntry();\n                this.EndRow();\n                this.clearEnv();\n                return StackItem_js_1.BaseItem.fail;\n            }\n            this.EndTable();\n            this.clearEnv();\n            var scriptlevel = this.arraydef['scriptlevel'];\n            delete this.arraydef['scriptlevel'];\n            var mml = this.create('node', 'mtable', this.table, this.arraydef);\n            if (this.frame.length === 4) {\n                NodeUtil_js_1.default.setAttribute(mml, 'frame', this.dashed ? 'dashed' : 'solid');\n            }\n            else if (this.frame.length) {\n                if (this.arraydef['rowlines']) {\n                    this.arraydef['rowlines'] =\n                        this.arraydef['rowlines'].replace(/none( none)+$/, 'none');\n                }\n                mml = this.create('node', 'menclose', [mml], { notation: this.frame.join(' '), isFrame: true });\n                if ((this.arraydef['columnlines'] || 'none') !== 'none' ||\n                    (this.arraydef['rowlines'] || 'none') !== 'none') {\n                    NodeUtil_js_1.default.setAttribute(mml, 'padding', 0);\n                }\n            }\n            if (scriptlevel) {\n                mml = this.create('node', 'mstyle', [mml], { scriptlevel: scriptlevel });\n            }\n            if (this.getProperty('open') || this.getProperty('close')) {\n                mml = ParseUtil_js_1.default.fenced(this.factory.configuration, this.getProperty('open'), mml, this.getProperty('close'));\n            }\n            var newItem = this.factory.create('mml', mml);\n            if (this.getProperty('requireClose')) {\n                if (item.isKind('close')) {\n                    return [[newItem], true];\n                }\n                throw new TexError_js_1.default('MissingCloseBrace', 'Missing close brace');\n            }\n            return [[newItem, item], true];\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    ArrayItem.prototype.EndEntry = function () {\n        var mtd = this.create('node', 'mtd', this.nodes);\n        if (this.hfill.length) {\n            if (this.hfill[0] === 0) {\n                NodeUtil_js_1.default.setAttribute(mtd, 'columnalign', 'right');\n            }\n            if (this.hfill[this.hfill.length - 1] === this.Size()) {\n                NodeUtil_js_1.default.setAttribute(mtd, 'columnalign', NodeUtil_js_1.default.getAttribute(mtd, 'columnalign') ? 'center' : 'left');\n            }\n        }\n        this.row.push(mtd);\n        this.Clear();\n        this.hfill = [];\n    };\n    ArrayItem.prototype.EndRow = function () {\n        var node;\n        if (this.getProperty('isNumbered') && this.row.length === 3) {\n            this.row.unshift(this.row.pop());\n            node = this.create('node', 'mlabeledtr', this.row);\n        }\n        else {\n            node = this.create('node', 'mtr', this.row);\n        }\n        this.table.push(node);\n        this.row = [];\n    };\n    ArrayItem.prototype.EndTable = function () {\n        if (this.Size() || this.row.length) {\n            this.EndEntry();\n            this.EndRow();\n        }\n        this.checkLines();\n    };\n    ArrayItem.prototype.checkLines = function () {\n        if (this.arraydef['rowlines']) {\n            var lines = this.arraydef['rowlines'].split(/ /);\n            if (lines.length === this.table.length) {\n                this.frame.push('bottom');\n                lines.pop();\n                this.arraydef['rowlines'] = lines.join(' ');\n            }\n            else if (lines.length < this.table.length - 1) {\n                this.arraydef['rowlines'] += ' none';\n            }\n        }\n        if (this.getProperty('rowspacing')) {\n            var rows = this.arraydef['rowspacing'].split(/ /);\n            while (rows.length < this.table.length) {\n                rows.push(this.getProperty('rowspacing') + 'em');\n            }\n            this.arraydef['rowspacing'] = rows.join(' ');\n        }\n    };\n    return ArrayItem;\n}(StackItem_js_1.BaseItem));\nexports.ArrayItem = ArrayItem;\nvar EqnArrayItem = (function (_super) {\n    __extends(EqnArrayItem, _super);\n    function EqnArrayItem(factory) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var _this = _super.call(this, factory) || this;\n        _this.factory.configuration.tags.start(args[0], args[2], args[1]);\n        return _this;\n    }\n    Object.defineProperty(EqnArrayItem.prototype, \"kind\", {\n        get: function () {\n            return 'eqnarray';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EqnArrayItem.prototype.EndEntry = function () {\n        if (this.row.length) {\n            ParseUtil_js_1.default.fixInitialMO(this.factory.configuration, this.nodes);\n        }\n        var node = this.create('node', 'mtd', this.nodes);\n        this.row.push(node);\n        this.Clear();\n    };\n    EqnArrayItem.prototype.EndRow = function () {\n        var mtr = 'mtr';\n        var tag = this.factory.configuration.tags.getTag();\n        if (tag) {\n            this.row = [tag].concat(this.row);\n            mtr = 'mlabeledtr';\n        }\n        this.factory.configuration.tags.clearTag();\n        var node = this.create('node', mtr, this.row);\n        this.table.push(node);\n        this.row = [];\n    };\n    EqnArrayItem.prototype.EndTable = function () {\n        _super.prototype.EndTable.call(this);\n        this.factory.configuration.tags.end();\n    };\n    return EqnArrayItem;\n}(ArrayItem));\nexports.EqnArrayItem = EqnArrayItem;\nvar EquationItem = (function (_super) {\n    __extends(EquationItem, _super);\n    function EquationItem(factory) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var _this = _super.call(this, factory) || this;\n        _this.factory.configuration.tags.start('equation', true, args[0]);\n        return _this;\n    }\n    Object.defineProperty(EquationItem.prototype, \"kind\", {\n        get: function () {\n            return 'equation';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EquationItem.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EquationItem.prototype.checkItem = function (item) {\n        if (item.isKind('end')) {\n            var mml = this.toMml();\n            var tag = this.factory.configuration.tags.getTag();\n            this.factory.configuration.tags.end();\n            return [[tag ? this.factory.configuration.tags.enTag(mml, tag) : mml, item], true];\n        }\n        if (item.isKind('stop')) {\n            throw new TexError_js_1.default('EnvMissingEnd', 'Missing \\\\end{%1}', this.getName());\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    return EquationItem;\n}(StackItem_js_1.BaseItem));\nexports.EquationItem = EquationItem;\n//# sourceMappingURL=BaseItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nvar NodeUtil_js_1 = require(\"../NodeUtil.js\");\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar TexParser_js_1 = require(\"../TexParser.js\");\nvar TexError_js_1 = require(\"../TexError.js\");\nvar Symbol_js_1 = require(\"../Symbol.js\");\nvar MapHandler_js_1 = require(\"../MapHandler.js\");\nvar BaseMethods_js_1 = require(\"../base/BaseMethods.js\");\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar AmsMethods = {};\nAmsMethods.AmsEqnArray = function (parser, begin, numbered, taggable, align, spacing, style) {\n    var args = parser.GetBrackets('\\\\begin{' + begin.getName() + '}');\n    var array = BaseMethods_js_1.default.EqnArray(parser, begin, numbered, taggable, align, spacing, style);\n    return ParseUtil_js_1.default.setArrayAlign(array, args);\n};\nAmsMethods.AlignAt = function (parser, begin, numbered, taggable) {\n    var name = begin.getName();\n    var n, valign, align = '', spacing = [];\n    if (!taggable) {\n        valign = parser.GetBrackets('\\\\begin{' + name + '}');\n    }\n    n = parser.GetArgument('\\\\begin{' + name + '}');\n    if (n.match(/[^0-9]/)) {\n        throw new TexError_js_1.default('PositiveIntegerArg', 'Argument to %1 must me a positive integer', '\\\\begin{' + name + '}');\n    }\n    var count = parseInt(n, 10);\n    while (count > 0) {\n        align += 'rl';\n        spacing.push('0em 0em');\n        count--;\n    }\n    var spaceStr = spacing.join(' ');\n    if (taggable) {\n        return AmsMethods.EqnArray(parser, begin, numbered, taggable, align, spaceStr);\n    }\n    var array = AmsMethods.EqnArray(parser, begin, numbered, taggable, align, spaceStr);\n    return ParseUtil_js_1.default.setArrayAlign(array, valign);\n};\nAmsMethods.Multline = function (parser, begin, numbered) {\n    parser.Push(begin);\n    ParseUtil_js_1.default.checkEqnEnv(parser);\n    var item = parser.itemFactory.create('multline', numbered, parser.stack);\n    item.arraydef = {\n        displaystyle: true,\n        rowspacing: '.5em',\n        columnwidth: '100%',\n        width: parser.options['multlineWidth'],\n        side: parser.options['tagSide'],\n        minlabelspacing: parser.options['tagIndent']\n    };\n    return item;\n};\nAmsMethods.HandleDeclareOp = function (parser, name) {\n    var limits = (parser.GetStar() ? '' : '\\\\nolimits\\\\SkipLimits');\n    var cs = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));\n    if (cs.charAt(0) === '\\\\') {\n        cs = cs.substr(1);\n    }\n    var op = parser.GetArgument(name);\n    if (!op.match(/\\\\text/)) {\n        op = op.replace(/\\*/g, '\\\\text{*}').replace(/-/g, '\\\\text{-}');\n    }\n    parser.configuration.handlers.retrieve(MapHandler_js_1.ExtensionMaps.NEW_COMMAND).\n        add(cs, new Symbol_js_1.Macro(cs, AmsMethods.Macro, ['\\\\mathop{\\\\rm ' + op + '}' + limits]));\n};\nAmsMethods.HandleOperatorName = function (parser, name) {\n    var limits = (parser.GetStar() ? '' : '\\\\nolimits\\\\SkipLimits');\n    var op = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));\n    if (!op.match(/\\\\text/)) {\n        op = op.replace(/\\*/g, '\\\\text{*}').replace(/-/g, '\\\\text{-}');\n    }\n    parser.string = '\\\\mathop{\\\\rm ' + op + '}' + limits + ' ' +\n        parser.string.slice(parser.i);\n    parser.i = 0;\n};\nAmsMethods.SkipLimits = function (parser, name) {\n    var c = parser.GetNext(), i = parser.i;\n    if (c === '\\\\' && ++parser.i && parser.GetCS() !== 'limits') {\n        parser.i = i;\n    }\n};\nAmsMethods.MultiIntegral = function (parser, name, integral) {\n    var next = parser.GetNext();\n    if (next === '\\\\') {\n        var i = parser.i;\n        next = parser.GetArgument(name);\n        parser.i = i;\n        if (next === '\\\\limits') {\n            if (name === '\\\\idotsint') {\n                integral = '\\\\!\\\\!\\\\mathop{\\\\,\\\\,' + integral + '}';\n            }\n            else {\n                integral = '\\\\!\\\\!\\\\!\\\\mathop{\\\\,\\\\,\\\\,' + integral + '}';\n            }\n        }\n    }\n    parser.string = integral + ' ' + parser.string.slice(parser.i);\n    parser.i = 0;\n};\nAmsMethods.xArrow = function (parser, name, chr, l, r) {\n    var def = { width: '+' + ParseUtil_js_1.default.Em((l + r) / 18), lspace: ParseUtil_js_1.default.Em(l / 18) };\n    var bot = parser.GetBrackets(name);\n    var first = parser.ParseArg(name);\n    var arrow = parser.create('token', 'mo', { stretchy: true, texClass: MmlNode_js_1.TEXCLASS.REL }, String.fromCharCode(chr));\n    var mml = parser.create('node', 'munderover', [arrow]);\n    var mpadded = parser.create('node', 'mpadded', [first], def);\n    NodeUtil_js_1.default.setAttribute(mpadded, 'voffset', '.15em');\n    NodeUtil_js_1.default.setChild(mml, mml.over, mpadded);\n    if (bot) {\n        var bottom = new TexParser_js_1.default(bot, parser.stack.env, parser.configuration).mml();\n        mpadded = parser.create('node', 'mpadded', [bottom], def);\n        NodeUtil_js_1.default.setAttribute(mpadded, 'voffset', '-.24em');\n        NodeUtil_js_1.default.setChild(mml, mml.under, mpadded);\n    }\n    NodeUtil_js_1.default.setProperty(mml, 'subsupOK', true);\n    parser.Push(mml);\n};\nAmsMethods.HandleShove = function (parser, name, shove) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'multline') {\n        throw new TexError_js_1.default('CommandOnlyAllowedInEnv', '%1 only allowed in %2 environment', parser.currentCS, 'multline');\n    }\n    if (top.Size()) {\n        throw new TexError_js_1.default('CommandAtTheBeginingOfLine', '%1 must come at the beginning of the line', parser.currentCS);\n    }\n    top.setProperty('shove', shove);\n};\nAmsMethods.CFrac = function (parser, name) {\n    var lr = ParseUtil_js_1.default.trimSpaces(parser.GetBrackets(name, ''));\n    var num = parser.GetArgument(name);\n    var den = parser.GetArgument(name);\n    var lrMap = {\n        l: TexConstants_js_1.TexConstant.Align.LEFT, r: TexConstants_js_1.TexConstant.Align.RIGHT, '': ''\n    };\n    var numNode = new TexParser_js_1.default('\\\\strut\\\\textstyle{' + num + '}', parser.stack.env, parser.configuration).mml();\n    var denNode = new TexParser_js_1.default('\\\\strut\\\\textstyle{' + den + '}', parser.stack.env, parser.configuration).mml();\n    var frac = parser.create('node', 'mfrac', [numNode, denNode]);\n    lr = lrMap[lr];\n    if (lr == null) {\n        throw new TexError_js_1.default('IllegalAlign', 'Illegal alignment specified in %1', parser.currentCS);\n    }\n    if (lr) {\n        NodeUtil_js_1.default.setProperties(frac, { numalign: lr, denomalign: lr });\n    }\n    parser.Push(frac);\n};\nAmsMethods.Genfrac = function (parser, name, left, right, thick, style) {\n    if (left == null) {\n        left = parser.GetDelimiterArg(name);\n    }\n    if (right == null) {\n        right = parser.GetDelimiterArg(name);\n    }\n    if (thick == null) {\n        thick = parser.GetArgument(name);\n    }\n    if (style == null) {\n        style = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));\n    }\n    var num = parser.ParseArg(name);\n    var den = parser.ParseArg(name);\n    var frac = parser.create('node', 'mfrac', [num, den]);\n    if (thick !== '') {\n        NodeUtil_js_1.default.setAttribute(frac, 'linethickness', thick);\n    }\n    if (left || right) {\n        NodeUtil_js_1.default.setProperty(frac, 'withDelims', true);\n        frac = ParseUtil_js_1.default.fixedFence(parser.configuration, left, frac, right);\n    }\n    if (style !== '') {\n        var styleDigit = parseInt(style, 10);\n        var styleAlpha = ['D', 'T', 'S', 'SS'][styleDigit];\n        if (styleAlpha == null) {\n            throw new TexError_js_1.default('BadMathStyleFor', 'Bad math style for %1', parser.currentCS);\n        }\n        frac = parser.create('node', 'mstyle', [frac]);\n        if (styleAlpha === 'D') {\n            NodeUtil_js_1.default.setProperties(frac, { displaystyle: true, scriptlevel: 0 });\n        }\n        else {\n            NodeUtil_js_1.default.setProperties(frac, { displaystyle: false,\n                scriptlevel: styleDigit - 1 });\n        }\n    }\n    parser.Push(frac);\n};\nAmsMethods.HandleTag = function (parser, name) {\n    if (!parser.tags.currentTag.taggable && parser.tags.env) {\n        throw new TexError_js_1.default('CommandNotAllowedInEnv', '%1 not allowed in %2 environment', parser.currentCS, parser.tags.env);\n    }\n    if (parser.tags.currentTag.tag) {\n        throw new TexError_js_1.default('MultipleCommand', 'Multiple %1', parser.currentCS);\n    }\n    var star = parser.GetStar();\n    var tagId = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));\n    parser.tags.tag(tagId, star);\n};\nAmsMethods.HandleNoTag = BaseMethods_js_1.default.HandleNoTag;\nAmsMethods.HandleRef = BaseMethods_js_1.default.HandleRef;\nAmsMethods.Macro = BaseMethods_js_1.default.Macro;\nAmsMethods.Accent = BaseMethods_js_1.default.Accent;\nAmsMethods.Tilde = BaseMethods_js_1.default.Tilde;\nAmsMethods.Array = BaseMethods_js_1.default.Array;\nAmsMethods.Spacer = BaseMethods_js_1.default.Spacer;\nAmsMethods.NamedOp = BaseMethods_js_1.default.NamedOp;\nAmsMethods.EqnArray = BaseMethods_js_1.default.EqnArray;\nexports.default = AmsMethods;\n//# sourceMappingURL=AmsMethods.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NodeUtil_js_1 = require(\"../NodeUtil.js\");\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nvar doc = null;\nvar item = null;\nvar getBBox = function (node) {\n    item.root = node;\n    var width = doc.outputJax.getBBox(item, doc).w;\n    return width;\n};\nvar getRule = function (node) {\n    var i = 0;\n    while (node && !NodeUtil_js_1.default.isType(node, 'mtable')) {\n        if (NodeUtil_js_1.default.isType(node, 'text')) {\n            return null;\n        }\n        if (NodeUtil_js_1.default.isType(node, 'mrow')) {\n            node = node.childNodes[0];\n            i = 0;\n            continue;\n        }\n        node = node.parent.childNodes[i];\n        i++;\n    }\n    return node;\n};\nvar getPremises = function (rule, direction) {\n    return rule.childNodes[direction === 'up' ? 1 : 0].childNodes[0].\n        childNodes[0].childNodes[0].childNodes[0];\n};\nvar getPremise = function (premises, n) {\n    return premises.childNodes[n].childNodes[0].childNodes[0];\n};\nvar firstPremise = function (premises) {\n    return getPremise(premises, 0);\n};\nvar lastPremise = function (premises) {\n    return getPremise(premises, premises.childNodes.length - 1);\n};\nvar getConclusion = function (rule, direction) {\n    return rule.childNodes[direction === 'up' ? 0 : 1].childNodes[0].childNodes[0].childNodes[0];\n};\nvar getColumn = function (inf) {\n    while (inf && !NodeUtil_js_1.default.isType(inf, 'mtd')) {\n        inf = inf.parent;\n    }\n    return inf;\n};\nvar nextSibling = function (inf) {\n    return inf.parent.childNodes[inf.parent.childNodes.indexOf(inf) + 1];\n};\nvar previousSibling = function (inf) {\n    return inf.parent.childNodes[inf.parent.childNodes.indexOf(inf) - 1];\n};\nvar getParentInf = function (inf) {\n    while (inf && exports.getProperty(inf, 'inference') == null) {\n        inf = inf.parent;\n    }\n    return inf;\n};\nvar getSpaces = function (inf, rule, right) {\n    if (right === void 0) { right = false; }\n    var result = 0;\n    if (inf === rule) {\n        return result;\n    }\n    if (inf !== rule.parent) {\n        var children_1 = inf.childNodes;\n        var index_1 = right ? children_1.length - 1 : 0;\n        if (NodeUtil_js_1.default.isType(children_1[index_1], 'mspace')) {\n            result += getBBox(children_1[index_1]);\n        }\n        inf = rule.parent;\n    }\n    if (inf === rule) {\n        return result;\n    }\n    var children = inf.childNodes;\n    var index = right ? children.length - 1 : 0;\n    if (children[index] !== rule) {\n        result += getBBox(children[index]);\n    }\n    return result;\n};\nvar adjustValue = function (inf, right) {\n    if (right === void 0) { right = false; }\n    var rule = getRule(inf);\n    var conc = getConclusion(rule, exports.getProperty(rule, 'inferenceRule'));\n    var w = getSpaces(inf, rule, right);\n    var x = getBBox(rule);\n    var y = getBBox(conc);\n    return w + ((x - y) / 2);\n};\nvar addSpace = function (config, inf, space, right) {\n    if (right === void 0) { right = false; }\n    if (exports.getProperty(inf, 'inferenceRule') ||\n        exports.getProperty(inf, 'labelledRule')) {\n        var mrow = config.nodeFactory.create('node', 'mrow');\n        inf.parent.replaceChild(mrow, inf);\n        mrow.setChildren([inf]);\n        moveProperties(inf, mrow);\n        inf = mrow;\n    }\n    var index = right ? inf.childNodes.length - 1 : 0;\n    var mspace = inf.childNodes[index];\n    if (NodeUtil_js_1.default.isType(mspace, 'mspace')) {\n        NodeUtil_js_1.default.setAttribute(mspace, 'width', ParseUtil_js_1.default.Em(ParseUtil_js_1.default.dimen2em(NodeUtil_js_1.default.getAttribute(mspace, 'width')) + space));\n        return;\n    }\n    mspace = config.nodeFactory.create('node', 'mspace', [], { width: ParseUtil_js_1.default.Em(space) });\n    if (right) {\n        inf.appendChild(mspace);\n        return;\n    }\n    mspace.parent = inf;\n    inf.childNodes.unshift(mspace);\n};\nvar moveProperties = function (src, dest) {\n    var props = ['inference', 'proof', 'maxAdjust', 'labelledRule'];\n    props.forEach(function (x) {\n        var value = exports.getProperty(src, x);\n        if (value != null) {\n            exports.setProperty(dest, x, value);\n            exports.removeProperty(src, x);\n        }\n    });\n};\nvar adjustSequents = function (config) {\n    var sequents = config.nodeLists['sequent'];\n    if (!sequents) {\n        return;\n    }\n    for (var i = sequents.length - 1, seq = void 0; seq = sequents[i]; i--) {\n        if (exports.getProperty(seq, 'sequentProcessed')) {\n            exports.removeProperty(seq, 'sequentProcessed');\n            continue;\n        }\n        var collect = [];\n        var inf = getParentInf(seq);\n        if (exports.getProperty(inf, 'inference') !== 1) {\n            continue;\n        }\n        collect.push(seq);\n        while (exports.getProperty(inf, 'inference') === 1) {\n            inf = getRule(inf);\n            var premise = firstPremise(getPremises(inf, exports.getProperty(inf, 'inferenceRule')));\n            var sequent = (exports.getProperty(premise, 'inferenceRule')) ?\n                getConclusion(premise, exports.getProperty(premise, 'inferenceRule')) :\n                premise;\n            if (exports.getProperty(sequent, 'sequent')) {\n                seq = sequent.childNodes[0];\n                collect.push(seq);\n                exports.setProperty(seq, 'sequentProcessed', true);\n            }\n            inf = premise;\n        }\n        adjustSequentPairwise(config, collect);\n    }\n};\nvar addSequentSpace = function (config, sequent, position, direction, width) {\n    var mspace = config.nodeFactory.create('node', 'mspace', [], { width: ParseUtil_js_1.default.Em(width) });\n    if (direction === 'left') {\n        var row = sequent.childNodes[position].childNodes[0];\n        mspace.parent = row;\n        row.childNodes.unshift(mspace);\n    }\n    else {\n        sequent.childNodes[position].appendChild(mspace);\n    }\n    exports.setProperty(sequent.parent, 'sequentAdjust_' + direction, width);\n};\nvar adjustSequentPairwise = function (config, sequents) {\n    var top = sequents.pop();\n    while (sequents.length) {\n        var bottom = sequents.pop();\n        var _a = __read(compareSequents(top, bottom), 2), left = _a[0], right = _a[1];\n        if (exports.getProperty(top.parent, 'axiom')) {\n            addSequentSpace(config, left < 0 ? top : bottom, 0, 'left', Math.abs(left));\n            addSequentSpace(config, right < 0 ? top : bottom, 2, 'right', Math.abs(right));\n        }\n        top = bottom;\n    }\n};\nvar compareSequents = function (top, bottom) {\n    var tr = getBBox(top.childNodes[2]);\n    var br = getBBox(bottom.childNodes[2]);\n    var tl = getBBox(top.childNodes[0]);\n    var bl = getBBox(bottom.childNodes[0]);\n    var dl = tl - bl;\n    var dr = tr - br;\n    return [dl, dr];\n};\nexports.balanceRules = function (arg) {\n    var e_1, _a;\n    item = new arg.document.options.MathItem('', null, arg.math.display);\n    var config = arg.data;\n    adjustSequents(config);\n    var inferences = config.nodeLists['inference'] || [];\n    var topAdjust = 0;\n    try {\n        for (var inferences_1 = __values(inferences), inferences_1_1 = inferences_1.next(); !inferences_1_1.done; inferences_1_1 = inferences_1.next()) {\n            var inf = inferences_1_1.value;\n            var isProof = exports.getProperty(inf, 'proof');\n            var label = exports.getProperty(inf, 'labelledRule');\n            var rule = getRule(inf);\n            var premises = getPremises(rule, exports.getProperty(rule, 'inferenceRule'));\n            var premiseF = firstPremise(premises);\n            if (exports.getProperty(premiseF, 'inference')) {\n                var adjust_1 = adjustValue(premiseF);\n                if (adjust_1) {\n                    addSpace(config, premiseF, -adjust_1);\n                    var w_1 = getSpaces(inf, rule, false);\n                    addSpace(config, inf, adjust_1 - w_1);\n                }\n            }\n            var premiseL = lastPremise(premises);\n            if (exports.getProperty(premiseL, 'inference') == null) {\n                continue;\n            }\n            var adjust = adjustValue(premiseL, true);\n            addSpace(config, premiseL, -adjust, true);\n            var w = getSpaces(inf, rule, true);\n            var maxAdjust = exports.getProperty(inf, 'maxAdjust');\n            if (maxAdjust != null) {\n                adjust = Math.max(adjust, maxAdjust);\n            }\n            var column = void 0;\n            if (isProof || !(column = getColumn(inf))) {\n                addSpace(config, exports.getProperty(inf, 'proof') ? inf : inf.parent, adjust - w, true);\n                continue;\n            }\n            var sibling = nextSibling(column);\n            if (sibling) {\n                var pos = config.nodeFactory.create('node', 'mspace', [], { width: adjust - w + 'em' });\n                sibling.appendChild(pos);\n                inf.removeProperty('maxAdjust');\n                continue;\n            }\n            var parentRule = getParentInf(column);\n            if (!parentRule) {\n                continue;\n            }\n            adjust = exports.getProperty(parentRule, 'maxAdjust') ?\n                Math.max(exports.getProperty(parentRule, 'maxAdjust'), adjust) : adjust;\n            exports.setProperty(parentRule, 'maxAdjust', adjust);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (inferences_1_1 && !inferences_1_1.done && (_a = inferences_1.return)) _a.call(inferences_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n};\nvar property_prefix = 'bspr_';\nvar blacklistedProperties = (_a = {},\n    _a[property_prefix + 'maxAdjust'] = true,\n    _a);\nexports.setProperty = function (node, property, value) {\n    NodeUtil_js_1.default.setProperty(node, property_prefix + property, value);\n};\nexports.getProperty = function (node, property) {\n    return NodeUtil_js_1.default.getProperty(node, property_prefix + property);\n};\nexports.removeProperty = function (node, property) {\n    node.removeProperty(property_prefix + property);\n};\nexports.makeBsprAttributes = function (arg) {\n    arg.data.root.walkTree(function (mml, data) {\n        var attr = [];\n        mml.getPropertyNames().forEach(function (x) {\n            if (!blacklistedProperties[x] && x.match(RegExp('^' + property_prefix))) {\n                attr.push(x + ':' + mml.getProperty(x));\n            }\n        });\n        if (attr.length) {\n            NodeUtil_js_1.default.setAttribute(mml, 'semantics', attr.join(';'));\n        }\n    });\n};\nexports.saveDocument = function (arg) {\n    doc = arg.document;\n    if (!('getBBox' in doc.outputJax)) {\n        throw Error('The bussproofs extension requires an output jax with a getBBox() method');\n    }\n};\nexports.clearDocument = function (arg) {\n    doc = null;\n};\n//# sourceMappingURL=BussproofsUtil.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NodeUtil_js_1 = require(\"./NodeUtil.js\");\nvar Stack = (function () {\n    function Stack(_factory, _env, inner) {\n        this._factory = _factory;\n        this._env = _env;\n        this.global = {};\n        this.stack = [];\n        this.global = { isInner: inner };\n        this.stack = [this._factory.create('start', this.global)];\n        if (_env) {\n            this.stack[0].env = _env;\n        }\n        this.env = this.stack[0].env;\n    }\n    Object.defineProperty(Stack.prototype, \"env\", {\n        get: function () {\n            return this._env;\n        },\n        set: function (env) {\n            this._env = env;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Stack.prototype.Push = function () {\n        var e_1, _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        try {\n            for (var args_1 = __values(args), args_1_1 = args_1.next(); !args_1_1.done; args_1_1 = args_1.next()) {\n                var node = args_1_1.value;\n                if (!node) {\n                    continue;\n                }\n                var item = NodeUtil_js_1.default.isNode(node) ?\n                    this._factory.create('mml', node) : node;\n                item.global = this.global;\n                var _b = __read(this.stack.length ? this.Top().checkItem(item) : [null, true], 2), top_1 = _b[0], success = _b[1];\n                if (!success) {\n                    continue;\n                }\n                if (top_1) {\n                    this.Pop();\n                    this.Push.apply(this, __spread(top_1));\n                    continue;\n                }\n                this.stack.push(item);\n                if (item.env) {\n                    if (item.copyEnv) {\n                        Object.assign(item.env, this.env);\n                    }\n                    this.env = item.env;\n                }\n                else {\n                    item.env = this.env;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (args_1_1 && !args_1_1.done && (_a = args_1.return)) _a.call(args_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    Stack.prototype.Pop = function () {\n        var item = this.stack.pop();\n        if (!item.isOpen) {\n            delete item.env;\n        }\n        this.env = (this.stack.length ? this.Top().env : {});\n        return item;\n    };\n    Stack.prototype.Top = function (n) {\n        if (n === void 0) { n = 1; }\n        return this.stack.length < n ? null : this.stack[this.stack.length - n];\n    };\n    Stack.prototype.Prev = function (noPop) {\n        var top = this.Top();\n        return noPop ? top.First : top.Pop();\n    };\n    Stack.prototype.toString = function () {\n        return 'stack[\\n  ' + this.stack.join('\\n  ') + '\\n]';\n    };\n    return Stack;\n}());\nexports.default = Stack;\n//# sourceMappingURL=Stack.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nexports.ENCLOSE_OPTIONS = {\n    'data-arrowhead': 1,\n    color: 1,\n    mathcolor: 1,\n    background: 1,\n    mathbackground: 1,\n    'data-padding': 1,\n    'data-thickness': 1\n};\nexports.EncloseMethods = {};\nexports.EncloseMethods.Enclose = function (parser, name) {\n    var notation = parser.GetArgument(name).replace(/,/g, ' ');\n    var attr = parser.GetBrackets(name, '');\n    var math = parser.ParseArg(name);\n    var def = ParseUtil_js_1.default.keyvalOptions(attr, exports.ENCLOSE_OPTIONS);\n    def.notation = notation;\n    parser.Push(parser.create('node', 'menclose', [math], def));\n};\nnew SymbolMap_js_1.CommandMap('enclose', { enclose: 'Enclose' }, exports.EncloseMethods);\nexports.EncloseConfiguration = Configuration_js_1.Configuration.create('enclose', { handler: { macro: ['enclose'] } });\n//# sourceMappingURL=EncloseConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TexError_js_1 = require(\"../TexError.js\");\nvar sm = require(\"../SymbolMap.js\");\nvar BaseMethods_js_1 = require(\"../base/BaseMethods.js\");\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nvar NewcommandUtil_js_1 = require(\"./NewcommandUtil.js\");\nvar NewcommandMethods = {};\nNewcommandMethods.NewCommand = function (parser, name) {\n    var cs = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));\n    var n = parser.GetBrackets(name);\n    var opt = parser.GetBrackets(name);\n    var def = parser.GetArgument(name);\n    if (cs.charAt(0) === '\\\\') {\n        cs = cs.substr(1);\n    }\n    if (!cs.match(/^(.|[a-z]+)$/i)) {\n        throw new TexError_js_1.default('IllegalControlSequenceName', 'Illegal control sequence name for %1', name);\n    }\n    if (n) {\n        n = ParseUtil_js_1.default.trimSpaces(n);\n        if (!n.match(/^[0-9]+$/)) {\n            throw new TexError_js_1.default('IllegalParamNumber', 'Illegal number of parameters specified in %1', name);\n        }\n    }\n    NewcommandUtil_js_1.default.addMacro(parser, cs, NewcommandMethods.Macro, [def, n, opt]);\n};\nNewcommandMethods.NewEnvironment = function (parser, name) {\n    var env = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name));\n    var n = parser.GetBrackets(name);\n    var opt = parser.GetBrackets(name);\n    var bdef = parser.GetArgument(name);\n    var edef = parser.GetArgument(name);\n    if (n) {\n        n = ParseUtil_js_1.default.trimSpaces(n);\n        if (!n.match(/^[0-9]+$/)) {\n            throw new TexError_js_1.default('IllegalParamNumber', 'Illegal number of parameters specified in %1', name);\n        }\n    }\n    NewcommandUtil_js_1.default.addEnvironment(parser, env, NewcommandMethods.BeginEnv, [true, bdef, edef, n, opt]);\n};\nNewcommandMethods.MacroDef = function (parser, name) {\n    var cs = NewcommandUtil_js_1.default.GetCSname(parser, name);\n    var params = NewcommandUtil_js_1.default.GetTemplate(parser, name, '\\\\' + cs);\n    var def = parser.GetArgument(name);\n    !(params instanceof Array) ?\n        NewcommandUtil_js_1.default.addMacro(parser, cs, NewcommandMethods.Macro, [def, params]) :\n        NewcommandUtil_js_1.default.addMacro(parser, cs, NewcommandMethods.MacroWithTemplate, [def].concat(params));\n};\nNewcommandMethods.Let = function (parser, name) {\n    var cs = NewcommandUtil_js_1.default.GetCSname(parser, name);\n    var c = parser.GetNext();\n    if (c === '=') {\n        parser.i++;\n        c = parser.GetNext();\n    }\n    var handlers = parser.configuration.handlers;\n    if (c === '\\\\') {\n        name = NewcommandUtil_js_1.default.GetCSname(parser, name);\n        var macro_1 = handlers.get('delimiter').lookup('\\\\' + name);\n        if (macro_1) {\n            NewcommandUtil_js_1.default.addDelimiter(parser, '\\\\' + cs, macro_1.char, macro_1.attributes);\n            return;\n        }\n        var map_1 = handlers.get('macro').applicable(name);\n        if (!map_1) {\n            return;\n        }\n        if (map_1 instanceof sm.MacroMap) {\n            var macro_2 = map_1.lookup(name);\n            NewcommandUtil_js_1.default.addMacro(parser, cs, macro_2.func, macro_2.args, macro_2.symbol);\n            return;\n        }\n        macro_1 = map_1.lookup(name);\n        var newArgs = NewcommandUtil_js_1.default.disassembleSymbol(cs, macro_1);\n        var method = function (p, cs) {\n            var rest = [];\n            for (var _i = 2; _i < arguments.length; _i++) {\n                rest[_i - 2] = arguments[_i];\n            }\n            var symb = NewcommandUtil_js_1.default.assembleSymbol(rest);\n            return map_1.parser(p, symb);\n        };\n        NewcommandUtil_js_1.default.addMacro(parser, cs, method, newArgs);\n        return;\n    }\n    parser.i++;\n    var macro = handlers.get('delimiter').lookup(c);\n    if (macro) {\n        NewcommandUtil_js_1.default.addDelimiter(parser, '\\\\' + cs, macro.char, macro.attributes);\n        return;\n    }\n    NewcommandUtil_js_1.default.addMacro(parser, cs, NewcommandMethods.Macro, [c]);\n};\nNewcommandMethods.MacroWithTemplate = function (parser, name, text, n) {\n    var params = [];\n    for (var _i = 4; _i < arguments.length; _i++) {\n        params[_i - 4] = arguments[_i];\n    }\n    var argCount = parseInt(n, 10);\n    if (argCount) {\n        var args = [];\n        parser.GetNext();\n        if (params[0] && !NewcommandUtil_js_1.default.MatchParam(parser, params[0])) {\n            throw new TexError_js_1.default('MismatchUseDef', 'Use of %1 doesn\\'t match its definition', name);\n        }\n        for (var i = 0; i < argCount; i++) {\n            args.push(NewcommandUtil_js_1.default.GetParameter(parser, name, params[i + 1]));\n        }\n        text = ParseUtil_js_1.default.substituteArgs(parser, args, text);\n    }\n    parser.string = ParseUtil_js_1.default.addArgs(parser, text, parser.string.slice(parser.i));\n    parser.i = 0;\n    if (++parser.macroCount > parser.configuration.options['maxMacros']) {\n        throw new TexError_js_1.default('MaxMacroSub1', 'MathJax maximum macro substitution count exceeded; ' +\n            'is here a recursive macro call?');\n    }\n};\nNewcommandMethods.BeginEnv = function (parser, begin, bdef, edef, n, def) {\n    if (begin.getProperty('end') && parser.stack.env['closing'] === begin.getName()) {\n        delete parser.stack.env['closing'];\n        var rest = parser.string.slice(parser.i);\n        parser.string = edef;\n        parser.i = 0;\n        parser.Parse();\n        parser.string = rest;\n        parser.i = 0;\n        return parser.itemFactory.create('end').setProperty('name', begin.getName());\n    }\n    if (n) {\n        var args = [];\n        if (def != null) {\n            var optional = parser.GetBrackets('\\\\begin{' + begin.getName() + '}');\n            args.push(optional == null ? def : optional);\n        }\n        for (var i = args.length; i < n; i++) {\n            args.push(parser.GetArgument('\\\\begin{' + begin.getName() + '}'));\n        }\n        bdef = ParseUtil_js_1.default.substituteArgs(parser, args, bdef);\n        edef = ParseUtil_js_1.default.substituteArgs(parser, [], edef);\n    }\n    parser.string = ParseUtil_js_1.default.addArgs(parser, bdef, parser.string.slice(parser.i));\n    parser.i = 0;\n    return parser.itemFactory.create('beginEnv').setProperty('name', begin.getName());\n};\nNewcommandMethods.Macro = BaseMethods_js_1.default.Macro;\nexports.default = NewcommandMethods;\n//# sourceMappingURL=NewcommandMethods.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nvar TexError_js_1 = require(\"../TexError.js\");\nvar Symbol_js_1 = require(\"../Symbol.js\");\nvar MapHandler_js_1 = require(\"../MapHandler.js\");\nvar NewcommandUtil;\n(function (NewcommandUtil) {\n    function disassembleSymbol(name, symbol) {\n        var newArgs = [name, symbol.char];\n        if (symbol.attributes) {\n            for (var key in symbol.attributes) {\n                newArgs.push(key);\n                newArgs.push(symbol.attributes[key]);\n            }\n        }\n        return newArgs;\n    }\n    NewcommandUtil.disassembleSymbol = disassembleSymbol;\n    ;\n    function assembleSymbol(args) {\n        var name = args[0];\n        var char = args[1];\n        var attrs = {};\n        for (var i = 2; i < args.length; i = i + 2) {\n            attrs[args[i]] = args[i + 1];\n        }\n        return new Symbol_js_1.Symbol(name, char, attrs);\n    }\n    NewcommandUtil.assembleSymbol = assembleSymbol;\n    ;\n    function GetCSname(parser, cmd) {\n        var c = parser.GetNext();\n        if (c !== '\\\\') {\n            throw new TexError_js_1.default('MissingCS', '%1 must be followed by a control sequence', cmd);\n        }\n        var cs = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(cmd));\n        return cs.substr(1);\n    }\n    NewcommandUtil.GetCSname = GetCSname;\n    ;\n    function GetTemplate(parser, cmd, cs) {\n        var c = parser.GetNext();\n        var params = [];\n        var n = 0;\n        var i = parser.i;\n        while (parser.i < parser.string.length) {\n            c = parser.GetNext();\n            if (c === '#') {\n                if (i !== parser.i) {\n                    params[n] = parser.string.substr(i, parser.i - i);\n                }\n                c = parser.string.charAt(++parser.i);\n                if (!c.match(/^[1-9]$/)) {\n                    throw new TexError_js_1.default('CantUseHash2', 'Illegal use of # in template for %1', cs);\n                }\n                if (parseInt(c) !== ++n) {\n                    throw new TexError_js_1.default('SequentialParam', 'Parameters for %1 must be numbered sequentially', cs);\n                }\n                i = parser.i + 1;\n            }\n            else if (c === '{') {\n                if (i !== parser.i) {\n                    params[n] = parser.string.substr(i, parser.i - i);\n                }\n                if (params.length > 0) {\n                    return [n.toString()].concat(params);\n                }\n                else {\n                    return n;\n                }\n            }\n            parser.i++;\n        }\n        throw new TexError_js_1.default('MissingReplacementString', 'Missing replacement string for definition of %1', cmd);\n    }\n    NewcommandUtil.GetTemplate = GetTemplate;\n    ;\n    function GetParameter(parser, name, param) {\n        if (param == null) {\n            return parser.GetArgument(name);\n        }\n        var i = parser.i;\n        var j = 0;\n        var hasBraces = 0;\n        while (parser.i < parser.string.length) {\n            var c = parser.string.charAt(parser.i);\n            if (c === '{') {\n                if (parser.i === i) {\n                    hasBraces = 1;\n                }\n                parser.GetArgument(name);\n                j = parser.i - i;\n            }\n            else if (MatchParam(parser, param)) {\n                if (hasBraces) {\n                    i++;\n                    j -= 2;\n                }\n                return parser.string.substr(i, j);\n            }\n            else if (c === '\\\\') {\n                parser.i++;\n                j++;\n                hasBraces = 0;\n                var match = parser.string.substr(parser.i).match(/[a-z]+|./i);\n                if (match) {\n                    parser.i += match[0].length;\n                    j = parser.i - i;\n                }\n            }\n            else {\n                parser.i++;\n                j++;\n                hasBraces = 0;\n            }\n        }\n        throw new TexError_js_1.default('RunawayArgument', 'Runaway argument for %1?', name);\n    }\n    NewcommandUtil.GetParameter = GetParameter;\n    ;\n    function MatchParam(parser, param) {\n        if (parser.string.substr(parser.i, param.length) !== param) {\n            return 0;\n        }\n        if (param.match(/\\\\[a-z]+$/i) &&\n            parser.string.charAt(parser.i + param.length).match(/[a-z]/i)) {\n            return 0;\n        }\n        parser.i += param.length;\n        return 1;\n    }\n    NewcommandUtil.MatchParam = MatchParam;\n    ;\n    function addDelimiter(parser, cs, char, attr) {\n        var handlers = parser.configuration.handlers;\n        var handler = handlers.retrieve(MapHandler_js_1.ExtensionMaps.NEW_DELIMITER);\n        handler.add(cs, new Symbol_js_1.Symbol(cs, char, attr));\n    }\n    NewcommandUtil.addDelimiter = addDelimiter;\n    ;\n    function addMacro(parser, cs, func, attr, symbol) {\n        if (symbol === void 0) { symbol = ''; }\n        var handlers = parser.configuration.handlers;\n        var handler = handlers.retrieve(MapHandler_js_1.ExtensionMaps.NEW_COMMAND);\n        handler.add(cs, new Symbol_js_1.Macro(symbol ? symbol : cs, func, attr));\n    }\n    NewcommandUtil.addMacro = addMacro;\n    ;\n    function addEnvironment(parser, env, func, attr) {\n        var handlers = parser.configuration.handlers;\n        var handler = handlers.retrieve(MapHandler_js_1.ExtensionMaps.NEW_ENVIRONMENT);\n        handler.add(env, new Symbol_js_1.Macro(env, func, attr));\n    }\n    NewcommandUtil.addEnvironment = addEnvironment;\n    ;\n})(NewcommandUtil || (NewcommandUtil = {}));\nexports.default = NewcommandUtil;\n//# sourceMappingURL=NewcommandUtil.js.map","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar NewcommandItems_js_1 = require(\"./NewcommandItems.js\");\nvar MapHandler_js_1 = require(\"../MapHandler.js\");\nrequire(\"./NewcommandMappings.js\");\nvar init = function (config) {\n    if (config.handler['macro'].indexOf(MapHandler_js_1.ExtensionMaps.NEW_COMMAND) < 0) {\n        config.append(Configuration_js_1.Configuration.extension());\n    }\n};\nexports.NewcommandConfiguration = Configuration_js_1.Configuration.create('newcommand', {\n    handler: {\n        macro: ['Newcommand-macros']\n    },\n    items: (_a = {},\n        _a[NewcommandItems_js_1.BeginEnvItem.prototype.kind] = NewcommandItems_js_1.BeginEnvItem,\n        _a),\n    options: { maxMacros: 1000 },\n    init: init\n});\n//# sourceMappingURL=NewcommandConfiguration.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar TexError_js_1 = require(\"../TexError.js\");\nvar global_js_1 = require(\"../../../components/global.js\");\nvar package_js_1 = require(\"../../../components/package.js\");\nvar loader_js_1 = require(\"../../../components/loader.js\");\nvar mathjax_js_1 = require(\"../../../mathjax.js\");\nvar Options_js_1 = require(\"../../../util/Options.js\");\nvar MJCONFIG = global_js_1.MathJax.config;\nfunction RegisterExtension(jax, name) {\n    var _a;\n    var require = jax.parseOptions.options.require;\n    var extension = name.substr(require.prefix.length);\n    if (require.required.indexOf(extension) < 0) {\n        require.required.push(extension);\n        RegisterDependencies(jax, loader_js_1.CONFIG.dependencies[name]);\n        var handler = Configuration_js_1.ConfigurationHandler.get(extension);\n        if (handler) {\n            var options_1 = MJCONFIG[name] || {};\n            if (handler.options && Object.keys(handler.options).length === 1 && handler.options[extension]) {\n                options_1 = (_a = {}, _a[extension] = options_1, _a);\n            }\n            jax.configuration.register(handler, jax, options_1);\n            if (handler.preprocessors.length && !handler.options.configured) {\n                handler.options.configured = true;\n                mathjax_js_1.mathjax.retryAfter(Promise.resolve());\n            }\n        }\n    }\n}\nfunction RegisterDependencies(jax, names) {\n    var e_1, _a;\n    if (names === void 0) { names = []; }\n    var prefix = jax.parseOptions.options.require.prefix;\n    try {\n        for (var names_1 = __values(names), names_1_1 = names_1.next(); !names_1_1.done; names_1_1 = names_1.next()) {\n            var name_1 = names_1_1.value;\n            if (name_1.substr(0, prefix.length) === prefix) {\n                RegisterExtension(jax, name_1);\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (names_1_1 && !names_1_1.done && (_a = names_1.return)) _a.call(names_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n}\nfunction RequireLoad(parser, name) {\n    var options = parser.options.require;\n    var allow = options.allow;\n    var extension = (name.substr(0, 1) === '[' ? '' : options.prefix) + name;\n    var allowed = (allow.hasOwnProperty(extension) ? allow[extension] :\n        allow.hasOwnProperty(name) ? allow[name] : options.defaultAllow);\n    if (!allowed) {\n        throw new TexError_js_1.default('BadRequire', 'Extension \"%1\" is now allowed to be loaded', extension);\n    }\n    if (package_js_1.Package.packages.has(extension)) {\n        RegisterExtension(options.jax, extension);\n    }\n    else {\n        mathjax_js_1.mathjax.retryAfter(loader_js_1.Loader.load(extension));\n    }\n}\nexports.RequireLoad = RequireLoad;\nfunction config(config, jax) {\n    var options = jax.parseOptions.options.require;\n    options.jax = jax;\n    options.required = __spread(jax.options.packages);\n    var prefix = options.prefix;\n    if (prefix.match(/[^_a-zA-Z0-9]/)) {\n        throw Error('Illegal characters used in \\\\require prefix');\n    }\n    if (!loader_js_1.CONFIG.paths[prefix]) {\n        loader_js_1.CONFIG.paths[prefix] = '[mathjax]/input/tex/extensions';\n    }\n    options.prefix = '[' + prefix + ']/';\n}\nexports.RequireMethods = {\n    Require: function (parser, name) {\n        var required = parser.GetArgument(name);\n        if (required.match(/[^_a-zA-Z0-9]/) || required === '') {\n            throw new TexError_js_1.default('BadPackageName', 'Argument for %1 is not a valid package name', name);\n        }\n        RequireLoad(parser, required);\n    }\n};\nexports.options = {\n    require: {\n        allow: Options_js_1.expandable({\n            base: false,\n            'all-packages': false\n        }),\n        defaultAllow: true,\n        prefix: 'tex'\n    }\n};\nnew SymbolMap_js_1.CommandMap('require', { require: 'Require' }, exports.RequireMethods);\nexports.RequireConfiguration = Configuration_js_1.Configuration.create('require', { handler: { macro: ['require'] }, config: config, options: exports.options });\n//# sourceMappingURL=RequireConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar InputJax_js_1 = require(\"../core/InputJax.js\");\nvar Options_js_1 = require(\"../util/Options.js\");\nvar FindTeX_js_1 = require(\"./tex/FindTeX.js\");\nvar FilterUtil_js_1 = require(\"./tex/FilterUtil.js\");\nvar NodeUtil_js_1 = require(\"./tex/NodeUtil.js\");\nvar TexParser_js_1 = require(\"./tex/TexParser.js\");\nvar TexError_js_1 = require(\"./tex/TexError.js\");\nvar ParseOptions_js_1 = require(\"./tex/ParseOptions.js\");\nvar Tags_js_1 = require(\"./tex/Tags.js\");\nvar Configuration_js_1 = require(\"./tex/Configuration.js\");\nrequire(\"./tex/base/BaseConfiguration.js\");\nvar TeX = (function (_super) {\n    __extends(TeX, _super);\n    function TeX(options) {\n        if (options === void 0) { options = {}; }\n        var _this = this;\n        var _a = __read(Options_js_1.separateOptions(options, TeX.OPTIONS, FindTeX_js_1.FindTeX.OPTIONS), 3), rest = _a[0], tex = _a[1], find = _a[2];\n        _this = _super.call(this, tex) || this;\n        _this.findTeX = _this.options['FindTeX'] || new FindTeX_js_1.FindTeX(find);\n        var packages = _this.options.packages;\n        var configuration = _this.configuration = TeX.configure(packages);\n        var parseOptions = _this._parseOptions = new ParseOptions_js_1.default(configuration, [_this.options, Tags_js_1.TagsFactory.OPTIONS]);\n        Options_js_1.userOptions(parseOptions.options, rest);\n        configuration.config(configuration, _this);\n        TeX.tags(parseOptions, configuration);\n        _this.postFilters.add(FilterUtil_js_1.default.cleanSubSup, -6);\n        _this.postFilters.add(FilterUtil_js_1.default.setInherited, -5);\n        _this.postFilters.add(FilterUtil_js_1.default.moveLimits, -4);\n        _this.postFilters.add(FilterUtil_js_1.default.cleanStretchy, -3);\n        _this.postFilters.add(FilterUtil_js_1.default.cleanAttributes, -2);\n        _this.postFilters.add(FilterUtil_js_1.default.combineRelations, -1);\n        return _this;\n    }\n    TeX.configure = function (packages) {\n        var e_1, _a;\n        var configuration = Configuration_js_1.Configuration.empty();\n        try {\n            for (var packages_1 = __values(packages), packages_1_1 = packages_1.next(); !packages_1_1.done; packages_1_1 = packages_1.next()) {\n                var key = packages_1_1.value;\n                var conf = Configuration_js_1.ConfigurationHandler.get(key);\n                if (conf) {\n                    configuration.append(conf);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (packages_1_1 && !packages_1_1.done && (_a = packages_1.return)) _a.call(packages_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        configuration.init(configuration);\n        return configuration;\n    };\n    TeX.tags = function (options, configuration) {\n        Tags_js_1.TagsFactory.addTags(configuration.tags);\n        Tags_js_1.TagsFactory.setDefault(options.options.tags);\n        options.tags = Tags_js_1.TagsFactory.getDefault();\n        options.tags.configuration = options;\n    };\n    TeX.prototype.setMmlFactory = function (mmlFactory) {\n        _super.prototype.setMmlFactory.call(this, mmlFactory);\n        this._parseOptions.nodeFactory.setMmlFactory(mmlFactory);\n    };\n    Object.defineProperty(TeX.prototype, \"parseOptions\", {\n        get: function () {\n            return this._parseOptions;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TeX.prototype.compile = function (math, document) {\n        this.parseOptions.clear();\n        this.executeFilters(this.preFilters, math, document, this.parseOptions);\n        var display = math.display;\n        this.latex = math.math;\n        var node;\n        this.parseOptions.tags.startEquation(math);\n        try {\n            var parser = new TexParser_js_1.default(this.latex, { display: display, isInner: false }, this.parseOptions);\n            node = parser.mml();\n        }\n        catch (err) {\n            if (!(err instanceof TexError_js_1.default)) {\n                throw err;\n            }\n            this.parseOptions.error = true;\n            node = this.formatError(err);\n        }\n        node = this.parseOptions.nodeFactory.create('node', 'math', [node]);\n        if (display) {\n            NodeUtil_js_1.default.setAttribute(node, 'display', 'block');\n        }\n        this.parseOptions.tags.finishEquation(math);\n        this.parseOptions.root = node;\n        this.executeFilters(this.postFilters, math, document, this.parseOptions);\n        this.mathNode = this.parseOptions.root;\n        return this.mathNode;\n    };\n    ;\n    TeX.prototype.findMath = function (strings) {\n        return this.findTeX.findMath(strings);\n    };\n    TeX.prototype.formatError = function (err) {\n        var message = err.message.replace(/\\n.*/, '');\n        return this.parseOptions.nodeFactory.create('error', message, err.id, this.latex);\n    };\n    ;\n    TeX.NAME = 'TeX';\n    TeX.OPTIONS = __assign(__assign({}, InputJax_js_1.AbstractInputJax.OPTIONS), { FindTeX: null, packages: ['base'], digits: /^(?:[0-9]+(?:\\{,\\}[0-9]{3})*(?:\\.[0-9]*)?|\\.[0-9]+)/, maxBuffer: 5 * 1024 });\n    return TeX;\n}(InputJax_js_1.AbstractInputJax));\nexports.TeX = TeX;\n//# sourceMappingURL=tex.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./base/BaseConfiguration.js\");\nrequire(\"./action/ActionConfiguration.js\");\nrequire(\"./ams/AmsConfiguration.js\");\nrequire(\"./ams_cd/AmsCdConfiguration.js\");\nrequire(\"./bbox/BboxConfiguration.js\");\nrequire(\"./boldsymbol/BoldsymbolConfiguration.js\");\nrequire(\"./braket/BraketConfiguration.js\");\nrequire(\"./bussproofs/BussproofsConfiguration.js\");\nrequire(\"./cancel/CancelConfiguration.js\");\nrequire(\"./color/ColorConfiguration.js\");\nrequire(\"./color_v2/ColorV2Configuration.js\");\nrequire(\"./config_macros/ConfigMacrosConfiguration.js\");\nrequire(\"./enclose/EncloseConfiguration.js\");\nrequire(\"./extpfeil/ExtpfeilConfiguration.js\");\nrequire(\"./html/HtmlConfiguration.js\");\nrequire(\"./mhchem/MhchemConfiguration.js\");\nrequire(\"./newcommand/NewcommandConfiguration.js\");\nrequire(\"./noerrors/NoErrorsConfiguration.js\");\nrequire(\"./noundefined/NoUndefinedConfiguration.js\");\nrequire(\"./physics/PhysicsConfiguration.js\");\nrequire(\"./tag_format/TagFormatConfiguration.js\");\nrequire(\"./unicode/UnicodeConfiguration.js\");\nrequire(\"./verb/VerbConfiguration.js\");\nif (typeof MathJax !== 'undefined' && MathJax.loader) {\n    MathJax.loader.preLoad('[tex]/action', '[tex]/ams', '[tex]/amsCd', '[tex]/bbox', '[tex]/boldsymbol', '[tex]/braket', '[tex]/bussproofs', '[tex]/cancel', '[tex]/color', '[tex]/color_v2', '[tex]/enclose', '[tex]/extpfeil', '[tex]/html', '[tex]/mhchem', '[tex]/newcommand', '[tex]/noerrors', '[tex]/noundefined', '[tex]/physics', '[tex]/unicode', '[tex]/verb', '[tex]/configMacros', '[tex]/tagFormat');\n}\nexports.AllPackages = [\n    'base',\n    'action',\n    'ams',\n    'amsCd',\n    'bbox',\n    'boldsymbol',\n    'braket',\n    'bussproofs',\n    'cancel',\n    'color',\n    'enclose',\n    'extpfeil',\n    'html',\n    'mhchem',\n    'newcommand',\n    'noerrors',\n    'noundefined',\n    'unicode',\n    'verb',\n    'configMacros',\n    'tagFormat'\n];\n//# sourceMappingURL=AllPackages.js.map","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.isObject = MathJax._.components.global.isObject;\nexports.combineConfig = MathJax._.components.global.combineConfig;\nexports.combineDefaults = MathJax._.components.global.combineDefaults;\nexports.combineWithMathJax = MathJax._.components.global.combineWithMathJax;\nexports.MathJax = MathJax._.components.global.MathJax;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FindMath_js_1 = require(\"../../core/FindMath.js\");\nvar string_js_1 = require(\"../../util/string.js\");\nvar MathItem_js_1 = require(\"../../core/MathItem.js\");\nvar FindTeX = (function (_super) {\n    __extends(FindTeX, _super);\n    function FindTeX(options) {\n        var _this = _super.call(this, options) || this;\n        _this.getPatterns();\n        return _this;\n    }\n    FindTeX.prototype.getPatterns = function () {\n        var _this = this;\n        var options = this.options;\n        var starts = [], parts = [], subparts = [];\n        this.end = {};\n        this.env = this.sub = 0;\n        var i = 1;\n        options['inlineMath'].forEach(function (delims) { return _this.addPattern(starts, delims, false); });\n        options['displayMath'].forEach(function (delims) { return _this.addPattern(starts, delims, true); });\n        if (starts.length) {\n            parts.push(starts.sort(string_js_1.sortLength).join('|'));\n        }\n        if (options['processEnvironments']) {\n            parts.push('\\\\\\\\begin\\\\{([^}]*)\\\\}');\n            this.env = i;\n            i++;\n        }\n        if (options['processEscapes']) {\n            subparts.push('\\\\\\\\([\\\\\\\\$])');\n        }\n        if (options['processRefs']) {\n            subparts.push('(\\\\\\\\(?:eq)?ref\\\\{[^}]*\\\\})');\n        }\n        if (subparts.length) {\n            parts.push('(' + subparts.join('|') + ')');\n            this.sub = i;\n        }\n        this.start = new RegExp(parts.join('|'), 'g');\n        this.hasPatterns = (parts.length > 0);\n    };\n    FindTeX.prototype.addPattern = function (starts, delims, display) {\n        var _a = __read(delims, 2), open = _a[0], close = _a[1];\n        starts.push(string_js_1.quotePattern(open));\n        this.end[open] = [close, display, this.endPattern(close)];\n    };\n    FindTeX.prototype.endPattern = function (end) {\n        return new RegExp(string_js_1.quotePattern(end) + '|\\\\\\\\(?:[a-zA-Z]|.)|[{}]', 'g');\n    };\n    FindTeX.prototype.findEnd = function (text, n, start, end) {\n        var _a = __read(end, 3), close = _a[0], display = _a[1], pattern = _a[2];\n        var i = pattern.lastIndex = start.index + start[0].length;\n        var match, braces = 0;\n        while ((match = pattern.exec(text))) {\n            if (match[0] === close && braces === 0) {\n                return MathItem_js_1.protoItem(start[0], text.substr(i, match.index - i), match[0], n, start.index, match.index + match[0].length, display);\n            }\n            else if (match[0] === '{') {\n                braces++;\n            }\n            else if (match[0] === '}' && braces) {\n                braces--;\n            }\n        }\n        return null;\n    };\n    FindTeX.prototype.findMathInString = function (math, n, text) {\n        var start, match;\n        this.start.lastIndex = 0;\n        while ((start = this.start.exec(text))) {\n            if (start[this.env] !== undefined && this.env) {\n                var end = '\\\\end{' + start[this.env] + '}';\n                match = this.findEnd(text, n, start, [end, true, this.endPattern(end)]);\n                if (match) {\n                    match.math = match.open + match.math + match.close;\n                    match.open = match.close = '';\n                }\n            }\n            else if (start[this.sub] !== undefined && this.sub) {\n                var math_1 = start[this.sub];\n                var end = start.index + start[this.sub].length;\n                if (math_1.length === 2) {\n                    match = MathItem_js_1.protoItem('', math_1.substr(1), '', n, start.index, end);\n                }\n                else {\n                    match = MathItem_js_1.protoItem('', math_1, '', n, start.index, end, false);\n                }\n            }\n            else {\n                match = this.findEnd(text, n, start, this.end[start[0]]);\n            }\n            if (match) {\n                math.push(match);\n                this.start.lastIndex = match.end.n;\n            }\n        }\n    };\n    FindTeX.prototype.findMath = function (strings) {\n        var math = [];\n        if (this.hasPatterns) {\n            for (var i = 0, m = strings.length; i < m; i++) {\n                this.findMathInString(math, i, strings[i]);\n            }\n        }\n        return math;\n    };\n    FindTeX.OPTIONS = {\n        inlineMath: [\n            ['\\\\(', '\\\\)']\n        ],\n        displayMath: [\n            ['$$', '$$'],\n            ['\\\\[', '\\\\]']\n        ],\n        processEscapes: true,\n        processEnvironments: true,\n        processRefs: true,\n    };\n    return FindTeX;\n}(FindMath_js_1.AbstractFindMath));\nexports.FindTeX = FindTeX;\n//# sourceMappingURL=FindTeX.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MmlNode_js_1 = require(\"../../core/MmlTree/MmlNode.js\");\nvar NodeUtil_js_1 = require(\"./NodeUtil.js\");\nvar FilterUtil;\n(function (FilterUtil) {\n    FilterUtil.cleanStretchy = function (arg) {\n        var e_1, _a;\n        var options = arg.data;\n        try {\n            for (var _b = __values(options.getList('fixStretchy')), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var mo = _c.value;\n                if (NodeUtil_js_1.default.getProperty(mo, 'fixStretchy')) {\n                    var symbol = NodeUtil_js_1.default.getForm(mo);\n                    if (symbol && symbol[3] && symbol[3]['stretchy']) {\n                        NodeUtil_js_1.default.setAttribute(mo, 'stretchy', false);\n                    }\n                    var parent_1 = mo.parent;\n                    if (!NodeUtil_js_1.default.getTexClass(mo) && (!symbol || !symbol[2])) {\n                        var texAtom = options.nodeFactory.create('node', 'TeXAtom', [mo]);\n                        parent_1.replaceChild(texAtom, mo);\n                        texAtom.inheritAttributesFrom(mo);\n                    }\n                    NodeUtil_js_1.default.removeProperties(mo, 'fixStretchy');\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    FilterUtil.cleanAttributes = function (arg) {\n        var node = arg.data.root;\n        node.walkTree(function (mml, d) {\n            var e_2, _a;\n            var attribs = mml.attributes;\n            if (!attribs) {\n                return;\n            }\n            try {\n                for (var _b = __values(attribs.getExplicitNames()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var key = _c.value;\n                    if (attribs.attributes[key] === mml.attributes.getInherited(key)) {\n                        delete attribs.attributes[key];\n                    }\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n        }, {});\n    };\n    FilterUtil.combineRelations = function (arg) {\n        var e_3, _a;\n        try {\n            for (var _b = __values(arg.data.getList('mo')), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var mo = _c.value;\n                if (mo.getProperty('relationsCombined') || !mo.parent ||\n                    (mo.parent && !NodeUtil_js_1.default.isType(mo.parent, 'mrow')) ||\n                    NodeUtil_js_1.default.getTexClass(mo) !== MmlNode_js_1.TEXCLASS.REL) {\n                    continue;\n                }\n                var mml = mo.parent;\n                var m2 = void 0;\n                var children = mml.childNodes;\n                var next = children.indexOf(mo) + 1;\n                var variantForm = NodeUtil_js_1.default.getProperty(mo, 'variantForm');\n                while (next < children.length && (m2 = children[next]) &&\n                    NodeUtil_js_1.default.isType(m2, 'mo') &&\n                    NodeUtil_js_1.default.getTexClass(m2) === MmlNode_js_1.TEXCLASS.REL) {\n                    if (variantForm === NodeUtil_js_1.default.getProperty(m2, 'variantForm') &&\n                        _compareExplicit(mo, m2)) {\n                        NodeUtil_js_1.default.appendChildren(mo, NodeUtil_js_1.default.getChildren(m2));\n                        _copyExplicit(['stretchy', 'rspace'], mo, m2);\n                        NodeUtil_js_1.default.setProperties(mo, m2.getAllProperties());\n                        children.splice(next, 1);\n                        m2.parent = null;\n                        m2.setProperty('relationsCombined', true);\n                    }\n                    else {\n                        if (mo.attributes.getExplicit('rspace') == null) {\n                            NodeUtil_js_1.default.setAttribute(mo, 'rspace', '0pt');\n                        }\n                        if (m2.attributes.getExplicit('lspace') == null) {\n                            NodeUtil_js_1.default.setAttribute(m2, 'lspace', '0pt');\n                        }\n                        break;\n                    }\n                }\n                mo.attributes.setInherited('form', mo.getForms()[0]);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n    };\n    var _copyExplicit = function (attrs, node1, node2) {\n        var attr1 = node1.attributes;\n        var attr2 = node2.attributes;\n        attrs.forEach(function (x) {\n            var attr = attr2.getExplicit(x);\n            if (attr != null) {\n                attr1.set(x, attr);\n            }\n        });\n    };\n    var _compareExplicit = function (node1, node2) {\n        var e_4, _a;\n        var filter = function (attr, space) {\n            var exp = attr.getExplicitNames();\n            return exp.filter(function (x) {\n                return x !== space &&\n                    (x !== 'stretchy' ||\n                        attr.getExplicit('stretchy'));\n            });\n        };\n        var attr1 = node1.attributes;\n        var attr2 = node2.attributes;\n        var exp1 = filter(attr1, 'lspace');\n        var exp2 = filter(attr2, 'rspace');\n        if (exp1.length !== exp2.length) {\n            return false;\n        }\n        try {\n            for (var exp1_1 = __values(exp1), exp1_1_1 = exp1_1.next(); !exp1_1_1.done; exp1_1_1 = exp1_1.next()) {\n                var name_1 = exp1_1_1.value;\n                if (attr1.getExplicit(name_1) !== attr2.getExplicit(name_1)) {\n                    return false;\n                }\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (exp1_1_1 && !exp1_1_1.done && (_a = exp1_1.return)) _a.call(exp1_1);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        return true;\n    };\n    var _cleanSubSup = function (options, low, up) {\n        var e_5, _a;\n        try {\n            for (var _b = __values(options.getList('m' + low + up)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var mml = _c.value;\n                var children = mml.childNodes;\n                if (children[mml[low]] && children[mml[up]]) {\n                    continue;\n                }\n                var parent_2 = mml.parent;\n                var newNode = (children[mml[low]] ?\n                    options.nodeFactory.create('node', 'm' + low, [children[mml.base], children[mml[low]]]) :\n                    options.nodeFactory.create('node', 'm' + up, [children[mml.base], children[mml[up]]]));\n                NodeUtil_js_1.default.copyAttributes(mml, newNode);\n                if (parent_2) {\n                    parent_2.replaceChild(newNode, mml);\n                }\n                else {\n                    options.root = newNode;\n                }\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n    };\n    FilterUtil.cleanSubSup = function (arg) {\n        var options = arg.data;\n        if (options.error) {\n            return;\n        }\n        _cleanSubSup(options, 'sub', 'sup');\n        _cleanSubSup(options, 'under', 'over');\n    };\n    var _moveLimits = function (options, underover, subsup) {\n        var e_6, _a;\n        try {\n            for (var _b = __values(options.getList(underover)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var mml = _c.value;\n                if (mml.attributes.get('displaystyle')) {\n                    continue;\n                }\n                var base = mml.childNodes[mml.base];\n                var mo = base.coreMO();\n                if (base.getProperty('movablelimits') && !mo.attributes.getExplicit('movablelimits')) {\n                    var node = options.nodeFactory.create('node', subsup, mml.childNodes);\n                    NodeUtil_js_1.default.copyAttributes(mml, node);\n                    if (mml.parent) {\n                        mml.parent.replaceChild(node, mml);\n                    }\n                    else {\n                        options.root = node;\n                    }\n                }\n            }\n        }\n        catch (e_6_1) { e_6 = { error: e_6_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_6) throw e_6.error; }\n        }\n    };\n    FilterUtil.moveLimits = function (arg) {\n        var options = arg.data;\n        _moveLimits(options, 'munderover', 'msubsup');\n        _moveLimits(options, 'munder', 'msub');\n        _moveLimits(options, 'mover', 'msup');\n    };\n    FilterUtil.setInherited = function (arg) {\n        arg.data.root.setInheritedAttributes({}, arg.math['display'], 0, false);\n    };\n})(FilterUtil || (FilterUtil = {}));\nexports.default = FilterUtil;\n//# sourceMappingURL=FilterUtil.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar StackItemFactory_js_1 = require(\"./StackItemFactory.js\");\nvar MapHandler_js_1 = require(\"./MapHandler.js\");\nvar NodeFactory_js_1 = require(\"./NodeFactory.js\");\nvar Options_js_1 = require(\"../../util/Options.js\");\nvar ParseOptions = (function () {\n    function ParseOptions(configuration, options) {\n        if (options === void 0) { options = []; }\n        this.options = {};\n        this.parsers = [];\n        this.root = null;\n        this.nodeLists = {};\n        this.error = false;\n        this.handlers = new MapHandler_js_1.SubHandlers(configuration);\n        this.nodeFactory = new NodeFactory_js_1.NodeFactory();\n        this.nodeFactory.configuration = this;\n        this.nodeFactory.setCreators(configuration.nodes);\n        this.itemFactory = new StackItemFactory_js_1.default(configuration.items);\n        this.itemFactory.configuration = this;\n        Options_js_1.defaultOptions.apply(void 0, __spread([this.options], options));\n        Options_js_1.defaultOptions(this.options, configuration.options);\n    }\n    ParseOptions.prototype.pushParser = function (parser) {\n        this.parsers.unshift(parser);\n    };\n    ParseOptions.prototype.popParser = function () {\n        this.parsers.shift();\n    };\n    Object.defineProperty(ParseOptions.prototype, \"parser\", {\n        get: function () {\n            return this.parsers[0];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ParseOptions.prototype.clear = function () {\n        this.parsers = [];\n        this.root = null;\n        this.nodeLists = {};\n        this.error = false;\n        this.tags.resetTag();\n    };\n    ParseOptions.prototype.addNode = function (property, node) {\n        var list = this.nodeLists[property];\n        if (!list) {\n            list = this.nodeLists[property] = [];\n        }\n        list.push(node);\n    };\n    ParseOptions.prototype.getList = function (property) {\n        var e_1, _a;\n        var list = this.nodeLists[property] || [];\n        var result = [];\n        try {\n            for (var list_1 = __values(list), list_1_1 = list_1.next(); !list_1_1.done; list_1_1 = list_1.next()) {\n                var node = list_1_1.value;\n                if (this.inTree(node)) {\n                    result.push(node);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (list_1_1 && !list_1_1.done && (_a = list_1.return)) _a.call(list_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        this.nodeLists[property] = result;\n        return result;\n    };\n    ParseOptions.prototype.inTree = function (node) {\n        while (node && node !== this.root) {\n            node = node.parent;\n        }\n        return !!node;\n    };\n    return ParseOptions;\n}());\nexports.default = ParseOptions;\n//# sourceMappingURL=ParseOptions.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar StackItem_js_1 = require(\"./StackItem.js\");\nvar Factory_js_1 = require(\"../../core/Tree/Factory.js\");\nvar DummyItem = (function (_super) {\n    __extends(DummyItem, _super);\n    function DummyItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return DummyItem;\n}(StackItem_js_1.BaseItem));\nvar StackItemFactory = (function (_super) {\n    __extends(StackItemFactory, _super);\n    function StackItemFactory() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.defaultKind = 'dummy';\n        _this.configuration = null;\n        return _this;\n    }\n    StackItemFactory.DefaultStackItems = (_a = {},\n        _a[DummyItem.prototype.kind] = DummyItem,\n        _a);\n    return StackItemFactory;\n}(Factory_js_1.AbstractFactory));\nexports.default = StackItemFactory;\n//# sourceMappingURL=StackItemFactory.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar TexParser_js_1 = require(\"../TexParser.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar BaseMethods_js_1 = require(\"../base/BaseMethods.js\");\nexports.ActionMethods = {};\nexports.ActionMethods.Macro = BaseMethods_js_1.default.Macro;\nexports.ActionMethods.Toggle = function (parser, name) {\n    var children = [];\n    var arg;\n    while ((arg = parser.GetArgument(name)) !== '\\\\endtoggle') {\n        children.push(new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml());\n    }\n    parser.Push(parser.create('node', 'maction', children, { actiontype: 'toggle' }));\n};\nexports.ActionMethods.Mathtip = function (parser, name) {\n    var arg = parser.ParseArg(name);\n    var tip = parser.ParseArg(name);\n    parser.Push(parser.create('node', 'maction', [arg, tip], { actiontype: 'tooltip' }));\n};\nnew SymbolMap_js_1.CommandMap('action-macros', {\n    toggle: 'Toggle',\n    mathtip: 'Mathtip',\n    texttip: ['Macro', '\\\\mathtip{#1}{\\\\text{#2}}', 2]\n}, exports.ActionMethods);\nexports.ActionConfiguration = Configuration_js_1.Configuration.create('action', { handler: { macro: ['action-macros'] } });\n//# sourceMappingURL=ActionConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar AmsItems_js_1 = require(\"./AmsItems.js\");\nvar Tags_js_1 = require(\"../Tags.js\");\nrequire(\"./AmsMappings.js\");\nvar AmsTags = (function (_super) {\n    __extends(AmsTags, _super);\n    function AmsTags() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return AmsTags;\n}(Tags_js_1.AbstractTags));\nexports.AmsTags = AmsTags;\nvar init = function (config) {\n    config.append(Configuration_js_1.Configuration.extension());\n};\nexports.AmsConfiguration = Configuration_js_1.Configuration.create('ams', { handler: {\n        delimiter: ['AMSsymbols-delimiter', 'AMSmath-delimiter'],\n        macro: ['AMSsymbols-mathchar0mi', 'AMSsymbols-mathchar0m0',\n            'AMSsymbols-delimiter', 'AMSsymbols-macros',\n            'AMSmath-mathchar0mo', 'AMSmath-macros', 'AMSmath-delimiter'],\n        environment: ['AMSmath-environment']\n    },\n    items: (_a = {}, _a[AmsItems_js_1.MultlineItem.prototype.kind] = AmsItems_js_1.MultlineItem, _a),\n    tags: { 'ams': AmsTags },\n    init: init\n});\n//# sourceMappingURL=AmsConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseItems_js_1 = require(\"../base/BaseItems.js\");\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nvar NodeUtil_js_1 = require(\"../NodeUtil.js\");\nvar TexError_js_1 = require(\"../TexError.js\");\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar MultlineItem = (function (_super) {\n    __extends(MultlineItem, _super);\n    function MultlineItem(factory) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var _this = _super.call(this, factory) || this;\n        _this.factory.configuration.tags.start('multline', true, args[0]);\n        return _this;\n    }\n    Object.defineProperty(MultlineItem.prototype, \"kind\", {\n        get: function () {\n            return 'multline';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MultlineItem.prototype.EndEntry = function () {\n        if (this.table.length) {\n            ParseUtil_js_1.default.fixInitialMO(this.factory.configuration, this.nodes);\n        }\n        var shove = this.getProperty('shove');\n        var mtd = this.create('node', 'mtd', this.nodes, shove ? { columnalign: shove } : {});\n        this.setProperty('shove', null);\n        this.row.push(mtd);\n        this.Clear();\n    };\n    MultlineItem.prototype.EndRow = function () {\n        if (this.row.length !== 1) {\n            throw new TexError_js_1.default('MultlineRowsOneCol', 'The rows within the %1 environment must have exactly one column', 'multline');\n        }\n        var row = this.create('node', 'mtr', this.row);\n        this.table.push(row);\n        this.row = [];\n    };\n    MultlineItem.prototype.EndTable = function () {\n        _super.prototype.EndTable.call(this);\n        if (this.table.length) {\n            var m = this.table.length - 1, i = void 0, label = -1;\n            if (!NodeUtil_js_1.default.getAttribute(NodeUtil_js_1.default.getChildren(this.table[0])[0], 'columnalign')) {\n                NodeUtil_js_1.default.setAttribute(NodeUtil_js_1.default.getChildren(this.table[0])[0], 'columnalign', TexConstants_js_1.TexConstant.Align.LEFT);\n            }\n            if (!NodeUtil_js_1.default.getAttribute(NodeUtil_js_1.default.getChildren(this.table[m])[0], 'columnalign')) {\n                NodeUtil_js_1.default.setAttribute(NodeUtil_js_1.default.getChildren(this.table[m])[0], 'columnalign', TexConstants_js_1.TexConstant.Align.RIGHT);\n            }\n            var tag = this.factory.configuration.tags.getTag();\n            if (tag) {\n                label = (this.arraydef.side === TexConstants_js_1.TexConstant.Align.LEFT ? 0 : this.table.length - 1);\n                var mtr = this.table[label];\n                var mlabel = this.create('node', 'mlabeledtr', [tag].concat(NodeUtil_js_1.default.getChildren(mtr)));\n                NodeUtil_js_1.default.copyAttributes(mtr, mlabel);\n                this.table[label] = mlabel;\n            }\n        }\n        this.factory.configuration.tags.end();\n    };\n    return MultlineItem;\n}(BaseItems_js_1.ArrayItem));\nexports.MultlineItem = MultlineItem;\n//# sourceMappingURL=AmsItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nrequire(\"./AmsCdMappings.js\");\nexports.AmsCdConfiguration = Configuration_js_1.Configuration.create('amsCd', { handler: {\n        character: ['amsCd_special'],\n        macro: ['amsCd_macros'],\n        environment: ['amsCd_environment']\n    },\n    options: {\n        amsCd: {\n            colspace: '5pt',\n            rowspace: '5pt',\n            harrowsize: '2.75em',\n            varrowsize: '1.75em',\n            hideHorizontalLabels: false\n        }\n    } });\n//# sourceMappingURL=AmsCdConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TexParser_js_1 = require(\"../TexParser.js\");\nvar BaseConfiguration_js_1 = require(\"../base/BaseConfiguration.js\");\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar NodeUtil_js_1 = require(\"../NodeUtil.js\");\nvar AmsCdMethods = {};\nAmsCdMethods.CD = function (parser, begin) {\n    parser.Push(begin);\n    var item = parser.itemFactory.create('array');\n    var options = parser.configuration.options.amsCd;\n    item.setProperties({\n        minw: parser.stack.env.CD_minw || options.harrowsize,\n        minh: parser.stack.env.CD_minh || options.varrowsize\n    });\n    item.arraydef = {\n        columnalign: 'center',\n        columnspacing: options.colspace,\n        rowspacing: options.rowspace,\n        displaystyle: true\n    };\n    return item;\n};\nAmsCdMethods.arrow = function (parser, name) {\n    var c = parser.string.charAt(parser.i);\n    if (!c.match(/[><VA.|=]/)) {\n        return BaseConfiguration_js_1.Other(parser, name);\n    }\n    else {\n        parser.i++;\n    }\n    var first = parser.stack.Top();\n    if (!first.isKind('array') || first.Size()) {\n        AmsCdMethods.cell(parser, name);\n        first = parser.stack.Top();\n    }\n    var top = first;\n    var arrowRow = ((top.table.length % 2) === 1);\n    var n = (top.row.length + (arrowRow ? 0 : 1)) % 2;\n    while (n) {\n        AmsCdMethods.cell(parser, name);\n        n--;\n    }\n    var mml;\n    var hdef = { minsize: top.getProperty('minw'), stretchy: true }, vdef = { minsize: top.getProperty('minh'),\n        stretchy: true, symmetric: true, lspace: 0, rspace: 0 };\n    if (c === '.') {\n    }\n    else if (c === '|') {\n        mml = parser.create('token', 'mo', vdef, '\\u2225');\n    }\n    else if (c === '=') {\n        mml = parser.create('token', 'mo', hdef, '=');\n    }\n    else {\n        var arrow = {\n            '>': '\\u2192', '<': '\\u2190', 'V': '\\u2193', 'A': '\\u2191'\n        }[c];\n        var a = parser.GetUpTo(name + c, c);\n        var b = parser.GetUpTo(name + c, c);\n        if (c === '>' || c === '<') {\n            mml = parser.create('token', 'mo', hdef, arrow);\n            if (!a) {\n                a = '\\\\kern ' + top.getProperty('minw');\n            }\n            if (a || b) {\n                var pad = { width: '+11mu', lspace: '6mu' };\n                mml = parser.create('node', 'munderover', [mml]);\n                if (a) {\n                    var nodeA = new TexParser_js_1.default(a, parser.stack.env, parser.configuration).mml();\n                    var mpadded = parser.create('node', 'mpadded', [nodeA], pad);\n                    NodeUtil_js_1.default.setAttribute(mpadded, 'voffset', '.1em');\n                    NodeUtil_js_1.default.setChild(mml, mml.over, mpadded);\n                }\n                if (b) {\n                    var nodeB = new TexParser_js_1.default(b, parser.stack.env, parser.configuration).mml();\n                    NodeUtil_js_1.default.setChild(mml, mml.under, parser.create('node', 'mpadded', [nodeB], pad));\n                }\n                if (parser.configuration.options.amsCd.hideHorizontalLabels) {\n                    mml = parser.create('node', 'mpadded', mml, { depth: 0, height: '.67em' });\n                }\n            }\n        }\n        else {\n            var arrowNode = parser.create('token', 'mo', vdef, arrow);\n            mml = arrowNode;\n            if (a || b) {\n                mml = parser.create('node', 'mrow');\n                if (a) {\n                    NodeUtil_js_1.default.appendChildren(mml, [new TexParser_js_1.default('\\\\scriptstyle\\\\llap{' + a + '}', parser.stack.env, parser.configuration).mml()]);\n                }\n                arrowNode.texClass = MmlNode_js_1.TEXCLASS.ORD;\n                NodeUtil_js_1.default.appendChildren(mml, [arrowNode]);\n                if (b) {\n                    NodeUtil_js_1.default.appendChildren(mml, [new TexParser_js_1.default('\\\\scriptstyle\\\\rlap{' + b + '}', parser.stack.env, parser.configuration).mml()]);\n                }\n            }\n        }\n    }\n    if (mml) {\n        parser.Push(mml);\n    }\n    AmsCdMethods.cell(parser, name);\n};\nAmsCdMethods.cell = function (parser, name) {\n    var top = parser.stack.Top();\n    if ((top.table || []).length % 2 === 0 && (top.row || []).length === 0) {\n        parser.Push(parser.create('node', 'mpadded', [], { height: '8.5pt', depth: '2pt' }));\n    }\n    parser.Push(parser.itemFactory.create('cell').setProperties({ isEntry: true, name: name }));\n};\nAmsCdMethods.minCDarrowwidth = function (parser, name) {\n    parser.stack.env.CD_minw = parser.GetDimen(name);\n};\nAmsCdMethods.minCDarrowheight = function (parser, name) {\n    parser.stack.env.CD_minh = parser.GetDimen(name);\n};\nexports.default = AmsCdMethods;\n//# sourceMappingURL=AmsCdMethods.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar TexError_js_1 = require(\"../TexError.js\");\nexports.BboxMethods = {};\nexports.BboxMethods.BBox = function (parser, name) {\n    var bbox = parser.GetBrackets(name, '');\n    var math = parser.ParseArg(name);\n    var parts = bbox.split(/,/);\n    var def, background, style;\n    for (var i = 0, m = parts.length; i < m; i++) {\n        var part = parts[i].trim();\n        var match = part.match(/^(\\.\\d+|\\d+(\\.\\d*)?)(pt|em|ex|mu|px|in|cm|mm)$/);\n        if (match) {\n            if (def) {\n                throw new TexError_js_1.default('MultipleBBoxProperty', '%1 specified twice in %2', 'Padding', name);\n            }\n            var pad = BBoxPadding(match[1] + match[3]);\n            if (pad) {\n                def = {\n                    height: '+' + pad,\n                    depth: '+' + pad,\n                    lspace: pad,\n                    width: '+' + (2 * parseInt(match[1], 10)) + match[3]\n                };\n            }\n        }\n        else if (part.match(/^([a-z0-9]+|\\#[0-9a-f]{6}|\\#[0-9a-f]{3})$/i)) {\n            if (background) {\n                throw new TexError_js_1.default('MultipleBBoxProperty', '%1 specified twice in %2', 'Background', name);\n            }\n            background = part;\n        }\n        else if (part.match(/^[-a-z]+:/i)) {\n            if (style) {\n                throw new TexError_js_1.default('MultipleBBoxProperty', '%1 specified twice in %2', 'Style', name);\n            }\n            style = BBoxStyle(part);\n        }\n        else if (part !== '') {\n            throw new TexError_js_1.default('InvalidBBoxProperty', '\"%1\" doesn\\'t look like a color, a padding dimension, or a style', part);\n        }\n    }\n    if (def) {\n        math = parser.create('node', 'mpadded', [math], def);\n    }\n    if (background || style) {\n        def = {};\n        if (background) {\n            Object.assign(def, { mathbackground: background });\n        }\n        if (style) {\n            Object.assign(def, { style: style });\n        }\n        math = parser.create('node', 'mstyle', [math], def);\n    }\n    parser.Push(math);\n};\nvar BBoxStyle = function (styles) {\n    return styles;\n};\nvar BBoxPadding = function (pad) {\n    return pad;\n};\nnew SymbolMap_js_1.CommandMap('bbox', { bbox: 'BBox' }, exports.BboxMethods);\nexports.BboxConfiguration = Configuration_js_1.Configuration.create('bbox', { handler: { macro: ['bbox'] } });\n//# sourceMappingURL=BboxConfiguration.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar NodeUtil_js_1 = require(\"../NodeUtil.js\");\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar NodeFactory_js_1 = require(\"../NodeFactory.js\");\nvar BOLDVARIANT = {};\nBOLDVARIANT[TexConstants_js_1.TexConstant.Variant.NORMAL] = TexConstants_js_1.TexConstant.Variant.BOLD;\nBOLDVARIANT[TexConstants_js_1.TexConstant.Variant.ITALIC] = TexConstants_js_1.TexConstant.Variant.BOLDITALIC;\nBOLDVARIANT[TexConstants_js_1.TexConstant.Variant.FRAKTUR] = TexConstants_js_1.TexConstant.Variant.BOLDFRAKTUR;\nBOLDVARIANT[TexConstants_js_1.TexConstant.Variant.SCRIPT] = TexConstants_js_1.TexConstant.Variant.BOLDSCRIPT;\nBOLDVARIANT[TexConstants_js_1.TexConstant.Variant.SANSSERIF] = TexConstants_js_1.TexConstant.Variant.BOLDSANSSERIF;\nBOLDVARIANT['-tex-calligraphic'] = '-tex-bold-calligraphic';\nBOLDVARIANT['-tex-oldstyle'] = '-tex-bold-oldstyle';\nexports.BoldsymbolMethods = {};\nexports.BoldsymbolMethods.Boldsymbol = function (parser, name) {\n    var boldsymbol = parser.stack.env['boldsymbol'];\n    parser.stack.env['boldsymbol'] = true;\n    var mml = parser.ParseArg(name);\n    parser.stack.env['boldsymbol'] = boldsymbol;\n    parser.Push(mml);\n};\nnew SymbolMap_js_1.CommandMap('boldsymbol', { boldsymbol: 'Boldsymbol' }, exports.BoldsymbolMethods);\nfunction createBoldToken(factory, kind, def, text) {\n    var token = NodeFactory_js_1.NodeFactory.createToken(factory, kind, def, text);\n    if (kind !== 'mtext' &&\n        factory.configuration.parser.stack.env['boldsymbol']) {\n        NodeUtil_js_1.default.setProperty(token, 'fixBold', true);\n        factory.configuration.addNode('fixBold', token);\n    }\n    return token;\n}\nexports.createBoldToken = createBoldToken;\nfunction rewriteBoldTokens(arg) {\n    var e_1, _a;\n    try {\n        for (var _b = __values(arg.data.getList('fixBold')), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var node = _c.value;\n            if (NodeUtil_js_1.default.getProperty(node, 'fixBold')) {\n                var variant = NodeUtil_js_1.default.getAttribute(node, 'mathvariant');\n                if (variant == null) {\n                    NodeUtil_js_1.default.setAttribute(node, 'mathvariant', TexConstants_js_1.TexConstant.Variant.BOLD);\n                }\n                else {\n                    NodeUtil_js_1.default.setAttribute(node, 'mathvariant', BOLDVARIANT[variant] || variant);\n                }\n                NodeUtil_js_1.default.removeProperties(node, 'fixBold');\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n}\nexports.rewriteBoldTokens = rewriteBoldTokens;\n;\nexports.BoldsymbolConfiguration = Configuration_js_1.Configuration.create('boldsymbol', { handler: { macro: ['boldsymbol'] },\n    nodes: { 'token': createBoldToken },\n    postprocessors: [rewriteBoldTokens] });\n//# sourceMappingURL=BoldsymbolConfiguration.js.map","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar BraketItems_js_1 = require(\"./BraketItems.js\");\nrequire(\"./BraketMappings.js\");\nexports.BraketConfiguration = Configuration_js_1.Configuration.create('braket', {\n    handler: {\n        character: ['Braket-characters'],\n        macro: ['Braket-macros']\n    },\n    items: (_a = {},\n        _a[BraketItems_js_1.BraketItem.prototype.kind] = BraketItems_js_1.BraketItem,\n        _a)\n});\n//# sourceMappingURL=BraketConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar StackItem_js_1 = require(\"../StackItem.js\");\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nvar BraketItem = (function (_super) {\n    __extends(BraketItem, _super);\n    function BraketItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BraketItem.prototype, \"kind\", {\n        get: function () {\n            return 'braket';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BraketItem.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BraketItem.prototype.checkItem = function (item) {\n        if (item.isKind('close')) {\n            return [[this.factory.create('mml', this.toMml())], true];\n        }\n        if (item.isKind('mml')) {\n            this.Push(item.toMml());\n            if (this.getProperty('single')) {\n                return [[this.toMml()], true];\n            }\n            return StackItem_js_1.BaseItem.fail;\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    BraketItem.prototype.toMml = function () {\n        var inner = _super.prototype.toMml.call(this);\n        var open = this.getProperty('open');\n        var close = this.getProperty('close');\n        if (this.getProperty('stretchy')) {\n            return ParseUtil_js_1.default.fenced(this.factory.configuration, open, inner, close);\n        }\n        var attrs = { fence: true, stretchy: false, symmetric: true, texClass: MmlNode_js_1.TEXCLASS.OPEN };\n        var openNode = this.create('token', 'mo', attrs, open);\n        attrs.texClass = MmlNode_js_1.TEXCLASS.CLOSE;\n        var closeNode = this.create('token', 'mo', attrs, close);\n        var mrow = this.create('node', 'mrow', [openNode, inner, closeNode], { open: open, close: close, texClass: MmlNode_js_1.TEXCLASS.INNER });\n        return mrow;\n    };\n    return BraketItem;\n}(StackItem_js_1.BaseItem));\nexports.BraketItem = BraketItem;\n//# sourceMappingURL=BraketItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseMethods_js_1 = require(\"../base/BaseMethods.js\");\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar BraketMethods = {};\nBraketMethods.Macro = BaseMethods_js_1.default.Macro;\nBraketMethods.Braket = function (parser, name, open, close, stretchy, barmax) {\n    var next = parser.GetNext();\n    var single = true;\n    if (next === '{') {\n        parser.i++;\n        single = false;\n    }\n    parser.Push(parser.itemFactory.create('braket')\n        .setProperties({ barmax: barmax, barcount: 0, open: open,\n        close: close, stretchy: stretchy, single: single }));\n};\nBraketMethods.Bar = function (parser, name) {\n    var c = name === '|' ? '|' : '\\u2225';\n    var top = parser.stack.Top();\n    if (top.kind !== 'braket' ||\n        top.getProperty('barcount') >= top.getProperty('barmax')) {\n        var mml = parser.create('token', 'mo', { texClass: MmlNode_js_1.TEXCLASS.ORD, stretchy: false }, c);\n        parser.Push(mml);\n        return;\n    }\n    if (c === '|' && parser.GetNext() === '|') {\n        parser.i++;\n        c = '\\u2225';\n    }\n    var stretchy = top.getProperty('stretchy');\n    if (!stretchy) {\n        var node_1 = parser.create('token', 'mo', { stretchy: false, braketbar: true }, c);\n        parser.Push(node_1);\n        return;\n    }\n    var node = parser.create('node', 'TeXAtom', [], { texClass: MmlNode_js_1.TEXCLASS.CLOSE });\n    parser.Push(node);\n    top.setProperty('barcount', top.getProperty('barcount') + 1);\n    node = parser.create('token', 'mo', { stretchy: true, braketbar: true }, c);\n    parser.Push(node);\n    node = parser.create('node', 'TeXAtom', [], { texClass: MmlNode_js_1.TEXCLASS.OPEN });\n    parser.Push(node);\n};\nexports.default = BraketMethods;\n//# sourceMappingURL=BraketMethods.js.map","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar BussproofsItems_js_1 = require(\"./BussproofsItems.js\");\nvar BussproofsUtil_js_1 = require(\"./BussproofsUtil.js\");\nrequire(\"./BussproofsMappings.js\");\nexports.BussproofsConfiguration = Configuration_js_1.Configuration.create('bussproofs', { handler: {\n        macro: ['Bussproofs-macros'],\n        environment: ['Bussproofs-environments']\n    },\n    items: (_a = {},\n        _a[BussproofsItems_js_1.ProofTreeItem.prototype.kind] = BussproofsItems_js_1.ProofTreeItem,\n        _a),\n    preprocessors: [\n        [BussproofsUtil_js_1.saveDocument, 1]\n    ],\n    postprocessors: [\n        [BussproofsUtil_js_1.clearDocument, 3],\n        [BussproofsUtil_js_1.makeBsprAttributes, 2],\n        [BussproofsUtil_js_1.balanceRules, 1]\n    ]\n});\n//# sourceMappingURL=BussproofsConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TexError_js_1 = require(\"../TexError.js\");\nvar StackItem_js_1 = require(\"../StackItem.js\");\nvar Stack_js_1 = require(\"../Stack.js\");\nvar BussproofsUtil = require(\"./BussproofsUtil.js\");\nvar ProofTreeItem = (function (_super) {\n    __extends(ProofTreeItem, _super);\n    function ProofTreeItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.leftLabel = null;\n        _this.rigthLabel = null;\n        _this.innerStack = new Stack_js_1.default(_this.factory, {}, true);\n        return _this;\n    }\n    Object.defineProperty(ProofTreeItem.prototype, \"kind\", {\n        get: function () {\n            return 'proofTree';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ProofTreeItem.prototype.checkItem = function (item) {\n        if (item.isKind('end') && item.getName() === 'prooftree') {\n            var node = this.toMml();\n            BussproofsUtil.setProperty(node, 'proof', true);\n            return [[this.factory.create('mml', node), item], true];\n        }\n        if (item.isKind('stop')) {\n            throw new TexError_js_1.default('EnvMissingEnd', 'Missing \\\\end{%1}', this.getName());\n        }\n        this.innerStack.Push(item);\n        return StackItem_js_1.BaseItem.fail;\n    };\n    ProofTreeItem.prototype.toMml = function () {\n        var tree = _super.prototype.toMml.call(this);\n        var start = this.innerStack.Top();\n        if (start.isKind('start') && !start.Size()) {\n            return tree;\n        }\n        this.innerStack.Push(this.factory.create('stop'));\n        var prefix = this.innerStack.Top().toMml();\n        return this.create('node', 'mrow', [prefix, tree], {});\n    };\n    return ProofTreeItem;\n}(StackItem_js_1.BaseItem));\nexports.ProofTreeItem = ProofTreeItem;\n//# sourceMappingURL=BussproofsItems.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TexError_js_1 = require(\"../TexError.js\");\nvar TexParser_js_1 = require(\"../TexParser.js\");\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nvar BussproofsUtil = require(\"./BussproofsUtil.js\");\nvar BussproofsMethods = {};\nBussproofsMethods.Prooftree = function (parser, begin) {\n    parser.Push(begin);\n    var newItem = parser.itemFactory.create('proofTree').\n        setProperties({ name: begin.getName(),\n        line: 'solid', currentLine: 'solid', rootAtTop: false });\n    return newItem;\n};\nBussproofsMethods.Axiom = function (parser, name) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    var content = paddedContent(parser, parser.GetArgument(name));\n    BussproofsUtil.setProperty(content, 'axiom', true);\n    top.Push(content);\n};\nvar paddedContent = function (parser, content) {\n    var nodes = ParseUtil_js_1.default.internalMath(parser, ParseUtil_js_1.default.trimSpaces(content), 0);\n    if (!nodes[0].childNodes[0].childNodes.length) {\n        return parser.create('node', 'mrow', []);\n    }\n    var lpad = parser.create('node', 'mspace', [], { width: '.5ex' });\n    var rpad = parser.create('node', 'mspace', [], { width: '.5ex' });\n    return parser.create('node', 'mrow', __spread([lpad], nodes, [rpad]));\n};\nBussproofsMethods.Inference = function (parser, name, n) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    if (top.Size() < n) {\n        throw new TexError_js_1.default('BadProofTree', 'Proof tree badly specified.');\n    }\n    var rootAtTop = top.getProperty('rootAtTop');\n    var childCount = (n === 1 && !top.Peek()[0].childNodes.length) ? 0 : n;\n    var children = [];\n    do {\n        if (children.length) {\n            children.unshift(parser.create('node', 'mtd', [], {}));\n        }\n        children.unshift(parser.create('node', 'mtd', [top.Pop()], { 'rowalign': (rootAtTop ? 'top' : 'bottom') }));\n        n--;\n    } while (n > 0);\n    var row = parser.create('node', 'mtr', children, {});\n    var table = parser.create('node', 'mtable', [row], { framespacing: '0 0' });\n    var conclusion = paddedContent(parser, parser.GetArgument(name));\n    var style = top.getProperty('currentLine');\n    if (style !== top.getProperty('line')) {\n        top.setProperty('currentLine', top.getProperty('line'));\n    }\n    var rule = createRule(parser, table, [conclusion], top.getProperty('left'), top.getProperty('right'), style, rootAtTop);\n    top.setProperty('left', null);\n    top.setProperty('right', null);\n    BussproofsUtil.setProperty(rule, 'inference', childCount);\n    parser.configuration.addNode('inference', rule);\n    top.Push(rule);\n};\nfunction createRule(parser, premise, conclusions, left, right, style, rootAtTop) {\n    var upper = parser.create('node', 'mtr', [parser.create('node', 'mtd', [premise], {})], {});\n    var lower = parser.create('node', 'mtr', [parser.create('node', 'mtd', conclusions, {})], {});\n    var rule = parser.create('node', 'mtable', rootAtTop ? [lower, upper] : [upper, lower], { align: 'top 2', rowlines: style, framespacing: '0 0' });\n    BussproofsUtil.setProperty(rule, 'inferenceRule', rootAtTop ? 'up' : 'down');\n    var leftLabel, rightLabel;\n    if (left) {\n        leftLabel = parser.create('node', 'mpadded', [left], { height: '+.5em', width: '+.5em', voffset: '-.15em' });\n        BussproofsUtil.setProperty(leftLabel, 'prooflabel', 'left');\n    }\n    if (right) {\n        rightLabel = parser.create('node', 'mpadded', [right], { height: '+.5em', width: '+.5em', voffset: '-.15em' });\n        BussproofsUtil.setProperty(rightLabel, 'prooflabel', 'right');\n    }\n    var children, label;\n    if (left && right) {\n        children = [leftLabel, rule, rightLabel];\n        label = 'both';\n    }\n    else if (left) {\n        children = [leftLabel, rule];\n        label = 'left';\n    }\n    else if (right) {\n        children = [rule, rightLabel];\n        label = 'right';\n    }\n    else {\n        return rule;\n    }\n    rule = parser.create('node', 'mrow', children);\n    BussproofsUtil.setProperty(rule, 'labelledRule', label);\n    return rule;\n}\n;\nBussproofsMethods.Label = function (parser, name, side) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    var content = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name), 0);\n    var label = (content.length > 1) ?\n        parser.create('node', 'mrow', content, {}) : content[0];\n    top.setProperty(side, label);\n};\nBussproofsMethods.SetLine = function (parser, name, style, always) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    top.setProperty('currentLine', style);\n    if (always) {\n        top.setProperty('line', style);\n    }\n};\nBussproofsMethods.RootAtTop = function (parser, name, where) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    top.setProperty('rootAtTop', where);\n};\nBussproofsMethods.AxiomF = function (parser, name) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    var line = parseFCenterLine(parser, name);\n    BussproofsUtil.setProperty(line, 'axiom', true);\n    top.Push(line);\n};\nfunction parseFCenterLine(parser, name) {\n    var dollar = parser.GetNext();\n    if (dollar !== '$') {\n        throw new TexError_js_1.default('IllegalUseOfCommand', 'Use of %1 does not match it\\'s definition.', name);\n    }\n    parser.i++;\n    var axiom = parser.GetUpTo(name, '$');\n    if (axiom.indexOf('\\\\fCenter') === -1) {\n        throw new TexError_js_1.default('IllegalUseOfCommand', 'Missing \\\\fCenter in %1.', name);\n    }\n    var _a = __read(axiom.split('\\\\fCenter'), 2), prem = _a[0], conc = _a[1];\n    var premise = (new TexParser_js_1.default(prem, parser.stack.env, parser.configuration)).mml();\n    var conclusion = (new TexParser_js_1.default(conc, parser.stack.env, parser.configuration)).mml();\n    var fcenter = (new TexParser_js_1.default('\\\\fCenter', parser.stack.env, parser.configuration)).mml();\n    var left = parser.create('node', 'mtd', [premise], {});\n    var middle = parser.create('node', 'mtd', [fcenter], {});\n    var right = parser.create('node', 'mtd', [conclusion], {});\n    var row = parser.create('node', 'mtr', [left, middle, right], {});\n    var table = parser.create('node', 'mtable', [row], { columnspacing: '.5ex', columnalign: 'center 2' });\n    BussproofsUtil.setProperty(table, 'sequent', true);\n    parser.configuration.addNode('sequent', row);\n    return table;\n}\n;\nBussproofsMethods.FCenter = function (parser, name) { };\nBussproofsMethods.InferenceF = function (parser, name, n) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    if (top.Size() < n) {\n        throw new TexError_js_1.default('BadProofTree', 'Proof tree badly specified.');\n    }\n    var rootAtTop = top.getProperty('rootAtTop');\n    var childCount = (n === 1 && !top.Peek()[0].childNodes.length) ? 0 : n;\n    var children = [];\n    do {\n        if (children.length) {\n            children.unshift(parser.create('node', 'mtd', [], {}));\n        }\n        children.unshift(parser.create('node', 'mtd', [top.Pop()], { 'rowalign': (rootAtTop ? 'top' : 'bottom') }));\n        n--;\n    } while (n > 0);\n    var row = parser.create('node', 'mtr', children, {});\n    var table = parser.create('node', 'mtable', [row], { framespacing: '0 0' });\n    var conclusion = parseFCenterLine(parser, name);\n    var style = top.getProperty('currentLine');\n    if (style !== top.getProperty('line')) {\n        top.setProperty('currentLine', top.getProperty('line'));\n    }\n    var rule = createRule(parser, table, [conclusion], top.getProperty('left'), top.getProperty('right'), style, rootAtTop);\n    top.setProperty('left', null);\n    top.setProperty('right', null);\n    BussproofsUtil.setProperty(rule, 'inference', childCount);\n    parser.configuration.addNode('inference', rule);\n    top.Push(rule);\n};\nexports.default = BussproofsMethods;\n//# sourceMappingURL=BussproofsMethods.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nvar EncloseConfiguration_js_1 = require(\"../enclose/EncloseConfiguration.js\");\nexports.CancelMethods = {};\nexports.CancelMethods.Cancel = function (parser, name, notation) {\n    var attr = parser.GetBrackets(name, '');\n    var math = parser.ParseArg(name);\n    var def = ParseUtil_js_1.default.keyvalOptions(attr, EncloseConfiguration_js_1.ENCLOSE_OPTIONS);\n    def['notation'] = notation;\n    parser.Push(parser.create('node', 'menclose', [math], def));\n};\nexports.CancelMethods.CancelTo = function (parser, name) {\n    var attr = parser.GetBrackets(name, '');\n    var value = parser.ParseArg(name);\n    var math = parser.ParseArg(name);\n    var def = ParseUtil_js_1.default.keyvalOptions(attr, EncloseConfiguration_js_1.ENCLOSE_OPTIONS);\n    def['notation'] = [TexConstants_js_1.TexConstant.Notation.UPDIAGONALSTRIKE,\n        TexConstants_js_1.TexConstant.Notation.UPDIAGONALARROW,\n        TexConstants_js_1.TexConstant.Notation.NORTHEASTARROW].join(' ');\n    value = parser.create('node', 'mpadded', [value], { depth: '-.1em', height: '+.1em', voffset: '.1em' });\n    parser.Push(parser.create('node', 'msup', [parser.create('node', 'menclose', [math], def), value]));\n};\nnew SymbolMap_js_1.CommandMap('cancel', {\n    cancel: ['Cancel', TexConstants_js_1.TexConstant.Notation.UPDIAGONALSTRIKE],\n    bcancel: ['Cancel', TexConstants_js_1.TexConstant.Notation.DOWNDIAGONALSTRIKE],\n    xcancel: ['Cancel', TexConstants_js_1.TexConstant.Notation.UPDIAGONALSTRIKE + ' ' +\n            TexConstants_js_1.TexConstant.Notation.DOWNDIAGONALSTRIKE],\n    cancelto: 'CancelTo'\n}, exports.CancelMethods);\nexports.CancelConfiguration = Configuration_js_1.Configuration.create('cancel', { handler: { macro: ['cancel'] } });\n//# sourceMappingURL=CancelConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar ColorMethods_js_1 = require(\"./ColorMethods.js\");\nvar ColorUtil_js_1 = require(\"./ColorUtil.js\");\nnew SymbolMap_js_1.CommandMap('color', {\n    color: 'Color',\n    textcolor: 'TextColor',\n    definecolor: 'DefineColor',\n    colorbox: 'ColorBox',\n    fcolorbox: 'FColorBox'\n}, ColorMethods_js_1.ColorMethods);\nvar config = function (config, jax) {\n    jax.parseOptions.options.color.model = new ColorUtil_js_1.ColorModel();\n};\nexports.ColorConfiguration = Configuration_js_1.Configuration.create('color', {\n    handler: {\n        macro: ['color'],\n    },\n    options: {\n        color: {\n            padding: '5px',\n            borderWidth: '2px'\n        }\n    },\n    config: config\n});\n//# sourceMappingURL=ColorConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NodeUtil_js_1 = require(\"../NodeUtil.js\");\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nfunction padding(colorPadding) {\n    var pad = \"+\" + colorPadding;\n    var unit = colorPadding.replace(/^.*?([a-z]*)$/, '$1');\n    var pad2 = 2 * parseFloat(pad);\n    return {\n        width: \"+\" + pad2 + unit,\n        height: pad,\n        depth: pad,\n        lspace: colorPadding,\n    };\n}\n;\nexports.ColorMethods = {};\nexports.ColorMethods.Color = function (parser, name) {\n    var model = parser.GetBrackets(name, '');\n    var colorDef = parser.GetArgument(name);\n    var colorModel = parser.options.color.model;\n    var color = colorModel.getColor(model, colorDef);\n    var style = parser.itemFactory.create('style')\n        .setProperties({ styles: { mathcolor: color } });\n    parser.stack.env['color'] = color;\n    parser.Push(style);\n};\nexports.ColorMethods.TextColor = function (parser, name) {\n    var model = parser.GetBrackets(name, '');\n    var colorDef = parser.GetArgument(name);\n    var colorModel = parser.options.color.model;\n    var color = colorModel.getColor(model, colorDef);\n    var old = parser.stack.env['color'];\n    parser.stack.env['color'] = color;\n    var math = parser.ParseArg(name);\n    if (old) {\n        parser.stack.env['color'] = old;\n    }\n    else {\n        delete parser.stack.env['color'];\n    }\n    var node = parser.create('node', 'mstyle', [math], { mathcolor: color });\n    parser.Push(node);\n};\nexports.ColorMethods.DefineColor = function (parser, name) {\n    var cname = parser.GetArgument(name);\n    var model = parser.GetArgument(name);\n    var def = parser.GetArgument(name);\n    var colorModel = parser.options.color.model;\n    colorModel.defineColor(model, cname, def);\n};\nexports.ColorMethods.ColorBox = function (parser, name) {\n    var cname = parser.GetArgument(name);\n    var math = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name));\n    var options = parser.options.color;\n    var colorModel = options.model;\n    var node = parser.create('node', 'mpadded', math, {\n        mathbackground: colorModel.getColor('named', cname)\n    });\n    NodeUtil_js_1.default.setProperties(node, padding(options.padding));\n    parser.Push(node);\n};\nexports.ColorMethods.FColorBox = function (parser, name) {\n    var fname = parser.GetArgument(name);\n    var cname = parser.GetArgument(name);\n    var math = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name));\n    var options = parser.options.color;\n    var colorModel = options.model;\n    var node = parser.create('node', 'mpadded', math, {\n        mathbackground: colorModel.getColor('named', cname),\n        style: \"border: \" + options.borderWidth + \" solid \" + colorModel.getColor('named', fname)\n    });\n    NodeUtil_js_1.default.setProperties(node, padding(options.padding));\n    parser.Push(node);\n};\n//# sourceMappingURL=ColorMethods.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TexError_js_1 = require(\"../TexError.js\");\nvar ColorConstants_js_1 = require(\"./ColorConstants.js\");\nvar ColorModelProcessors = new Map();\nvar ColorModel = (function () {\n    function ColorModel() {\n        this.userColors = new Map();\n    }\n    ColorModel.prototype.normalizeColor = function (model, def) {\n        if (!model || model === 'named') {\n            return def;\n        }\n        if (ColorModelProcessors.has(model)) {\n            var modelProcessor = ColorModelProcessors.get(model);\n            return modelProcessor(def);\n        }\n        throw new TexError_js_1.default('UndefinedColorModel', 'Color model \\'%1\\' not defined', model);\n    };\n    ColorModel.prototype.getColor = function (model, def) {\n        if (!model || model === 'named') {\n            return this.getColorByName(def);\n        }\n        return this.normalizeColor(model, def);\n    };\n    ColorModel.prototype.getColorByName = function (name) {\n        if (this.userColors.has(name)) {\n            return this.userColors.get(name);\n        }\n        if (ColorConstants_js_1.COLORS.has(name)) {\n            return ColorConstants_js_1.COLORS.get(name);\n        }\n        return name;\n    };\n    ColorModel.prototype.defineColor = function (model, name, def) {\n        var normalized = this.normalizeColor(model, def);\n        this.userColors.set(name, normalized);\n    };\n    return ColorModel;\n}());\nexports.ColorModel = ColorModel;\nColorModelProcessors.set('rgb', function (rgb) {\n    var e_1, _a;\n    var rgbParts = rgb.trim().split(/\\s*,\\s*/);\n    var RGB = '#';\n    if (rgbParts.length !== 3) {\n        throw new TexError_js_1.default('ModelArg1', 'Color values for the %1 model require 3 numbers', 'rgb');\n    }\n    try {\n        for (var rgbParts_1 = __values(rgbParts), rgbParts_1_1 = rgbParts_1.next(); !rgbParts_1_1.done; rgbParts_1_1 = rgbParts_1.next()) {\n            var rgbPart = rgbParts_1_1.value;\n            if (!rgbPart.match(/^(\\d+(\\.\\d*)?|\\.\\d+)$/)) {\n                throw new TexError_js_1.default('InvalidDecimalNumber', 'Invalid decimal number');\n            }\n            var n = parseFloat(rgbPart);\n            if (n < 0 || n > 1) {\n                throw new TexError_js_1.default('ModelArg2', 'Color values for the %1 model must be between %2 and %3', 'rgb', '0', '1');\n            }\n            var pn = Math.floor(n * 255).toString(16);\n            if (pn.length < 2) {\n                pn = '0' + pn;\n            }\n            RGB += pn;\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (rgbParts_1_1 && !rgbParts_1_1.done && (_a = rgbParts_1.return)) _a.call(rgbParts_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return RGB;\n});\nColorModelProcessors.set('RGB', function (rgb) {\n    var e_2, _a;\n    var rgbParts = rgb.trim().split(/\\s*,\\s*/);\n    var RGB = '#';\n    if (rgbParts.length !== 3) {\n        throw new TexError_js_1.default('ModelArg1', 'Color values for the %1 model require 3 numbers', 'RGB');\n    }\n    try {\n        for (var rgbParts_2 = __values(rgbParts), rgbParts_2_1 = rgbParts_2.next(); !rgbParts_2_1.done; rgbParts_2_1 = rgbParts_2.next()) {\n            var rgbPart = rgbParts_2_1.value;\n            if (!rgbPart.match(/^\\d+$/)) {\n                throw new TexError_js_1.default('InvalidNumber', 'Invalid number');\n            }\n            var n = parseInt(rgbPart);\n            if (n > 255) {\n                throw new TexError_js_1.default('ModelArg2', 'Color values for the %1 model must be between %2 and %3', 'RGB', '0', '255');\n            }\n            var pn = n.toString(16);\n            if (pn.length < 2) {\n                pn = '0' + pn;\n            }\n            RGB += pn;\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (rgbParts_2_1 && !rgbParts_2_1.done && (_a = rgbParts_2.return)) _a.call(rgbParts_2);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return RGB;\n});\nColorModelProcessors.set('gray', function (gray) {\n    if (!gray.match(/^\\s*(\\d+(\\.\\d*)?|\\.\\d+)\\s*$/)) {\n        throw new TexError_js_1.default('InvalidDecimalNumber', 'Invalid decimal number');\n    }\n    var n = parseFloat(gray);\n    if (n < 0 || n > 1) {\n        throw new TexError_js_1.default('ModelArg2', 'Color values for the %1 model must be between %2 and %3', 'gray', '0', '1');\n    }\n    var pn = Math.floor(n * 255).toString(16);\n    if (pn.length < 2) {\n        pn = '0' + pn;\n    }\n    return \"#\" + pn + pn + pn;\n});\n//# sourceMappingURL=ColorUtil.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar Configuration_js_1 = require(\"../Configuration.js\");\nexports.ColorV2Methods = {\n    Color: function (parser, name) {\n        var color = parser.GetArgument(name);\n        var old = parser.stack.env['color'];\n        parser.stack.env['color'] = color;\n        var math = parser.ParseArg(name);\n        if (old) {\n            parser.stack.env['color'] = old;\n        }\n        else {\n            delete parser.stack.env['color'];\n        }\n        var node = parser.create('node', 'mstyle', [math], { mathcolor: color });\n        parser.Push(node);\n    }\n};\nnew SymbolMap_js_1.CommandMap('colorV2', { color: 'Color' }, exports.ColorV2Methods);\nexports.ColorConfiguration = Configuration_js_1.Configuration.create('colorV2', { handler: { macro: ['colorV2'] } });\n//# sourceMappingURL=ColorV2Configuration.js.map","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar Options_js_1 = require(\"../../../util/Options.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar Symbol_js_1 = require(\"../Symbol.js\");\nvar NewcommandMethods_js_1 = require(\"../newcommand/NewcommandMethods.js\");\nvar MACROSMAP = 'configMacrosMap';\nfunction configMacrosInit(config) {\n    var macrosMap = new SymbolMap_js_1.CommandMap(MACROSMAP, {}, {});\n    config.append(Configuration_js_1.Configuration.create('configMacroDefinitions', { handler: { macro: [MACROSMAP] } }));\n}\nfunction configMacrosConfig(config, jax) {\n    var e_1, _a;\n    var macrosMap = jax.parseOptions.handlers.retrieve(MACROSMAP);\n    var macros = jax.parseOptions.options.macros;\n    try {\n        for (var _b = __values(Object.keys(macros)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var cs = _c.value;\n            var def = (typeof macros[cs] === 'string' ? [macros[cs]] : macros[cs]);\n            var macro = Array.isArray(def[2]) ?\n                new Symbol_js_1.Macro(cs, NewcommandMethods_js_1.default.MacroWithTemplate, def.slice(0, 2).concat(def[2])) :\n                new Symbol_js_1.Macro(cs, NewcommandMethods_js_1.default.Macro, def);\n            macrosMap.add(cs, macro);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n}\nexports.ConfigMacrosConfiguration = Configuration_js_1.Configuration.create('configMacros', {\n    init: configMacrosInit,\n    config: configMacrosConfig,\n    options: { macros: Options_js_1.expandable({}) }\n});\n//# sourceMappingURL=ConfigMacrosConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar AmsMethods_js_1 = require(\"../ams/AmsMethods.js\");\nvar NewcommandUtil_js_1 = require(\"../newcommand/NewcommandUtil.js\");\nvar NewcommandConfiguration_js_1 = require(\"../newcommand/NewcommandConfiguration.js\");\nvar TexError_js_1 = require(\"../TexError.js\");\nexports.ExtpfeilMethods = {};\nexports.ExtpfeilMethods.xArrow = AmsMethods_js_1.default.xArrow;\nexports.ExtpfeilMethods.NewExtArrow = function (parser, name) {\n    var cs = parser.GetArgument(name);\n    var space = parser.GetArgument(name);\n    var chr = parser.GetArgument(name);\n    if (!cs.match(/^\\\\([a-z]+|.)$/i)) {\n        throw new TexError_js_1.default('NewextarrowArg1', 'First argument to %1 must be a control sequence name', name);\n    }\n    if (!space.match(/^(\\d+),(\\d+)$/)) {\n        throw new TexError_js_1.default('NewextarrowArg2', 'Second argument to %1 must be two integers separated by a comma', name);\n    }\n    if (!chr.match(/^(\\d+|0x[0-9A-F]+)$/i)) {\n        throw new TexError_js_1.default('NewextarrowArg3', 'Third argument to %1 must be a unicode character number', name);\n    }\n    cs = cs.substr(1);\n    var spaces = space.split(',');\n    NewcommandUtil_js_1.default.addMacro(parser, cs, exports.ExtpfeilMethods.xArrow, [parseInt(chr), parseInt(spaces[0]), parseInt(spaces[1])]);\n};\nnew SymbolMap_js_1.CommandMap('extpfeil', {\n    xtwoheadrightarrow: ['xArrow', 0x21A0, 12, 16],\n    xtwoheadleftarrow: ['xArrow', 0x219E, 17, 13],\n    xmapsto: ['xArrow', 0x21A6, 6, 7],\n    xlongequal: ['xArrow', 0x003D, 7, 7],\n    xtofrom: ['xArrow', 0x21C4, 12, 12],\n    Newextarrow: 'NewExtArrow'\n}, exports.ExtpfeilMethods);\nvar init = function (config) {\n    NewcommandConfiguration_js_1.NewcommandConfiguration.init(config);\n};\nexports.ExtpfeilConfiguration = Configuration_js_1.Configuration.create('extpfeil', { handler: { macro: ['extpfeil'] },\n    init: init });\n//# sourceMappingURL=ExtpfeilConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TexError_js_1 = require(\"../TexError.js\");\nvar StackItem_js_1 = require(\"../StackItem.js\");\nvar BeginEnvItem = (function (_super) {\n    __extends(BeginEnvItem, _super);\n    function BeginEnvItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(BeginEnvItem.prototype, \"kind\", {\n        get: function () {\n            return 'beginEnv';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BeginEnvItem.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BeginEnvItem.prototype.checkItem = function (item) {\n        if (item.isKind('end')) {\n            if (item.getName() !== this.getName()) {\n                throw new TexError_js_1.default('EnvBadEnd', '\\\\begin{%1} ended with \\\\end{%2}', this.getName(), item.getName());\n            }\n            return [[this.factory.create('mml', this.toMml())], true];\n        }\n        if (item.isKind('stop')) {\n            throw new TexError_js_1.default('EnvMissingEnd', 'Missing \\\\end{%1}', this.getName());\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    return BeginEnvItem;\n}(StackItem_js_1.BaseItem));\nexports.BeginEnvItem = BeginEnvItem;\n//# sourceMappingURL=NewcommandItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar HtmlMethods_js_1 = require(\"./HtmlMethods.js\");\nnew SymbolMap_js_1.CommandMap('html_macros', {\n    href: 'Href',\n    'class': 'Class',\n    style: 'Style',\n    cssId: 'Id'\n}, HtmlMethods_js_1.default);\nexports.HtmlConfiguration = Configuration_js_1.Configuration.create('html', { handler: { macro: ['html_macros'] } });\n//# sourceMappingURL=HtmlConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NodeUtil_js_1 = require(\"../NodeUtil.js\");\nvar HtmlMethods = {};\nHtmlMethods.Href = function (parser, name) {\n    var url = parser.GetArgument(name);\n    var arg = GetArgumentMML(parser, name);\n    NodeUtil_js_1.default.setAttribute(arg, 'href', url);\n    parser.Push(arg);\n};\nHtmlMethods.Class = function (parser, name) {\n    var CLASS = parser.GetArgument(name);\n    var arg = GetArgumentMML(parser, name);\n    var oldClass = NodeUtil_js_1.default.getAttribute(arg, 'class');\n    if (oldClass) {\n        CLASS = oldClass + ' ' + CLASS;\n    }\n    NodeUtil_js_1.default.setAttribute(arg, 'class', CLASS);\n    parser.Push(arg);\n};\nHtmlMethods.Style = function (parser, name) {\n    var style = parser.GetArgument(name);\n    var arg = GetArgumentMML(parser, name);\n    var oldStyle = NodeUtil_js_1.default.getAttribute(arg, 'style');\n    if (oldStyle) {\n        if (style.charAt(style.length - 1) !== ';') {\n            style += ';';\n        }\n        style = oldStyle + ' ' + style;\n    }\n    NodeUtil_js_1.default.setAttribute(arg, 'style', style);\n    parser.Push(arg);\n};\nHtmlMethods.Id = function (parser, name) {\n    var ID = parser.GetArgument(name);\n    var arg = GetArgumentMML(parser, name);\n    NodeUtil_js_1.default.setAttribute(arg, 'id', ID);\n    parser.Push(arg);\n};\nvar GetArgumentMML = function (parser, name) {\n    var arg = parser.ParseArg(name);\n    if (!NodeUtil_js_1.default.isInferred(arg)) {\n        return arg;\n    }\n    var children = NodeUtil_js_1.default.getChildren(arg);\n    if (children.length === 1) {\n        return children[0];\n    }\n    var mrow = parser.create('node', 'mrow');\n    NodeUtil_js_1.default.copyChildren(arg, mrow);\n    NodeUtil_js_1.default.copyAttributes(arg, mrow);\n    return mrow;\n};\nexports.default = HtmlMethods;\n//# sourceMappingURL=HtmlMethods.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar TexError_js_1 = require(\"../TexError.js\");\nvar BaseMethods_js_1 = require(\"../base/BaseMethods.js\");\nvar AmsMethods_js_1 = require(\"../ams/AmsMethods.js\");\nvar mhchem_parser_js_1 = require(\"./mhchem_parser.js\");\nvar MhchemMethods = {};\nMhchemMethods.Macro = BaseMethods_js_1.default.Macro;\nMhchemMethods.xArrow = AmsMethods_js_1.default.xArrow;\nMhchemMethods.Machine = function (parser, name, machine) {\n    try {\n        var arg = parser.GetArgument(name);\n        var data = mhchem_parser_js_1.mhchemParser.go(arg, machine);\n        var tex = mhchem_parser_js_1.texify.go(data);\n        parser.string = tex + parser.string.substr(parser.i);\n        parser.i = 0;\n    }\n    catch (err) {\n        throw new TexError_js_1.default(err[0], err[1], err.slice(2));\n    }\n};\nnew SymbolMap_js_1.CommandMap('mhchem', { ce: ['Machine', 'ce'],\n    pu: ['Machine', 'pu'],\n    longrightleftharpoons: ['Macro',\n        '\\\\stackrel{\\\\textstyle{-}\\\\!\\\\!{\\\\rightharpoonup}}{\\\\smash{{\\\\leftharpoondown}\\\\!\\\\!{-}}}'],\n    longRightleftharpoons: ['Macro',\n        '\\\\stackrel{\\\\textstyle{-}\\\\!\\\\!{\\\\rightharpoonup}}{\\\\smash{\\\\leftharpoondown}}'],\n    longLeftrightharpoons: ['Macro',\n        '\\\\stackrel{\\\\textstyle\\\\vphantom{{-}}{\\\\rightharpoonup}}{\\\\smash{{\\\\leftharpoondown}\\\\!\\\\!{-}}}'],\n    longleftrightarrows: ['Macro',\n        '\\\\stackrel{\\\\longrightarrow}{\\\\smash{\\\\longleftarrow}\\\\Rule{0px}{.25em}{0px}}'],\n    tripledash: ['Macro',\n        '\\\\vphantom{-}\\\\raise2mu{\\\\kern2mu\\\\tiny\\\\text{-}\\\\kern1mu\\\\text{-}\\\\kern1mu\\\\text{-}\\\\kern2mu}'],\n    xrightarrow: ['xArrow', 0x2192, 5, 6],\n    xleftarrow: ['xArrow', 0x2190, 7, 3],\n    xleftrightarrow: ['xArrow', 0x2194, 6, 6],\n    xrightleftharpoons: ['xArrow', 0x21CC, 5, 7],\n    xRightleftharpoons: ['xArrow', 0x21CC, 5, 7],\n    xLeftrightharpoons: ['xArrow', 0x21CC, 5, 7]\n}, MhchemMethods);\nexports.MhchemConfiguration = Configuration_js_1.Configuration.create('mhchem', { handler: { macro: ['mhchem'] } });\n//# sourceMappingURL=MhchemConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nfunction noErrors(factory, message, id, expr) {\n    var mtext = factory.create('token', 'mtext', {}, expr.replace(/\\n/g, ' '));\n    var error = factory.create('node', 'merror', [mtext], { 'data-mjx-error': message });\n    return error;\n}\n;\nexports.NoErrorsConfiguration = Configuration_js_1.Configuration.create('noerrors', { nodes: { 'error': noErrors } });\n//# sourceMappingURL=NoErrorsConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nfunction noUndefined(parser, name) {\n    var textNode = parser.create('text', '\\\\' + name);\n    parser.Push(parser.create('node', 'mtext', [], { mathcolor: 'red' }, textNode));\n}\n;\nexports.NoUndefinedConfiguration = Configuration_js_1.Configuration.create('noundefined', { fallback: { macro: noUndefined } });\n//# sourceMappingURL=NoUndefinedConfiguration.js.map","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar PhysicsItems_js_1 = require(\"./PhysicsItems.js\");\nrequire(\"./PhysicsMappings.js\");\nexports.PhysicsConfiguration = Configuration_js_1.Configuration.create('physics', {\n    handler: {\n        macro: [\n            'Physics-automatic-bracing-macros',\n            'Physics-vector-macros',\n            'Physics-vector-chars',\n            'Physics-derivative-macros',\n            'Physics-expressions-macros',\n            'Physics-quick-quad-macros',\n            'Physics-bra-ket-macros',\n            'Physics-matrix-macros'\n        ],\n        character: ['Physics-characters'],\n        environment: ['Physics-aux-envs']\n    },\n    items: (_a = {},\n        _a[PhysicsItems_js_1.AutoOpen.prototype.kind] = PhysicsItems_js_1.AutoOpen,\n        _a)\n});\n//# sourceMappingURL=PhysicsConfiguration.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar StackItem_js_1 = require(\"../StackItem.js\");\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nvar TexParser_js_1 = require(\"../TexParser.js\");\nvar AutoOpen = (function (_super) {\n    __extends(AutoOpen, _super);\n    function AutoOpen() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(AutoOpen.prototype, \"kind\", {\n        get: function () {\n            return 'auto open';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AutoOpen.prototype, \"isOpen\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AutoOpen.prototype.toMml = function () {\n        var parser = this.factory.configuration.parser;\n        var right = this.getProperty('right');\n        if (this.getProperty('smash')) {\n            var mml_1 = _super.prototype.toMml.call(this);\n            var smash = parser.create('node', 'mpadded', [mml_1], { height: 0, depth: 0 });\n            this.Clear();\n            this.Push(parser.create('node', 'TeXAtom', [smash]));\n        }\n        if (right) {\n            this.Push(new TexParser_js_1.default(right, parser.stack.env, parser.configuration).mml());\n        }\n        var mml = _super.prototype.toMml.call(this);\n        return ParseUtil_js_1.default.fenced(this.factory.configuration, this.getProperty('open'), mml, this.getProperty('close'), this.getProperty('big'));\n    };\n    AutoOpen.prototype.checkItem = function (item) {\n        var close = item.getProperty('autoclose');\n        if (close && close === this.getProperty('close')) {\n            if (this.getProperty('ignore')) {\n                this.Clear();\n                return [[], true];\n            }\n            return [[this.toMml()], true];\n        }\n        return _super.prototype.checkItem.call(this, item);\n    };\n    return AutoOpen;\n}(StackItem_js_1.BaseItem));\nexports.AutoOpen = AutoOpen;\n//# sourceMappingURL=PhysicsItems.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseMethods_js_1 = require(\"../base/BaseMethods.js\");\nvar TexParser_js_1 = require(\"../TexParser.js\");\nvar TexError_js_1 = require(\"../TexError.js\");\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nvar NodeUtil_js_1 = require(\"../NodeUtil.js\");\nvar NodeFactory_js_1 = require(\"../NodeFactory.js\");\nvar PhysicsMethods = {};\nvar pairs = {\n    '(': ')',\n    '[': ']',\n    '{': '}',\n    '|': '|',\n};\nvar biggs = /^(b|B)i(g{1,2})$/;\nPhysicsMethods.Quantity = function (parser, name, open, close, arg, named, variant) {\n    if (open === void 0) { open = '('; }\n    if (close === void 0) { close = ')'; }\n    if (arg === void 0) { arg = false; }\n    if (named === void 0) { named = ''; }\n    if (variant === void 0) { variant = ''; }\n    var star = arg ? parser.GetStar() : false;\n    var next = parser.GetNext();\n    var position = parser.i;\n    var big = null;\n    if (next === '\\\\') {\n        parser.i++;\n        big = parser.GetCS();\n        if (!big.match(biggs)) {\n            var empty = parser.create('node', 'mrow');\n            parser.Push(ParseUtil_js_1.default.fenced(parser.configuration, open, empty, close));\n            parser.i = position;\n            return;\n        }\n        next = parser.GetNext();\n    }\n    var right = pairs[next];\n    if (arg && next !== '{') {\n        throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', parser.currentCS);\n    }\n    if (!right) {\n        var empty = parser.create('node', 'mrow');\n        parser.Push(ParseUtil_js_1.default.fenced(parser.configuration, open, empty, close));\n        parser.i = position;\n        return;\n    }\n    if (named) {\n        var mml = parser.create('token', 'mi', { texClass: MmlNode_js_1.TEXCLASS.OP }, named);\n        if (variant) {\n            NodeUtil_js_1.default.setAttribute(mml, 'mathvariant', variant);\n        }\n        parser.Push(parser.itemFactory.create('fn', mml));\n    }\n    if (next === '{') {\n        var argument = parser.GetArgument(name);\n        next = arg ? open : '\\\\{';\n        right = arg ? close : '\\\\}';\n        argument = star ? next + ' ' + argument + ' ' + right :\n            (big ?\n                '\\\\' + big + 'l' + next + ' ' + argument + ' ' + '\\\\' + big + 'r' + right :\n                '\\\\left' + next + ' ' + argument + ' ' + '\\\\right' + right);\n        parser.Push(new TexParser_js_1.default(argument, parser.stack.env, parser.configuration).mml());\n        return;\n    }\n    if (arg) {\n        next = open;\n        right = close;\n    }\n    parser.i++;\n    parser.Push(parser.itemFactory.create('auto open')\n        .setProperties({ open: next, close: right, big: big }));\n};\nPhysicsMethods.Eval = function (parser, name) {\n    var star = parser.GetStar();\n    var next = parser.GetNext();\n    if (next === '{') {\n        var arg = parser.GetArgument(name);\n        var replace = '\\\\left. ' +\n            (star ? '\\\\smash{' + arg + '}' : arg) +\n            ' ' + '\\\\vphantom{\\\\int}\\\\right|';\n        parser.string = parser.string.slice(0, parser.i) + replace +\n            parser.string.slice(parser.i);\n        return;\n    }\n    if (next === '(' || next === '[') {\n        parser.i++;\n        parser.Push(parser.itemFactory.create('auto open')\n            .setProperties({ open: next, close: '|',\n            smash: star, right: '\\\\vphantom{\\\\int}' }));\n        return;\n    }\n    throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', parser.currentCS);\n};\nPhysicsMethods.Commutator = function (parser, name, open, close) {\n    if (open === void 0) { open = '['; }\n    if (close === void 0) { close = ']'; }\n    var star = parser.GetStar();\n    var next = parser.GetNext();\n    var big = null;\n    if (next === '\\\\') {\n        parser.i++;\n        big = parser.GetCS();\n        if (!big.match(biggs)) {\n            throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', parser.currentCS);\n        }\n        next = parser.GetNext();\n    }\n    if (next !== '{') {\n        throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', parser.currentCS);\n    }\n    var arg1 = parser.GetArgument(name);\n    var arg2 = parser.GetArgument(name);\n    var argument = arg1 + ',' + arg2;\n    argument = star ? open + ' ' + argument + ' ' + close :\n        (big ?\n            '\\\\' + big + 'l' + open + ' ' + argument + ' ' + '\\\\' + big + 'r' + close :\n            '\\\\left' + open + ' ' + argument + ' ' + '\\\\right' + close);\n    parser.Push(new TexParser_js_1.default(argument, parser.stack.env, parser.configuration).mml());\n};\nvar latinCap = [0x41, 0x5A];\nvar latinSmall = [0x61, 0x7A];\nvar greekCap = [0x391, 0x3A9];\nvar greekSmall = [0x3B1, 0x3C9];\nvar digits = [0x30, 0x39];\nfunction inRange(value, range) {\n    return (value >= range[0] && value <= range[1]);\n}\n;\nfunction createVectorToken(factory, kind, def, text) {\n    var parser = factory.configuration.parser;\n    var token = NodeFactory_js_1.NodeFactory.createToken(factory, kind, def, text);\n    var code = text.charCodeAt(0);\n    if (text.length === 1 && !parser.stack.env.font &&\n        parser.stack.env.vectorFont &&\n        (inRange(code, latinCap) || inRange(code, latinSmall) ||\n            inRange(code, greekCap) || inRange(code, digits) ||\n            (inRange(code, greekSmall) && parser.stack.env.vectorStar) ||\n            NodeUtil_js_1.default.getAttribute(token, 'accent'))) {\n        NodeUtil_js_1.default.setAttribute(token, 'mathvariant', parser.stack.env.vectorFont);\n    }\n    return token;\n}\nPhysicsMethods.VectorBold = function (parser, name) {\n    var star = parser.GetStar();\n    var arg = parser.GetArgument(name);\n    var oldToken = parser.configuration.nodeFactory.get('token');\n    var oldFont = parser.stack.env.font;\n    delete parser.stack.env.font;\n    parser.configuration.nodeFactory.set('token', createVectorToken);\n    parser.stack.env.vectorFont = star ? 'bold-italic' : 'bold';\n    parser.stack.env.vectorStar = star;\n    var node = new TexParser_js_1.default(arg, parser.stack.env, parser.configuration).mml();\n    if (oldFont) {\n        parser.stack.env.font = oldFont;\n    }\n    delete parser.stack.env.vectorFont;\n    delete parser.stack.env.vectorStar;\n    parser.configuration.nodeFactory.set('token', oldToken);\n    parser.Push(node);\n};\nPhysicsMethods.StarMacro = function (parser, name, argcount) {\n    var parts = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        parts[_i - 3] = arguments[_i];\n    }\n    var star = parser.GetStar();\n    var args = [];\n    if (argcount) {\n        for (var i = args.length; i < argcount; i++) {\n            args.push(parser.GetArgument(name));\n        }\n    }\n    var macro = parts.join(star ? '*' : '');\n    macro = ParseUtil_js_1.default.substituteArgs(parser, args, macro);\n    parser.string = ParseUtil_js_1.default.addArgs(parser, macro, parser.string.slice(parser.i));\n    parser.i = 0;\n    if (++parser.macroCount > parser.configuration.options['maxMacros']) {\n        throw new TexError_js_1.default('MaxMacroSub1', 'MathJax maximum macro substitution count exceeded; ' +\n            'is there a recursive macro call?');\n    }\n};\nvar vectorApplication = function (parser, kind, name, operator, fences) {\n    var op = new TexParser_js_1.default(operator, parser.stack.env, parser.configuration).mml();\n    parser.Push(parser.itemFactory.create(kind, op));\n    var left = parser.GetNext();\n    var right = pairs[left];\n    if (!right) {\n        return;\n    }\n    var lfence = '', rfence = '', arg = '';\n    var enlarge = fences.indexOf(left) !== -1;\n    if (left === '{') {\n        arg = parser.GetArgument(name);\n        lfence = enlarge ? '\\\\left\\\\{' : '';\n        rfence = enlarge ? '\\\\right\\\\}' : '';\n        var macro = lfence + ' ' + arg + ' ' + rfence;\n        parser.string = macro + parser.string.slice(parser.i);\n        parser.i = 0;\n        return;\n    }\n    if (!enlarge) {\n        return;\n    }\n    parser.i++;\n    parser.Push(parser.itemFactory.create('auto open')\n        .setProperties({ open: left, close: right }));\n};\nPhysicsMethods.OperatorApplication = function (parser, name, operator) {\n    var fences = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        fences[_i - 3] = arguments[_i];\n    }\n    vectorApplication(parser, 'fn', name, operator, fences);\n};\nPhysicsMethods.VectorOperator = function (parser, name, operator) {\n    var fences = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        fences[_i - 3] = arguments[_i];\n    }\n    vectorApplication(parser, 'mml', name, operator, fences);\n};\nPhysicsMethods.Expression = function (parser, name, opt, id) {\n    if (opt === void 0) { opt = true; }\n    if (id === void 0) { id = ''; }\n    id = id || name.slice(1);\n    var exp = opt ? parser.GetBrackets(name) : null;\n    var mml = parser.create('token', 'mi', { texClass: MmlNode_js_1.TEXCLASS.OP }, id);\n    if (exp) {\n        var sup = new TexParser_js_1.default(exp, parser.stack.env, parser.configuration).mml();\n        mml = parser.create('node', 'msup', [mml, sup]);\n    }\n    parser.Push(parser.itemFactory.create('fn', mml));\n    if (parser.GetNext() !== '(') {\n        return;\n    }\n    parser.i++;\n    parser.Push(parser.itemFactory.create('auto open')\n        .setProperties({ open: '(', close: ')' }));\n};\nPhysicsMethods.Qqtext = function (parser, name, text) {\n    var star = parser.GetStar();\n    var arg = text ? text : parser.GetArgument(name);\n    var replace = (star ? '' : '\\\\quad') + '\\\\text{' + arg + '}\\\\quad ';\n    parser.string = parser.string.slice(0, parser.i) + replace +\n        parser.string.slice(parser.i);\n};\nPhysicsMethods.Differential = function (parser, name, op) {\n    var optArg = parser.GetBrackets(name);\n    var power = optArg != null ? '^{' + optArg + '}' : ' ';\n    var parens = parser.GetNext() === '(';\n    var braces = parser.GetNext() === '{';\n    var macro = op + power;\n    if (!(parens || braces)) {\n        macro += parser.GetArgument(name, true) || '';\n        var mml = new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml();\n        parser.Push(mml);\n        return;\n    }\n    if (braces) {\n        macro += parser.GetArgument(name);\n        var mml = new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml();\n        parser.Push(parser.create('node', 'TeXAtom', [mml], { texClass: MmlNode_js_1.TEXCLASS.OP }));\n        return;\n    }\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n    parser.i++;\n    parser.Push(parser.itemFactory.create('auto open')\n        .setProperties({ open: '(', close: ')' }));\n};\nPhysicsMethods.Derivative = function (parser, name, argMax, op) {\n    var star = parser.GetStar();\n    var optArg = parser.GetBrackets(name);\n    var argCounter = 1;\n    var args = [];\n    args.push(parser.GetArgument(name));\n    while (parser.GetNext() === '{' && argCounter < argMax) {\n        args.push(parser.GetArgument(name));\n        argCounter++;\n    }\n    var ignore = false;\n    var power1 = ' ';\n    var power2 = ' ';\n    if (argMax > 2 && args.length > 2) {\n        power1 = '^{' + (args.length - 1) + '}';\n        ignore = true;\n    }\n    else if (optArg != null) {\n        if (argMax > 2 && args.length > 1) {\n            ignore = true;\n        }\n        power1 = '^{' + optArg + '}';\n        power2 = power1;\n    }\n    var frac = star ? '\\\\flatfrac' : '\\\\frac';\n    var first = args.length > 1 ? args[0] : '';\n    var second = args.length > 1 ? args[1] : args[0];\n    var rest = '';\n    for (var i = 2, arg = void 0; arg = args[i]; i++) {\n        rest += op + ' ' + arg;\n    }\n    var macro = frac + '{' + op + power1 + first + '}' +\n        '{' + op + ' ' + second + power2 + ' ' + rest + '}';\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n    if (parser.GetNext() === '(') {\n        parser.i++;\n        parser.Push(parser.itemFactory.create('auto open')\n            .setProperties({ open: '(', close: ')', ignore: ignore }));\n    }\n};\nPhysicsMethods.Bra = function (parser, name) {\n    var starBra = parser.GetStar();\n    var bra = parser.GetArgument(name);\n    var ket = '';\n    var hasKet = false;\n    var starKet = false;\n    if (parser.GetNext() === '\\\\') {\n        var saveI = parser.i;\n        parser.i++;\n        var cs = parser.GetCS();\n        var symbol = parser.lookup('macro', cs);\n        if (symbol && symbol.symbol === 'ket') {\n            hasKet = true;\n            saveI = parser.i;\n            starKet = parser.GetStar();\n            if (parser.GetNext() === '{') {\n                ket = parser.GetArgument(cs, true);\n            }\n            else {\n                parser.i = saveI;\n                starKet = false;\n            }\n        }\n        else {\n            parser.i = saveI;\n        }\n    }\n    var macro = '';\n    if (hasKet) {\n        macro = (starBra || starKet) ?\n            \"\\\\langle{\" + bra + \"}\\\\vert{\" + ket + \"}\\\\rangle\" :\n            \"\\\\left\\\\langle{\" + bra + \"}\\\\middle\\\\vert{\" + ket + \"}\\\\right\\\\rangle\";\n    }\n    else {\n        macro = (starBra || starKet) ?\n            \"\\\\langle{\" + bra + \"}\\\\vert\" : \"\\\\left\\\\langle{\" + bra + \"}\\\\right\\\\vert{\" + ket + \"}\";\n    }\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n};\nPhysicsMethods.Ket = function (parser, name) {\n    var star = parser.GetStar();\n    var ket = parser.GetArgument(name);\n    var macro = star ? \"\\\\vert{\" + ket + \"}\\\\rangle\" :\n        \"\\\\left\\\\vert{\" + ket + \"}\\\\right\\\\rangle\";\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n};\nPhysicsMethods.BraKet = function (parser, name) {\n    var star = parser.GetStar();\n    var bra = parser.GetArgument(name);\n    var ket = null;\n    if (parser.GetNext() === '{') {\n        ket = parser.GetArgument(name, true);\n    }\n    var macro = '';\n    if (ket == null) {\n        macro = star ?\n            \"\\\\langle{\" + bra + \"}\\\\vert{\" + bra + \"}\\\\rangle\" :\n            \"\\\\left\\\\langle{\" + bra + \"}\\\\middle\\\\vert{\" + bra + \"}\\\\right\\\\rangle\";\n    }\n    else {\n        macro = star ?\n            \"\\\\langle{\" + bra + \"}\\\\vert{\" + ket + \"}\\\\rangle\" :\n            \"\\\\left\\\\langle{\" + bra + \"}\\\\middle\\\\vert{\" + ket + \"}\\\\right\\\\rangle\";\n    }\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n};\nPhysicsMethods.KetBra = function (parser, name) {\n    var star = parser.GetStar();\n    var ket = parser.GetArgument(name);\n    var bra = null;\n    if (parser.GetNext() === '{') {\n        bra = parser.GetArgument(name, true);\n    }\n    var macro = '';\n    if (bra == null) {\n        macro = star ?\n            \"\\\\vert{\" + ket + \"}\\\\rangle\\\\!\\\\langle{\" + ket + \"}\\\\vert\" :\n            \"\\\\left\\\\vert{\" + ket + \"}\\\\middle\\\\rangle\\\\!\\\\middle\\\\langle{\" + ket + \"}\\\\right\\\\vert\";\n    }\n    else {\n        macro = star ?\n            \"\\\\vert{\" + ket + \"}\\\\rangle\\\\!\\\\langle{\" + bra + \"}\\\\vert\" :\n            \"\\\\left\\\\vert{\" + ket + \"}\\\\middle\\\\rangle\\\\!\\\\middle\\\\langle{\" + bra + \"}\\\\right\\\\vert\";\n    }\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n};\nfunction outputBraket(_a, star1, star2) {\n    var _b = __read(_a, 3), arg1 = _b[0], arg2 = _b[1], arg3 = _b[2];\n    return (star1 && star2) ?\n        \"\\\\left\\\\langle{\" + arg1 + \"}\\\\middle\\\\vert{\" + arg2 + \"}\\\\middle\\\\vert{\" + arg3 + \"}\\\\right\\\\rangle\" :\n        (star1 ? \"\\\\langle{\" + arg1 + \"}\\\\vert{\" + arg2 + \"}\\\\vert{\" + arg3 + \"}\\\\rangle\" :\n            \"\\\\left\\\\langle{\" + arg1 + \"}\\\\right\\\\vert{\" + arg2 + \"}\\\\left\\\\vert{\" + arg3 + \"}\\\\right\\\\rangle\");\n}\n;\nPhysicsMethods.Expectation = function (parser, name) {\n    var star1 = parser.GetStar();\n    var star2 = star1 && parser.GetStar();\n    var braket = parser.GetNext() === '{';\n    var arg1 = parser.GetArgument(name);\n    var arg2 = null;\n    if (parser.GetNext() === '{') {\n        arg2 = parser.GetArgument(name, true);\n    }\n    var macro = (arg1 && arg2) ?\n        outputBraket([arg2, arg1, arg2], star1, star2) :\n        (star1 ? \"\\\\langle {\" + arg1 + \"} \\\\rangle\" :\n            \"\\\\left\\\\langle {\" + arg1 + \"} \\\\right\\\\rangle\");\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n};\nPhysicsMethods.MatrixElement = function (parser, name) {\n    var star1 = parser.GetStar();\n    var star2 = star1 && parser.GetStar();\n    var braket = parser.GetNext() === '{';\n    var arg1 = parser.GetArgument(name);\n    var arg2 = parser.GetArgument(name);\n    var arg3 = parser.GetArgument(name);\n    var macro = outputBraket([arg1, arg2, arg3], star1, star2);\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n};\nPhysicsMethods.MatrixQuantity = function (parser, name, small) {\n    var star = parser.GetStar();\n    var next = parser.GetNext();\n    var array = small ? 'smallmatrix' : 'array';\n    var arg = '';\n    var open = '';\n    var close = '';\n    switch (next) {\n        case '{':\n            arg = parser.GetArgument(name);\n            break;\n        case '(':\n            parser.i++;\n            open = star ? '\\\\lgroup' : '(';\n            close = star ? '\\\\rgroup' : ')';\n            arg = parser.GetUpTo(name, ')');\n            break;\n        case '[':\n            parser.i++;\n            open = '[';\n            close = ']';\n            arg = parser.GetUpTo(name, ']');\n            break;\n        case '|':\n            parser.i++;\n            open = '|';\n            close = '|';\n            arg = parser.GetUpTo(name, '|');\n            break;\n        default:\n            open = '(';\n            close = ')';\n            break;\n    }\n    var macro = (open ? '\\\\left' : '') + open +\n        '\\\\begin{' + array + '}{} ' + arg + '\\\\end{' + array + '}' +\n        (open ? '\\\\right' : '') + close;\n    parser.Push(new TexParser_js_1.default(macro, parser.stack.env, parser.configuration).mml());\n};\nPhysicsMethods.IdentityMatrix = function (parser, name) {\n    var arg = parser.GetArgument(name);\n    var size = parseInt(arg, 10);\n    if (isNaN(size)) {\n        throw new TexError_js_1.default('InvalidNumber', 'Invalid number');\n    }\n    if (size <= 1) {\n        parser.string = '1' + parser.string.slice(parser.i);\n        parser.i = 0;\n        return;\n    }\n    var zeros = Array(size).fill('0');\n    var columns = [];\n    for (var i = 0; i < size; i++) {\n        var row = zeros.slice();\n        row[i] = '1';\n        columns.push(row.join(' & '));\n    }\n    parser.string = columns.join('\\\\\\\\ ') + parser.string.slice(parser.i);\n    parser.i = 0;\n};\nPhysicsMethods.XMatrix = function (parser, name) {\n    var star = parser.GetStar();\n    var arg1 = parser.GetArgument(name);\n    var arg2 = parser.GetArgument(name);\n    var arg3 = parser.GetArgument(name);\n    var n = parseInt(arg2, 10);\n    var m = parseInt(arg3, 10);\n    if (isNaN(n) || isNaN(m) || m.toString() !== arg3 || n.toString() !== arg2) {\n        throw new TexError_js_1.default('InvalidNumber', 'Invalid number');\n    }\n    n = n < 1 ? 1 : n;\n    m = m < 1 ? 1 : m;\n    if (!star) {\n        var row = Array(m).fill(arg1).join(' & ');\n        var matrix_1 = Array(n).fill(row).join('\\\\\\\\ ');\n        parser.string = matrix_1 + parser.string.slice(parser.i);\n        parser.i = 0;\n        return;\n    }\n    var matrix = '';\n    if (n === 1 && m === 1) {\n        matrix = arg1;\n    }\n    else if (n === 1) {\n        var row = [];\n        for (var i = 1; i <= m; i++) {\n            row.push(arg1 + \"_{\" + i + \"}\");\n        }\n        matrix = row.join(' & ');\n    }\n    else if (m === 1) {\n        var row = [];\n        for (var i = 1; i <= n; i++) {\n            row.push(arg1 + \"_{\" + i + \"}\");\n        }\n        matrix = row.join('\\\\\\\\ ');\n    }\n    else {\n        var rows = [];\n        for (var i = 1; i <= n; i++) {\n            var row = [];\n            for (var j = 1; j <= m; j++) {\n                row.push(arg1 + \"_{{\" + i + \"}{\" + j + \"}}\");\n            }\n            rows.push(row.join(' & '));\n        }\n        matrix = rows.join('\\\\\\\\ ');\n    }\n    parser.string = matrix + parser.string.slice(parser.i);\n    parser.i = 0;\n    return;\n};\nPhysicsMethods.PauliMatrix = function (parser, name) {\n    var arg = parser.GetArgument(name);\n    var matrix = arg.slice(1);\n    switch (arg[0]) {\n        case '0':\n            matrix += ' 1 & 0\\\\\\\\ 0 & 1';\n            break;\n        case '1':\n        case 'x':\n            matrix += ' 0 & 1\\\\\\\\ 1 & 0';\n            break;\n        case '2':\n        case 'y':\n            matrix += ' 0 & -i\\\\\\\\ i & 0';\n            break;\n        case '3':\n        case 'z':\n            matrix += ' 1 & 0\\\\\\\\ 0 & -1';\n            break;\n        default:\n    }\n    parser.string = matrix + parser.string.slice(parser.i);\n    parser.i = 0;\n};\nPhysicsMethods.DiagonalMatrix = function (parser, name, anti) {\n    if (parser.GetNext() !== '{') {\n        return;\n    }\n    ;\n    var startI = parser.i;\n    var arg = parser.GetArgument(name);\n    var endI = parser.i;\n    parser.i = startI + 1;\n    var elements = [];\n    var element = '';\n    var currentI = parser.i;\n    while (currentI < endI) {\n        try {\n            element = parser.GetUpTo(name, ',');\n        }\n        catch (e) {\n            parser.i = endI;\n            elements.push(parser.string.slice(currentI, endI - 1));\n            break;\n        }\n        if (parser.i >= endI) {\n            elements.push(parser.string.slice(currentI, endI));\n            break;\n        }\n        currentI = parser.i;\n        elements.push(element);\n    }\n    parser.string = makeDiagMatrix(elements, anti) + parser.string.slice(endI);\n    parser.i = 0;\n};\nfunction makeDiagMatrix(elements, anti) {\n    var length = elements.length;\n    var matrix = [];\n    for (var i = 0; i < length; i++) {\n        matrix.push(Array(anti ? length - i : i + 1).join('&') +\n            '\\\\mqty{' + elements[i] + '}');\n    }\n    return matrix.join('\\\\\\\\ ');\n}\nPhysicsMethods.AutoClose = function (parser, fence, texclass) {\n    var mo = parser.create('token', 'mo', { stretchy: false }, fence);\n    var item = parser.itemFactory.create('mml', mo).\n        setProperties({ autoclose: fence });\n    parser.Push(item);\n};\nPhysicsMethods.Macro = BaseMethods_js_1.default.Macro;\nPhysicsMethods.NamedFn = BaseMethods_js_1.default.NamedFn;\nPhysicsMethods.Array = BaseMethods_js_1.default.Array;\nexports.default = PhysicsMethods;\n//# sourceMappingURL=PhysicsMethods.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar TexError_js_1 = require(\"../TexError.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nvar NodeUtil_js_1 = require(\"../NodeUtil.js\");\nvar Entities_js_1 = require(\"../../../util/Entities.js\");\nexports.UnicodeMethods = {};\nvar UnicodeCache = {};\nexports.UnicodeMethods.Unicode = function (parser, name) {\n    var HD = parser.GetBrackets(name);\n    var HDsplit = null;\n    var font = null;\n    if (HD) {\n        if (HD.replace(/ /g, '').\n            match(/^(\\d+(\\.\\d*)?|\\.\\d+),(\\d+(\\.\\d*)?|\\.\\d+)$/)) {\n            HDsplit = HD.replace(/ /g, '').split(/,/);\n            font = parser.GetBrackets(name);\n        }\n        else {\n            font = HD;\n        }\n    }\n    var n = ParseUtil_js_1.default.trimSpaces(parser.GetArgument(name)).replace(/^0x/, 'x');\n    if (!n.match(/^(x[0-9A-Fa-f]+|[0-9]+)$/)) {\n        throw new TexError_js_1.default('BadUnicode', 'Argument to \\\\unicode must be a number');\n    }\n    var N = parseInt(n.match(/^x/) ? '0' + n : n);\n    if (!UnicodeCache[N]) {\n        UnicodeCache[N] = [800, 200, font, N];\n    }\n    else if (!font) {\n        font = UnicodeCache[N][2];\n    }\n    if (HDsplit) {\n        UnicodeCache[N][0] = Math.floor(parseFloat(HDsplit[0]) * 1000);\n        UnicodeCache[N][1] = Math.floor(parseFloat(HDsplit[1]) * 1000);\n    }\n    var variant = parser.stack.env.font;\n    var def = {};\n    if (font) {\n        UnicodeCache[N][2] = def.fontfamily = font.replace(/'/g, '\\'');\n        if (variant) {\n            if (variant.match(/bold/)) {\n                def.fontweight = 'bold';\n            }\n            if (variant.match(/italic|-mathit/)) {\n                def.fontstyle = 'italic';\n            }\n        }\n    }\n    else if (variant) {\n        def.mathvariant = variant;\n    }\n    var node = parser.create('token', 'mtext', def, Entities_js_1.numeric(n));\n    NodeUtil_js_1.default.setProperty(node, 'unicode', true);\n    parser.Push(node);\n};\nnew SymbolMap_js_1.CommandMap('unicode', { unicode: 'Unicode' }, exports.UnicodeMethods);\nexports.UnicodeConfiguration = Configuration_js_1.Configuration.create('unicode', { handler: { macro: ['unicode'] } });\n//# sourceMappingURL=UnicodeConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar TexError_js_1 = require(\"../TexError.js\");\nexports.VerbMethods = {};\nexports.VerbMethods.Verb = function (parser, name) {\n    var c = parser.GetNext();\n    var start = ++parser.i;\n    if (c === '') {\n        throw new TexError_js_1.default('MissingArgFor', 'Missing argument for %1', name);\n    }\n    while (parser.i < parser.string.length &&\n        parser.string.charAt(parser.i) !== c) {\n        parser.i++;\n    }\n    if (parser.i === parser.string.length) {\n        throw new TexError_js_1.default('NoClosingDelim', 'Can\\'t find closing delimiter for %1', parser.currentCS);\n    }\n    var text = parser.string.slice(start, parser.i).replace(/ /g, '\\u00A0');\n    parser.i++;\n    parser.Push(parser.create('token', 'mtext', { mathvariant: TexConstants_js_1.TexConstant.Variant.MONOSPACE }, text));\n};\nnew SymbolMap_js_1.CommandMap('verb', { verb: 'Verb' }, exports.VerbMethods);\nexports.VerbConfiguration = Configuration_js_1.Configuration.create('verb', { handler: { macro: ['verb'] } });\n//# sourceMappingURL=VerbConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.Loader = MathJax._.components.loader.Loader;\nexports.MathJax = MathJax._.components.loader.MathJax;\nexports.CONFIG = MathJax._.components.loader.CONFIG;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Entities = require(\"../Entities.js\");\nEntities.add({\n    NJcy: '\\u040A',\n    Nacute: '\\u0143',\n    Ncaron: '\\u0147',\n    Ncedil: '\\u0145',\n    Ncy: '\\u041D',\n    NegativeMediumSpace: '\\u200B',\n    NegativeThickSpace: '\\u200B',\n    NegativeThinSpace: '\\u200B',\n    NegativeVeryThinSpace: '\\u200B',\n    NewLine: '\\u000A',\n    NoBreak: '\\u2060',\n    NonBreakingSpace: '\\u00A0',\n    Not: '\\u2AEC',\n    NotCongruent: '\\u2262',\n    NotCupCap: '\\u226D',\n    NotEqualTilde: '\\u2242\\u0338',\n    NotGreaterFullEqual: '\\u2267\\u0338',\n    NotGreaterGreater: '\\u226B\\u0338',\n    NotGreaterLess: '\\u2279',\n    NotGreaterSlantEqual: '\\u2A7E\\u0338',\n    NotGreaterTilde: '\\u2275',\n    NotHumpDownHump: '\\u224E\\u0338',\n    NotHumpEqual: '\\u224F\\u0338',\n    NotLeftTriangleBar: '\\u29CF\\u0338',\n    NotLessGreater: '\\u2278',\n    NotLessLess: '\\u226A\\u0338',\n    NotLessSlantEqual: '\\u2A7D\\u0338',\n    NotLessTilde: '\\u2274',\n    NotNestedGreaterGreater: '\\u2AA2\\u0338',\n    NotNestedLessLess: '\\u2AA1\\u0338',\n    NotPrecedesEqual: '\\u2AAF\\u0338',\n    NotReverseElement: '\\u220C',\n    NotRightTriangleBar: '\\u29D0\\u0338',\n    NotSquareSubset: '\\u228F\\u0338',\n    NotSquareSubsetEqual: '\\u22E2',\n    NotSquareSuperset: '\\u2290\\u0338',\n    NotSquareSupersetEqual: '\\u22E3',\n    NotSubset: '\\u2282\\u20D2',\n    NotSucceedsEqual: '\\u2AB0\\u0338',\n    NotSucceedsTilde: '\\u227F\\u0338',\n    NotSuperset: '\\u2283\\u20D2',\n    NotTildeEqual: '\\u2244',\n    NotTildeFullEqual: '\\u2247',\n    NotTildeTilde: '\\u2249',\n    Ntilde: '\\u00D1',\n    Nu: '\\u039D',\n    nGg: '\\u22D9\\u0338',\n    nGt: '\\u226B\\u20D2',\n    nGtv: '\\u226B\\u0338',\n    nLl: '\\u22D8\\u0338',\n    nLt: '\\u226A\\u20D2',\n    nLtv: '\\u226A\\u0338',\n    nabla: '\\u2207',\n    nacute: '\\u0144',\n    nang: '\\u2220\\u20D2',\n    nap: '\\u2249',\n    napE: '\\u2A70\\u0338',\n    napid: '\\u224B\\u0338',\n    napos: '\\u0149',\n    napprox: '\\u2249',\n    natural: '\\u266E',\n    naturals: '\\u2115',\n    nbsp: '\\u00A0',\n    nbump: '\\u224E\\u0338',\n    nbumpe: '\\u224F\\u0338',\n    ncap: '\\u2A43',\n    ncaron: '\\u0148',\n    ncedil: '\\u0146',\n    ncong: '\\u2247',\n    ncongdot: '\\u2A6D\\u0338',\n    ncup: '\\u2A42',\n    ncy: '\\u043D',\n    ndash: '\\u2013',\n    ne: '\\u2260',\n    neArr: '\\u21D7',\n    nearhk: '\\u2924',\n    nearrow: '\\u2197',\n    nedot: '\\u2250\\u0338',\n    nequiv: '\\u2262',\n    nesear: '\\u2928',\n    nesim: '\\u2242\\u0338',\n    nexist: '\\u2204',\n    nexists: '\\u2204',\n    ngE: '\\u2267\\u0338',\n    nge: '\\u2271',\n    ngeq: '\\u2271',\n    ngeqq: '\\u2267\\u0338',\n    ngeqslant: '\\u2A7E\\u0338',\n    nges: '\\u2A7E\\u0338',\n    ngsim: '\\u2275',\n    ngt: '\\u226F',\n    ngtr: '\\u226F',\n    nhArr: '\\u21CE',\n    nhpar: '\\u2AF2',\n    ni: '\\u220B',\n    nis: '\\u22FC',\n    nisd: '\\u22FA',\n    niv: '\\u220B',\n    njcy: '\\u045A',\n    nlArr: '\\u21CD',\n    nlE: '\\u2266\\u0338',\n    nldr: '\\u2025',\n    nle: '\\u2270',\n    nleftarrow: '\\u219A',\n    nleftrightarrow: '\\u21AE',\n    nleq: '\\u2270',\n    nleqq: '\\u2266\\u0338',\n    nleqslant: '\\u2A7D\\u0338',\n    nles: '\\u2A7D\\u0338',\n    nless: '\\u226E',\n    nlsim: '\\u2274',\n    nlt: '\\u226E',\n    nltri: '\\u22EA',\n    nltrie: '\\u22EC',\n    nmid: '\\u2224',\n    notin: '\\u2209',\n    notinE: '\\u22F9\\u0338',\n    notindot: '\\u22F5\\u0338',\n    notinva: '\\u2209',\n    notinvb: '\\u22F7',\n    notinvc: '\\u22F6',\n    notni: '\\u220C',\n    notniva: '\\u220C',\n    notnivb: '\\u22FE',\n    notnivc: '\\u22FD',\n    npar: '\\u2226',\n    nparallel: '\\u2226',\n    nparsl: '\\u2AFD\\u20E5',\n    npart: '\\u2202\\u0338',\n    npolint: '\\u2A14',\n    npr: '\\u2280',\n    nprcue: '\\u22E0',\n    npre: '\\u2AAF\\u0338',\n    nprec: '\\u2280',\n    npreceq: '\\u2AAF\\u0338',\n    nrArr: '\\u21CF',\n    nrarrc: '\\u2933\\u0338',\n    nrarrw: '\\u219D\\u0338',\n    nrightarrow: '\\u219B',\n    nrtri: '\\u22EB',\n    nrtrie: '\\u22ED',\n    nsc: '\\u2281',\n    nsccue: '\\u22E1',\n    nsce: '\\u2AB0\\u0338',\n    nshortmid: '\\u2224',\n    nshortparallel: '\\u2226',\n    nsim: '\\u2241',\n    nsime: '\\u2244',\n    nsimeq: '\\u2244',\n    nsmid: '\\u2224',\n    nspar: '\\u2226',\n    nsqsube: '\\u22E2',\n    nsqsupe: '\\u22E3',\n    nsub: '\\u2284',\n    nsubE: '\\u2AC5\\u0338',\n    nsube: '\\u2288',\n    nsubset: '\\u2282\\u20D2',\n    nsubseteq: '\\u2288',\n    nsubseteqq: '\\u2AC5\\u0338',\n    nsucc: '\\u2281',\n    nsucceq: '\\u2AB0\\u0338',\n    nsup: '\\u2285',\n    nsupE: '\\u2AC6\\u0338',\n    nsupe: '\\u2289',\n    nsupset: '\\u2283\\u20D2',\n    nsupseteq: '\\u2289',\n    nsupseteqq: '\\u2AC6\\u0338',\n    ntgl: '\\u2279',\n    ntilde: '\\u00F1',\n    ntlg: '\\u2278',\n    ntriangleleft: '\\u22EA',\n    ntrianglelefteq: '\\u22EC',\n    ntriangleright: '\\u22EB',\n    ntrianglerighteq: '\\u22ED',\n    num: '\\u0023',\n    numero: '\\u2116',\n    numsp: '\\u2007',\n    nvHarr: '\\u2904',\n    nvap: '\\u224D\\u20D2',\n    nvge: '\\u2265\\u20D2',\n    nvgt: '\\u003E\\u20D2',\n    nvinfin: '\\u29DE',\n    nvlArr: '\\u2902',\n    nvle: '\\u2264\\u20D2',\n    nvlt: '\\u003C\\u20D2',\n    nvltrie: '\\u22B4\\u20D2',\n    nvrArr: '\\u2903',\n    nvrtrie: '\\u22B5\\u20D2',\n    nvsim: '\\u223C\\u20D2',\n    nwArr: '\\u21D6',\n    nwarhk: '\\u2923',\n    nwarrow: '\\u2196',\n    nwnear: '\\u2927'\n}, 'n');\n//# sourceMappingURL=n.js.map","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.PackageError = MathJax._.components.package.PackageError;\nexports.Package = MathJax._.components.package.Package;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar Symbol_js_1 = require(\"../Symbol.js\");\nvar RequireConfiguration_js_1 = require(\"../require/RequireConfiguration.js\");\nvar package_js_1 = require(\"../../../components/package.js\");\nvar Options_js_1 = require(\"../../../util/Options.js\");\nvar AutoloadCommandMap = (function (_super) {\n    __extends(AutoloadCommandMap, _super);\n    function AutoloadCommandMap() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AutoloadCommandMap.prototype.remove = function (name) {\n        this.map.delete(name);\n    };\n    return AutoloadCommandMap;\n}(SymbolMap_js_1.CommandMap));\nexports.AutoloadCommandMap = AutoloadCommandMap;\nfunction Autoload(parser, name, extension, isMacro) {\n    var e_1, _a, e_2, _b;\n    if (package_js_1.Package.packages.has(parser.options.require.prefix + extension)) {\n        var def = parser.options.autoload[extension];\n        var _c = __read((def.length === 2 && Array.isArray(def[0]) ? def : [def, []]), 2), macros = _c[0], envs = _c[1];\n        try {\n            for (var macros_1 = __values(macros), macros_1_1 = macros_1.next(); !macros_1_1.done; macros_1_1 = macros_1.next()) {\n                var macro = macros_1_1.value;\n                AutoloadMacros.remove(macro);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (macros_1_1 && !macros_1_1.done && (_a = macros_1.return)) _a.call(macros_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        try {\n            for (var envs_1 = __values(envs), envs_1_1 = envs_1.next(); !envs_1_1.done; envs_1_1 = envs_1.next()) {\n                var env = envs_1_1.value;\n                AutoloadEnvironments.remove(env);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (envs_1_1 && !envs_1_1.done && (_b = envs_1.return)) _b.call(envs_1);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        parser.i -= name.length + (isMacro ? 0 : 7);\n    }\n    RequireConfiguration_js_1.RequireLoad(parser, extension);\n}\nfunction initAutoload(config) {\n    if (!config.options.require) {\n        Options_js_1.defaultOptions(config.options, RequireConfiguration_js_1.RequireConfiguration.options);\n    }\n}\nfunction configAutoload(config, jax) {\n    var e_3, _a, e_4, _b, e_5, _c;\n    var parser = jax.parseOptions;\n    var macros = parser.handlers.get('macro');\n    var environments = parser.handlers.get('environment');\n    var autoload = parser.options.autoload;\n    try {\n        for (var _d = __values(Object.keys(autoload)), _e = _d.next(); !_e.done; _e = _d.next()) {\n            var extension = _e.value;\n            var def = autoload[extension];\n            var _f = __read((def.length === 2 && Array.isArray(def[0]) ? def : [def, []]), 2), macs = _f[0], envs = _f[1];\n            try {\n                for (var macs_1 = (e_4 = void 0, __values(macs)), macs_1_1 = macs_1.next(); !macs_1_1.done; macs_1_1 = macs_1.next()) {\n                    var name_1 = macs_1_1.value;\n                    if (!macros.lookup(name_1) || name_1 === 'color') {\n                        AutoloadMacros.add(name_1, new Symbol_js_1.Macro(name_1, Autoload, [extension, true]));\n                    }\n                }\n            }\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\n            finally {\n                try {\n                    if (macs_1_1 && !macs_1_1.done && (_b = macs_1.return)) _b.call(macs_1);\n                }\n                finally { if (e_4) throw e_4.error; }\n            }\n            try {\n                for (var envs_2 = (e_5 = void 0, __values(envs)), envs_2_1 = envs_2.next(); !envs_2_1.done; envs_2_1 = envs_2.next()) {\n                    var name_2 = envs_2_1.value;\n                    if (!environments.lookup(name_2)) {\n                        AutoloadEnvironments.add(name_2, new Symbol_js_1.Macro(name_2, Autoload, [extension, false]));\n                    }\n                }\n            }\n            catch (e_5_1) { e_5 = { error: e_5_1 }; }\n            finally {\n                try {\n                    if (envs_2_1 && !envs_2_1.done && (_c = envs_2.return)) _c.call(envs_2);\n                }\n                finally { if (e_5) throw e_5.error; }\n            }\n        }\n    }\n    catch (e_3_1) { e_3 = { error: e_3_1 }; }\n    finally {\n        try {\n            if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n        }\n        finally { if (e_3) throw e_3.error; }\n    }\n    if (!parser.options.require.jax) {\n        RequireConfiguration_js_1.RequireConfiguration.config(config, jax);\n    }\n}\nvar AutoloadMacros = new AutoloadCommandMap('autoload-macros', {}, {});\nvar AutoloadEnvironments = new AutoloadCommandMap('autoload-environments', {}, {});\nexports.AutoloadConfiguration = Configuration_js_1.Configuration.create('autoload', {\n    handler: {\n        macro: ['autoload-macros'],\n        environment: ['autoload-environments']\n    },\n    options: {\n        autoload: Options_js_1.expandable({\n            action: ['toggle', 'mathtip', 'texttip'],\n            amsCd: [[], ['CD']],\n            bbox: ['bbox'],\n            boldsymbol: ['boldsymbol'],\n            braket: ['bra', 'ket', 'braket', 'set', 'Bra', 'Ket', 'Braket', 'Set', 'ketbra', 'Ketbra'],\n            cancel: ['cancel', 'bcancel', 'xcancel', 'cancelto'],\n            color: ['color', 'definecolor', 'textcolor', 'colorbox', 'fcolorbox'],\n            enclose: ['enclose'],\n            extpfeil: ['xtwoheadrightarrow', 'xtwoheadleftarrow', 'xmapsto',\n                'xlongequal', 'xtofrom', 'Newextarrow'],\n            html: ['href', 'class', 'style', 'cssId'],\n            mhchem: ['ce', 'pu'],\n            newcommand: ['newcommand', 'renewcommand', 'newenvironment', 'renewenvironment', 'def', 'let'],\n            unicode: ['unicode'],\n            verb: ['verb']\n        })\n    },\n    config: configAutoload, configPriority: 10,\n    init: initAutoload, priority: 10\n});\n//# sourceMappingURL=AutoloadConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.AbstractInputJax = MathJax._.core.InputJax.AbstractInputJax;\n","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.AbstractFindMath = MathJax._.core.FindMath.AbstractFindMath;\n","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.sortLength = MathJax._.util.string.sortLength;\nexports.quotePattern = MathJax._.util.string.quotePattern;\nexports.unicodeChars = MathJax._.util.string.unicodeChars;\nexports.isPercent = MathJax._.util.string.isPercent;\nexports.split = MathJax._.util.string.split;\n","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.protoItem = MathJax._.core.MathItem.protoItem;\nexports.AbstractMathItem = MathJax._.core.MathItem.AbstractMathItem;\nexports.STATE = MathJax._.core.MathItem.STATE;\nexports.newState = MathJax._.core.MathItem.newState;\n","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.MmlMo = MathJax._.core.MmlTree.MmlNodes.mo.MmlMo;\n","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.AbstractFactory = MathJax._.core.Tree.Factory.AbstractFactory;\n","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.FunctionList = MathJax._.util.FunctionList.FunctionList;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar sm = require(\"../SymbolMap.js\");\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar BaseMethods_js_1 = require(\"./BaseMethods.js\");\nvar ParseMethods_js_1 = require(\"../ParseMethods.js\");\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nnew sm.RegExpMap('letter', ParseMethods_js_1.default.variable, /[a-z]/i);\nnew sm.RegExpMap('digit', ParseMethods_js_1.default.digit, /[0-9.,]/);\nnew sm.RegExpMap('command', ParseMethods_js_1.default.controlSequence, /^\\\\/);\nnew sm.MacroMap('special', {\n    '{': 'Open',\n    '}': 'Close',\n    '~': 'Tilde',\n    '^': 'Superscript',\n    '_': 'Subscript',\n    ' ': 'Space',\n    '\\t': 'Space',\n    '\\r': 'Space',\n    '\\n': 'Space',\n    '\\'': 'Prime',\n    '%': 'Comment',\n    '&': 'Entry',\n    '#': 'Hash',\n    '\\u00A0': 'Space',\n    '\\u2019': 'Prime'\n}, BaseMethods_js_1.default);\nnew sm.CharacterMap('mathchar0mi', ParseMethods_js_1.default.mathchar0mi, {\n    alpha: '\\u03B1',\n    beta: '\\u03B2',\n    gamma: '\\u03B3',\n    delta: '\\u03B4',\n    epsilon: '\\u03F5',\n    zeta: '\\u03B6',\n    eta: '\\u03B7',\n    theta: '\\u03B8',\n    iota: '\\u03B9',\n    kappa: '\\u03BA',\n    lambda: '\\u03BB',\n    mu: '\\u03BC',\n    nu: '\\u03BD',\n    xi: '\\u03BE',\n    omicron: '\\u03BF',\n    pi: '\\u03C0',\n    rho: '\\u03C1',\n    sigma: '\\u03C3',\n    tau: '\\u03C4',\n    upsilon: '\\u03C5',\n    phi: '\\u03D5',\n    chi: '\\u03C7',\n    psi: '\\u03C8',\n    omega: '\\u03C9',\n    varepsilon: '\\u03B5',\n    vartheta: '\\u03D1',\n    varpi: '\\u03D6',\n    varrho: '\\u03F1',\n    varsigma: '\\u03C2',\n    varphi: '\\u03C6',\n    S: ['\\u00A7', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    aleph: ['\\u2135', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    hbar: ['\\u210F', { variantForm: true }],\n    imath: '\\u0131',\n    jmath: '\\u0237',\n    ell: '\\u2113',\n    wp: ['\\u2118', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    Re: ['\\u211C', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    Im: ['\\u2111', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    partial: ['\\u2202', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    infty: ['\\u221E', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    prime: ['\\u2032', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL,\n            variantForm: true }],\n    emptyset: ['\\u2205', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    nabla: ['\\u2207', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    top: ['\\u22A4', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    bot: ['\\u22A5', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    angle: ['\\u2220', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    triangle: ['\\u25B3', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    backslash: ['\\u2216', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL,\n            variantForm: true }],\n    forall: ['\\u2200', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    exists: ['\\u2203', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    neg: ['\\u00AC', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    lnot: ['\\u00AC', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    flat: ['\\u266D', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    natural: ['\\u266E', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    sharp: ['\\u266F', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    clubsuit: ['\\u2663', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    diamondsuit: ['\\u2662', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    heartsuit: ['\\u2661', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    spadesuit: ['\\u2660', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }]\n});\nnew sm.CharacterMap('mathchar0mo', ParseMethods_js_1.default.mathchar0mo, {\n    surd: '\\u221A',\n    coprod: ['\\u2210', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    bigvee: ['\\u22C1', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    bigwedge: ['\\u22C0', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    biguplus: ['\\u2A04', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    bigcap: ['\\u22C2', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    bigcup: ['\\u22C3', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    'int': ['\\u222B', { texClass: MmlNode_js_1.TEXCLASS.OP }],\n    intop: ['\\u222B', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true, movablelimits: true }],\n    iint: ['\\u222C', { texClass: MmlNode_js_1.TEXCLASS.OP }],\n    iiint: ['\\u222D', { texClass: MmlNode_js_1.TEXCLASS.OP }],\n    prod: ['\\u220F', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    sum: ['\\u2211', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    bigotimes: ['\\u2A02', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    bigoplus: ['\\u2A01', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    bigodot: ['\\u2A00', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    oint: ['\\u222E', { texClass: MmlNode_js_1.TEXCLASS.OP }],\n    bigsqcup: ['\\u2A06', { texClass: MmlNode_js_1.TEXCLASS.OP,\n            movesupsub: true }],\n    smallint: ['\\u222B', { largeop: false }],\n    triangleleft: '\\u25C3',\n    triangleright: '\\u25B9',\n    bigtriangleup: '\\u25B3',\n    bigtriangledown: '\\u25BD',\n    wedge: '\\u2227',\n    land: '\\u2227',\n    vee: '\\u2228',\n    lor: '\\u2228',\n    cap: '\\u2229',\n    cup: '\\u222A',\n    ddagger: '\\u2021',\n    dagger: '\\u2020',\n    sqcap: '\\u2293',\n    sqcup: '\\u2294',\n    uplus: '\\u228E',\n    amalg: '\\u2A3F',\n    diamond: '\\u22C4',\n    bullet: '\\u2219',\n    wr: '\\u2240',\n    div: '\\u00F7',\n    odot: ['\\u2299', { largeop: false }],\n    oslash: ['\\u2298', { largeop: false }],\n    otimes: ['\\u2297', { largeop: false }],\n    ominus: ['\\u2296', { largeop: false }],\n    oplus: ['\\u2295', { largeop: false }],\n    mp: '\\u2213',\n    pm: '\\u00B1',\n    circ: '\\u2218',\n    bigcirc: '\\u25EF',\n    setminus: '\\u2216',\n    cdot: '\\u22C5',\n    ast: '\\u2217',\n    times: '\\u00D7',\n    star: '\\u22C6',\n    propto: '\\u221D',\n    sqsubseteq: '\\u2291',\n    sqsupseteq: '\\u2292',\n    parallel: '\\u2225',\n    mid: '\\u2223',\n    dashv: '\\u22A3',\n    vdash: '\\u22A2',\n    leq: '\\u2264',\n    le: '\\u2264',\n    geq: '\\u2265',\n    ge: '\\u2265',\n    lt: '\\u003C',\n    gt: '\\u003E',\n    succ: '\\u227B',\n    prec: '\\u227A',\n    approx: '\\u2248',\n    succeq: '\\u2AB0',\n    preceq: '\\u2AAF',\n    supset: '\\u2283',\n    subset: '\\u2282',\n    supseteq: '\\u2287',\n    subseteq: '\\u2286',\n    'in': '\\u2208',\n    ni: '\\u220B',\n    notin: '\\u2209',\n    owns: '\\u220B',\n    gg: '\\u226B',\n    ll: '\\u226A',\n    sim: '\\u223C',\n    simeq: '\\u2243',\n    perp: '\\u22A5',\n    equiv: '\\u2261',\n    asymp: '\\u224D',\n    smile: '\\u2323',\n    frown: '\\u2322',\n    ne: '\\u2260',\n    neq: '\\u2260',\n    cong: '\\u2245',\n    doteq: '\\u2250',\n    bowtie: '\\u22C8',\n    models: '\\u22A8',\n    notChar: '\\u29F8',\n    Leftrightarrow: '\\u21D4',\n    Leftarrow: '\\u21D0',\n    Rightarrow: '\\u21D2',\n    leftrightarrow: '\\u2194',\n    leftarrow: '\\u2190',\n    gets: '\\u2190',\n    rightarrow: '\\u2192',\n    to: ['\\u2192', { accent: false }],\n    mapsto: '\\u21A6',\n    leftharpoonup: '\\u21BC',\n    leftharpoondown: '\\u21BD',\n    rightharpoonup: '\\u21C0',\n    rightharpoondown: '\\u21C1',\n    nearrow: '\\u2197',\n    searrow: '\\u2198',\n    nwarrow: '\\u2196',\n    swarrow: '\\u2199',\n    rightleftharpoons: '\\u21CC',\n    hookrightarrow: '\\u21AA',\n    hookleftarrow: '\\u21A9',\n    longleftarrow: '\\u27F5',\n    Longleftarrow: '\\u27F8',\n    longrightarrow: '\\u27F6',\n    Longrightarrow: '\\u27F9',\n    Longleftrightarrow: '\\u27FA',\n    longleftrightarrow: '\\u27F7',\n    longmapsto: '\\u27FC',\n    ldots: '\\u2026',\n    cdots: '\\u22EF',\n    vdots: '\\u22EE',\n    ddots: '\\u22F1',\n    dotsc: '\\u2026',\n    dotsb: '\\u22EF',\n    dotsm: '\\u22EF',\n    dotsi: '\\u22EF',\n    dotso: '\\u2026',\n    ldotp: ['\\u002E', { texClass: MmlNode_js_1.TEXCLASS.PUNCT }],\n    cdotp: ['\\u22C5', { texClass: MmlNode_js_1.TEXCLASS.PUNCT }],\n    colon: ['\\u003A', { texClass: MmlNode_js_1.TEXCLASS.PUNCT }]\n});\nnew sm.CharacterMap('mathchar7', ParseMethods_js_1.default.mathchar7, {\n    Gamma: '\\u0393',\n    Delta: '\\u0394',\n    Theta: '\\u0398',\n    Lambda: '\\u039B',\n    Xi: '\\u039E',\n    Pi: '\\u03A0',\n    Sigma: '\\u03A3',\n    Upsilon: '\\u03A5',\n    Phi: '\\u03A6',\n    Psi: '\\u03A8',\n    Omega: '\\u03A9',\n    '_': '\\u005F',\n    '#': '\\u0023',\n    '$': '\\u0024',\n    '%': '\\u0025',\n    '&': '\\u0026',\n    And: '\\u0026'\n});\nnew sm.DelimiterMap('delimiter', ParseMethods_js_1.default.delimiter, {\n    '(': '(',\n    ')': ')',\n    '[': '[',\n    ']': ']',\n    '<': '\\u27E8',\n    '>': '\\u27E9',\n    '\\\\lt': '\\u27E8',\n    '\\\\gt': '\\u27E9',\n    '/': '/',\n    '|': ['|', { texClass: MmlNode_js_1.TEXCLASS.ORD }],\n    '.': '',\n    '\\\\\\\\': '\\\\',\n    '\\\\lmoustache': '\\u23B0',\n    '\\\\rmoustache': '\\u23B1',\n    '\\\\lgroup': '\\u27EE',\n    '\\\\rgroup': '\\u27EF',\n    '\\\\arrowvert': '\\u23D0',\n    '\\\\Arrowvert': '\\u2016',\n    '\\\\bracevert': '\\u23AA',\n    '\\\\Vert': ['\\u2225', { texClass: MmlNode_js_1.TEXCLASS.ORD }],\n    '\\\\|': ['\\u2225', { texClass: MmlNode_js_1.TEXCLASS.ORD }],\n    '\\\\vert': ['|', { texClass: MmlNode_js_1.TEXCLASS.ORD }],\n    '\\\\uparrow': '\\u2191',\n    '\\\\downarrow': '\\u2193',\n    '\\\\updownarrow': '\\u2195',\n    '\\\\Uparrow': '\\u21D1',\n    '\\\\Downarrow': '\\u21D3',\n    '\\\\Updownarrow': '\\u21D5',\n    '\\\\backslash': '\\\\',\n    '\\\\rangle': '\\u27E9',\n    '\\\\langle': '\\u27E8',\n    '\\\\rbrace': '}',\n    '\\\\lbrace': '{',\n    '\\\\}': '}',\n    '\\\\{': '{',\n    '\\\\rceil': '\\u2309',\n    '\\\\lceil': '\\u2308',\n    '\\\\rfloor': '\\u230B',\n    '\\\\lfloor': '\\u230A',\n    '\\\\lbrack': '[',\n    '\\\\rbrack': ']'\n});\nnew sm.CommandMap('macros', {\n    displaystyle: ['SetStyle', 'D', true, 0],\n    textstyle: ['SetStyle', 'T', false, 0],\n    scriptstyle: ['SetStyle', 'S', false, 1],\n    scriptscriptstyle: ['SetStyle', 'SS', false, 2],\n    rm: ['SetFont', TexConstants_js_1.TexConstant.Variant.NORMAL],\n    mit: ['SetFont', TexConstants_js_1.TexConstant.Variant.ITALIC],\n    oldstyle: ['SetFont', TexConstants_js_1.TexConstant.Variant.OLDSTYLE],\n    cal: ['SetFont', TexConstants_js_1.TexConstant.Variant.CALLIGRAPHIC],\n    it: ['SetFont', '-tex-mathit'],\n    bf: ['SetFont', TexConstants_js_1.TexConstant.Variant.BOLD],\n    bbFont: ['SetFont', TexConstants_js_1.TexConstant.Variant.DOUBLESTRUCK],\n    scr: ['SetFont', TexConstants_js_1.TexConstant.Variant.SCRIPT],\n    frak: ['SetFont', TexConstants_js_1.TexConstant.Variant.FRAKTUR],\n    sf: ['SetFont', TexConstants_js_1.TexConstant.Variant.SANSSERIF],\n    tt: ['SetFont', TexConstants_js_1.TexConstant.Variant.MONOSPACE],\n    tiny: ['SetSize', 0.5],\n    Tiny: ['SetSize', 0.6],\n    scriptsize: ['SetSize', 0.7],\n    small: ['SetSize', 0.85],\n    normalsize: ['SetSize', 1.0],\n    large: ['SetSize', 1.2],\n    Large: ['SetSize', 1.44],\n    LARGE: ['SetSize', 1.73],\n    huge: ['SetSize', 2.07],\n    Huge: ['SetSize', 2.49],\n    arcsin: ['NamedFn'],\n    arccos: ['NamedFn'],\n    arctan: ['NamedFn'],\n    arg: ['NamedFn'],\n    cos: ['NamedFn'],\n    cosh: ['NamedFn'],\n    cot: ['NamedFn'],\n    coth: ['NamedFn'],\n    csc: ['NamedFn'],\n    deg: ['NamedFn'],\n    det: 'NamedOp',\n    dim: ['NamedFn'],\n    exp: ['NamedFn'],\n    gcd: 'NamedOp',\n    hom: ['NamedFn'],\n    inf: 'NamedOp',\n    ker: ['NamedFn'],\n    lg: ['NamedFn'],\n    lim: 'NamedOp',\n    liminf: ['NamedOp', 'lim&thinsp;inf'],\n    limsup: ['NamedOp', 'lim&thinsp;sup'],\n    ln: ['NamedFn'],\n    log: ['NamedFn'],\n    max: 'NamedOp',\n    min: 'NamedOp',\n    Pr: 'NamedOp',\n    sec: ['NamedFn'],\n    sin: ['NamedFn'],\n    sinh: ['NamedFn'],\n    sup: 'NamedOp',\n    tan: ['NamedFn'],\n    tanh: ['NamedFn'],\n    limits: ['Limits', 1],\n    nolimits: ['Limits', 0],\n    overline: ['UnderOver', '00AF', null, 1],\n    underline: ['UnderOver', '005F'],\n    overbrace: ['UnderOver', '23DE', 1],\n    underbrace: ['UnderOver', '23DF', 1],\n    overparen: ['UnderOver', '23DC'],\n    underparen: ['UnderOver', '23DD'],\n    overrightarrow: ['UnderOver', '2192'],\n    underrightarrow: ['UnderOver', '2192'],\n    overleftarrow: ['UnderOver', '2190'],\n    underleftarrow: ['UnderOver', '2190'],\n    overleftrightarrow: ['UnderOver', '2194'],\n    underleftrightarrow: ['UnderOver', '2194'],\n    overset: 'Overset',\n    underset: 'Underset',\n    stackrel: ['Macro', '\\\\mathrel{\\\\mathop{#2}\\\\limits^{#1}}', 2],\n    over: 'Over',\n    overwithdelims: 'Over',\n    atop: 'Over',\n    atopwithdelims: 'Over',\n    above: 'Over',\n    abovewithdelims: 'Over',\n    brace: ['Over', '{', '}'],\n    brack: ['Over', '[', ']'],\n    choose: ['Over', '(', ')'],\n    frac: 'Frac',\n    sqrt: 'Sqrt',\n    root: 'Root',\n    uproot: ['MoveRoot', 'upRoot'],\n    leftroot: ['MoveRoot', 'leftRoot'],\n    left: 'LeftRight',\n    right: 'LeftRight',\n    middle: 'Middle',\n    llap: 'Lap',\n    rlap: 'Lap',\n    raise: 'RaiseLower',\n    lower: 'RaiseLower',\n    moveleft: 'MoveLeftRight',\n    moveright: 'MoveLeftRight',\n    ',': ['Spacer', TexConstants_js_1.TexConstant.Length.THINMATHSPACE],\n    ':': ['Spacer', TexConstants_js_1.TexConstant.Length.MEDIUMMATHSPACE],\n    '>': ['Spacer', TexConstants_js_1.TexConstant.Length.MEDIUMMATHSPACE],\n    ';': ['Spacer', TexConstants_js_1.TexConstant.Length.THICKMATHSPACE],\n    '!': ['Spacer', TexConstants_js_1.TexConstant.Length.NEGATIVETHINMATHSPACE],\n    enspace: ['Spacer', '.5em'],\n    quad: ['Spacer', '1em'],\n    qquad: ['Spacer', '2em'],\n    thinspace: ['Spacer', TexConstants_js_1.TexConstant.Length.THINMATHSPACE],\n    negthinspace: ['Spacer', TexConstants_js_1.TexConstant.Length.NEGATIVETHINMATHSPACE],\n    hskip: 'Hskip',\n    hspace: 'Hskip',\n    kern: 'Hskip',\n    mskip: 'Hskip',\n    mspace: 'Hskip',\n    mkern: 'Hskip',\n    rule: 'rule',\n    Rule: ['Rule'],\n    Space: ['Rule', 'blank'],\n    big: ['MakeBig', MmlNode_js_1.TEXCLASS.ORD, 0.85],\n    Big: ['MakeBig', MmlNode_js_1.TEXCLASS.ORD, 1.15],\n    bigg: ['MakeBig', MmlNode_js_1.TEXCLASS.ORD, 1.45],\n    Bigg: ['MakeBig', MmlNode_js_1.TEXCLASS.ORD, 1.75],\n    bigl: ['MakeBig', MmlNode_js_1.TEXCLASS.OPEN, 0.85],\n    Bigl: ['MakeBig', MmlNode_js_1.TEXCLASS.OPEN, 1.15],\n    biggl: ['MakeBig', MmlNode_js_1.TEXCLASS.OPEN, 1.45],\n    Biggl: ['MakeBig', MmlNode_js_1.TEXCLASS.OPEN, 1.75],\n    bigr: ['MakeBig', MmlNode_js_1.TEXCLASS.CLOSE, 0.85],\n    Bigr: ['MakeBig', MmlNode_js_1.TEXCLASS.CLOSE, 1.15],\n    biggr: ['MakeBig', MmlNode_js_1.TEXCLASS.CLOSE, 1.45],\n    Biggr: ['MakeBig', MmlNode_js_1.TEXCLASS.CLOSE, 1.75],\n    bigm: ['MakeBig', MmlNode_js_1.TEXCLASS.REL, 0.85],\n    Bigm: ['MakeBig', MmlNode_js_1.TEXCLASS.REL, 1.15],\n    biggm: ['MakeBig', MmlNode_js_1.TEXCLASS.REL, 1.45],\n    Biggm: ['MakeBig', MmlNode_js_1.TEXCLASS.REL, 1.75],\n    mathord: ['TeXAtom', MmlNode_js_1.TEXCLASS.ORD],\n    mathop: ['TeXAtom', MmlNode_js_1.TEXCLASS.OP],\n    mathopen: ['TeXAtom', MmlNode_js_1.TEXCLASS.OPEN],\n    mathclose: ['TeXAtom', MmlNode_js_1.TEXCLASS.CLOSE],\n    mathbin: ['TeXAtom', MmlNode_js_1.TEXCLASS.BIN],\n    mathrel: ['TeXAtom', MmlNode_js_1.TEXCLASS.REL],\n    mathpunct: ['TeXAtom', MmlNode_js_1.TEXCLASS.PUNCT],\n    mathinner: ['TeXAtom', MmlNode_js_1.TEXCLASS.INNER],\n    vcenter: ['TeXAtom', MmlNode_js_1.TEXCLASS.VCENTER],\n    buildrel: 'BuildRel',\n    hbox: ['HBox', 0],\n    text: 'HBox',\n    mbox: ['HBox', 0],\n    fbox: 'FBox',\n    strut: 'Strut',\n    mathstrut: ['Macro', '\\\\vphantom{(}'],\n    phantom: 'Phantom',\n    vphantom: ['Phantom', 1, 0],\n    hphantom: ['Phantom', 0, 1],\n    smash: 'Smash',\n    acute: ['Accent', '00B4'],\n    grave: ['Accent', '0060'],\n    ddot: ['Accent', '00A8'],\n    tilde: ['Accent', '007E'],\n    bar: ['Accent', '00AF'],\n    breve: ['Accent', '02D8'],\n    check: ['Accent', '02C7'],\n    hat: ['Accent', '005E'],\n    vec: ['Accent', '2192'],\n    dot: ['Accent', '02D9'],\n    widetilde: ['Accent', '007E', 1],\n    widehat: ['Accent', '005E', 1],\n    matrix: 'Matrix',\n    array: 'Matrix',\n    pmatrix: ['Matrix', '(', ')'],\n    cases: ['Matrix', '{', '', 'left left', null, '.1em', null,\n        true],\n    eqalign: ['Matrix', null, null, 'right left',\n        TexConstants_js_1.TexConstant.Length.THICKMATHSPACE, '.5em', 'D'],\n    displaylines: ['Matrix', null, null, 'center', null, '.5em', 'D'],\n    cr: 'Cr',\n    '\\\\': 'CrLaTeX',\n    newline: ['CrLaTeX', true],\n    hline: ['HLine', 'solid'],\n    hdashline: ['HLine', 'dashed'],\n    eqalignno: ['Matrix', null, null, 'right left',\n        TexConstants_js_1.TexConstant.Length.THICKMATHSPACE, '.5em', 'D', null,\n        'right'],\n    leqalignno: ['Matrix', null, null, 'right left',\n        TexConstants_js_1.TexConstant.Length.THICKMATHSPACE, '.5em', 'D', null,\n        'left'],\n    hfill: 'HFill',\n    hfil: 'HFill',\n    hfilll: 'HFill',\n    bmod: ['Macro', '\\\\mmlToken{mo}[lspace=\"thickmathspace\"' +\n            ' rspace=\"thickmathspace\"]{mod}'],\n    pmod: ['Macro', '\\\\pod{\\\\mmlToken{mi}{mod}\\\\kern 6mu #1}', 1],\n    mod: ['Macro', '\\\\mathchoice{\\\\kern18mu}{\\\\kern12mu}' +\n            '{\\\\kern12mu}{\\\\kern12mu}\\\\mmlToken{mi}{mod}\\\\,\\\\,#1',\n        1],\n    pod: ['Macro', '\\\\mathchoice{\\\\kern18mu}{\\\\kern8mu}' +\n            '{\\\\kern8mu}{\\\\kern8mu}(#1)', 1],\n    iff: ['Macro', '\\\\;\\\\Longleftrightarrow\\\\;'],\n    skew: ['Macro', '{{#2{#3\\\\mkern#1mu}\\\\mkern-#1mu}{}}', 3],\n    mathcal: ['Macro', '{\\\\cal #1}', 1],\n    mathscr: ['Macro', '{\\\\scr #1}', 1],\n    mathrm: ['Macro', '{\\\\rm #1}', 1],\n    mathbf: ['Macro', '{\\\\bf #1}', 1],\n    mathbb: ['Macro', '{\\\\bbFont #1}', 1],\n    Bbb: ['Macro', '{\\\\bbFont #1}', 1],\n    mathit: ['Macro', '{\\\\it #1}', 1],\n    mathfrak: ['Macro', '{\\\\frak #1}', 1],\n    mathsf: ['Macro', '{\\\\sf #1}', 1],\n    mathtt: ['Macro', '{\\\\tt #1}', 1],\n    textrm: ['Macro', '\\\\mathord{\\\\rm\\\\text{#1}}', 1],\n    textit: ['Macro', '\\\\mathord{\\\\it\\\\text{#1}}', 1],\n    textbf: ['Macro', '\\\\mathord{\\\\bf\\\\text{#1}}', 1],\n    textsf: ['Macro', '\\\\mathord{\\\\sf\\\\text{#1}}', 1],\n    texttt: ['Macro', '\\\\mathord{\\\\tt\\\\text{#1}}', 1],\n    pmb: ['Macro', '\\\\rlap{#1}\\\\kern1px{#1}', 1],\n    TeX: ['Macro', 'T\\\\kern-.14em\\\\lower.5ex{E}\\\\kern-.115em X'],\n    LaTeX: ['Macro', 'L\\\\kern-.325em\\\\raise.21em' +\n            '{\\\\scriptstyle{A}}\\\\kern-.17em\\\\TeX'],\n    ' ': ['Macro', '\\\\text{ }'],\n    not: 'Not',\n    dots: 'Dots',\n    space: 'Tilde',\n    '\\u00A0': 'Tilde',\n    begin: 'BeginEnd',\n    end: 'BeginEnd',\n    label: 'HandleLabel',\n    ref: 'HandleRef',\n    nonumber: 'HandleNoTag',\n    mathchoice: 'MathChoice',\n    mmlToken: 'MmlToken'\n}, BaseMethods_js_1.default);\nvar envs = new sm.EnvironmentMap('environment', ParseMethods_js_1.default.environment, {\n    array: ['AlignedArray'],\n    equation: ['Equation', null, true],\n    'equation*': ['Equation', null, false],\n    eqnarray: ['EqnArray', null, true, true, 'rcl',\n        '0 ' + TexConstants_js_1.TexConstant.Length.THICKMATHSPACE, '.5em']\n}, BaseMethods_js_1.default);\nnew sm.CharacterMap('not_remap', null, {\n    '\\u2190': '\\u219A',\n    '\\u2192': '\\u219B',\n    '\\u2194': '\\u21AE',\n    '\\u21D0': '\\u21CD',\n    '\\u21D2': '\\u21CF',\n    '\\u21D4': '\\u21CE',\n    '\\u2208': '\\u2209',\n    '\\u220B': '\\u220C',\n    '\\u2223': '\\u2224',\n    '\\u2225': '\\u2226',\n    '\\u223C': '\\u2241',\n    '\\u007E': '\\u2241',\n    '\\u2243': '\\u2244',\n    '\\u2245': '\\u2247',\n    '\\u2248': '\\u2249',\n    '\\u224D': '\\u226D',\n    '\\u003D': '\\u2260',\n    '\\u2261': '\\u2262',\n    '\\u003C': '\\u226E',\n    '\\u003E': '\\u226F',\n    '\\u2264': '\\u2270',\n    '\\u2265': '\\u2271',\n    '\\u2272': '\\u2274',\n    '\\u2273': '\\u2275',\n    '\\u2276': '\\u2278',\n    '\\u2277': '\\u2279',\n    '\\u227A': '\\u2280',\n    '\\u227B': '\\u2281',\n    '\\u2282': '\\u2284',\n    '\\u2283': '\\u2285',\n    '\\u2286': '\\u2288',\n    '\\u2287': '\\u2289',\n    '\\u22A2': '\\u22AC',\n    '\\u22A8': '\\u22AD',\n    '\\u22A9': '\\u22AE',\n    '\\u22AB': '\\u22AF',\n    '\\u227C': '\\u22E0',\n    '\\u227D': '\\u22E1',\n    '\\u2291': '\\u22E2',\n    '\\u2292': '\\u22E3',\n    '\\u22B2': '\\u22EA',\n    '\\u22B3': '\\u22EB',\n    '\\u22B4': '\\u22EC',\n    '\\u22B5': '\\u22ED',\n    '\\u2203': '\\u2204'\n});\n//# sourceMappingURL=BaseMappings.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Entities = require(\"../Entities.js\");\nEntities.add({\n    Pcy: '\\u041F',\n    Poincareplane: '\\u210C',\n    Pr: '\\u2ABB',\n    Prime: '\\u2033',\n    Proportion: '\\u2237',\n    par: '\\u2225',\n    para: '\\u00B6',\n    parallel: '\\u2225',\n    parsim: '\\u2AF3',\n    parsl: '\\u2AFD',\n    part: '\\u2202',\n    pcy: '\\u043F',\n    percnt: '\\u0025',\n    permil: '\\u2030',\n    perp: '\\u22A5',\n    pertenk: '\\u2031',\n    phmmat: '\\u2133',\n    phone: '\\u260E',\n    pitchfork: '\\u22D4',\n    planck: '\\u210F',\n    planckh: '\\u210E',\n    plankv: '\\u210F',\n    plus: '\\u002B',\n    plusacir: '\\u2A23',\n    plusb: '\\u229E',\n    pluscir: '\\u2A22',\n    plusdo: '\\u2214',\n    plusdu: '\\u2A25',\n    pluse: '\\u2A72',\n    plusmn: '\\u00B1',\n    plussim: '\\u2A26',\n    plustwo: '\\u2A27',\n    pm: '\\u00B1',\n    pointint: '\\u2A15',\n    pound: '\\u00A3',\n    pr: '\\u227A',\n    prE: '\\u2AB3',\n    prcue: '\\u227C',\n    pre: '\\u2AAF',\n    prec: '\\u227A',\n    precapprox: '\\u2AB7',\n    preccurlyeq: '\\u227C',\n    preceq: '\\u2AAF',\n    precsim: '\\u227E',\n    primes: '\\u2119',\n    prnE: '\\u2AB5',\n    prnap: '\\u2AB9',\n    prnsim: '\\u22E8',\n    prod: '\\u220F',\n    profalar: '\\u232E',\n    profline: '\\u2312',\n    profsurf: '\\u2313',\n    prop: '\\u221D',\n    propto: '\\u221D',\n    prsim: '\\u227E',\n    prurel: '\\u22B0',\n    puncsp: '\\u2008'\n}, 'p');\n//# sourceMappingURL=p.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Entities = require(\"../Entities.js\");\nEntities.add({\n    RBarr: '\\u2910',\n    REG: '\\u00AE',\n    Racute: '\\u0154',\n    Rang: '\\u27EB',\n    Rarrtl: '\\u2916',\n    Rcaron: '\\u0158',\n    Rcedil: '\\u0156',\n    Rcy: '\\u0420',\n    ReverseElement: '\\u220B',\n    ReverseUpEquilibrium: '\\u296F',\n    Rho: '\\u03A1',\n    RightArrowBar: '\\u21E5',\n    RightDoubleBracket: '\\u27E7',\n    RightDownTeeVector: '\\u295D',\n    RightDownVectorBar: '\\u2955',\n    RightTeeVector: '\\u295B',\n    RightTriangleBar: '\\u29D0',\n    RightUpDownVector: '\\u294F',\n    RightUpTeeVector: '\\u295C',\n    RightUpVectorBar: '\\u2954',\n    RightVectorBar: '\\u2953',\n    RoundImplies: '\\u2970',\n    RuleDelayed: '\\u29F4',\n    rAarr: '\\u21DB',\n    rArr: '\\u21D2',\n    rAtail: '\\u291C',\n    rBarr: '\\u290F',\n    rHar: '\\u2964',\n    race: '\\u223D\\u0331',\n    racute: '\\u0155',\n    radic: '\\u221A',\n    raemptyv: '\\u29B3',\n    rang: '\\u27E9',\n    rangd: '\\u2992',\n    range: '\\u29A5',\n    rangle: '\\u27E9',\n    raquo: '\\u00BB',\n    rarr: '\\u2192',\n    rarrap: '\\u2975',\n    rarrb: '\\u21E5',\n    rarrbfs: '\\u2920',\n    rarrc: '\\u2933',\n    rarrfs: '\\u291E',\n    rarrhk: '\\u21AA',\n    rarrlp: '\\u21AC',\n    rarrpl: '\\u2945',\n    rarrsim: '\\u2974',\n    rarrw: '\\u219D',\n    ratail: '\\u291A',\n    ratio: '\\u2236',\n    rationals: '\\u211A',\n    rbarr: '\\u290D',\n    rbbrk: '\\u2773',\n    rbrke: '\\u298C',\n    rbrksld: '\\u298E',\n    rbrkslu: '\\u2990',\n    rcaron: '\\u0159',\n    rcedil: '\\u0157',\n    rceil: '\\u2309',\n    rcub: '\\u007D',\n    rcy: '\\u0440',\n    rdca: '\\u2937',\n    rdldhar: '\\u2969',\n    rdquo: '\\u201D',\n    rdquor: '\\u201D',\n    rdsh: '\\u21B3',\n    real: '\\u211C',\n    realine: '\\u211B',\n    realpart: '\\u211C',\n    reals: '\\u211D',\n    rect: '\\u25AD',\n    reg: '\\u00AE',\n    rfisht: '\\u297D',\n    rfloor: '\\u230B',\n    rhard: '\\u21C1',\n    rharu: '\\u21C0',\n    rharul: '\\u296C',\n    rightarrow: '\\u2192',\n    rightarrowtail: '\\u21A3',\n    rightharpoondown: '\\u21C1',\n    rightharpoonup: '\\u21C0',\n    rightleftarrows: '\\u21C4',\n    rightleftharpoons: '\\u21CC',\n    rightsquigarrow: '\\u219D',\n    risingdotseq: '\\u2253',\n    rlarr: '\\u21C4',\n    rlhar: '\\u21CC',\n    rlm: '\\u200F',\n    rmoustache: '\\u23B1',\n    rnmid: '\\u2AEE',\n    roang: '\\u27ED',\n    roarr: '\\u21FE',\n    robrk: '\\u27E7',\n    ropar: '\\u2986',\n    roplus: '\\u2A2E',\n    rotimes: '\\u2A35',\n    rpar: '\\u0029',\n    rpargt: '\\u2994',\n    rppolint: '\\u2A12',\n    rrarr: '\\u21C9',\n    rsaquo: '\\u203A',\n    rsh: '\\u21B1',\n    rsqb: '\\u005D',\n    rsquo: '\\u2019',\n    rsquor: '\\u2019',\n    rthree: '\\u22CC',\n    rtrie: '\\u22B5',\n    rtrif: '\\u25B8',\n    rtriltri: '\\u29CE',\n    ruluhar: '\\u2968',\n    rx: '\\u211E'\n}, 'r');\n//# sourceMappingURL=r.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AmsMethods_js_1 = require(\"./AmsMethods.js\");\nvar sm = require(\"../SymbolMap.js\");\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar ParseMethods_js_1 = require(\"../ParseMethods.js\");\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nvar COLS = function (W) {\n    var WW = [];\n    for (var i = 0, m = W.length; i < m; i++) {\n        WW[i] = ParseUtil_js_1.default.Em(W[i]);\n    }\n    return WW.join(' ');\n};\nnew sm.CharacterMap('AMSmath-mathchar0mo', ParseMethods_js_1.default.mathchar0mo, {\n    iiiint: ['\\u2A0C', { texClass: MmlNode_js_1.TEXCLASS.OP }]\n});\nnew sm.CommandMap('AMSmath-macros', {\n    mathring: ['Accent', '02DA'],\n    nobreakspace: 'Tilde',\n    negmedspace: ['Spacer', TexConstants_js_1.TexConstant.Length.NEGATIVEMEDIUMMATHSPACE],\n    negthickspace: ['Spacer', TexConstants_js_1.TexConstant.Length.NEGATIVETHICKMATHSPACE],\n    idotsint: ['MultiIntegral', '\\\\int\\\\cdots\\\\int'],\n    dddot: ['Accent', '20DB'],\n    ddddot: ['Accent', '20DC'],\n    sideset: ['Macro', '\\\\mathop{\\\\mathop{\\\\rlap{\\\\phantom{#3}}}\\\\nolimits#1' +\n            '\\\\!\\\\mathop{#3}\\\\nolimits#2}', 3],\n    boxed: ['Macro', '\\\\fbox{$\\\\displaystyle{#1}$}', 1],\n    tag: 'HandleTag',\n    notag: 'HandleNoTag',\n    eqref: ['HandleRef', true],\n    substack: ['Macro', '\\\\begin{subarray}{c}#1\\\\end{subarray}', 1],\n    injlim: ['NamedOp', 'inj&thinsp;lim'],\n    projlim: ['NamedOp', 'proj&thinsp;lim'],\n    varliminf: ['Macro', '\\\\mathop{\\\\underline{\\\\mmlToken{mi}{lim}}}'],\n    varlimsup: ['Macro', '\\\\mathop{\\\\overline{\\\\mmlToken{mi}{lim}}}'],\n    varinjlim: ['Macro', '\\\\mathop{\\\\underrightarrow{\\\\mmlToken{mi}{lim}}}'],\n    varprojlim: ['Macro', '\\\\mathop{\\\\underleftarrow{\\\\mmlToken{mi}{lim}}}'],\n    DeclareMathOperator: 'HandleDeclareOp',\n    operatorname: 'HandleOperatorName',\n    SkipLimits: 'SkipLimits',\n    genfrac: 'Genfrac',\n    frac: ['Genfrac', '', '', '', ''],\n    tfrac: ['Genfrac', '', '', '', '1'],\n    dfrac: ['Genfrac', '', '', '', '0'],\n    binom: ['Genfrac', '(', ')', '0', ''],\n    tbinom: ['Genfrac', '(', ')', '0', '1'],\n    dbinom: ['Genfrac', '(', ')', '0', '0'],\n    cfrac: 'CFrac',\n    shoveleft: ['HandleShove', TexConstants_js_1.TexConstant.Align.LEFT],\n    shoveright: ['HandleShove', TexConstants_js_1.TexConstant.Align.RIGHT],\n    xrightarrow: ['xArrow', 0x2192, 5, 6],\n    xleftarrow: ['xArrow', 0x2190, 7, 3]\n}, AmsMethods_js_1.default);\nnew sm.EnvironmentMap('AMSmath-environment', ParseMethods_js_1.default.environment, {\n    'eqnarray*': ['EqnArray', null, false, true, 'rcl',\n        '0 ' + TexConstants_js_1.TexConstant.Length.THICKMATHSPACE, '.5em'],\n    align: ['EqnArray', null, true, true, 'rlrlrlrlrlrl',\n        COLS([0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0])],\n    'align*': ['EqnArray', null, false, true, 'rlrlrlrlrlrl',\n        COLS([0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0])],\n    multline: ['Multline', null, true],\n    'multline*': ['Multline', null, false],\n    split: ['EqnArray', null, false, false, 'rl', COLS([0])],\n    gather: ['EqnArray', null, true, true, 'c'],\n    'gather*': ['EqnArray', null, false, true, 'c'],\n    alignat: ['AlignAt', null, true, true],\n    'alignat*': ['AlignAt', null, false, true],\n    alignedat: ['AlignAt', null, false, false],\n    aligned: ['AmsEqnArray', null, null, null, 'rlrlrlrlrlrl',\n        COLS([0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 0]), '.5em', 'D'],\n    gathered: ['AmsEqnArray', null, null, null, 'c', null, '.5em', 'D'],\n    subarray: ['Array', null, null, null, null, COLS([0]), '0.1em', 'S', 1],\n    smallmatrix: ['Array', null, null, null, 'c', COLS([1 / 3]),\n        '.2em', 'S', 1],\n    matrix: ['Array', null, null, null, 'c'],\n    pmatrix: ['Array', null, '(', ')', 'c'],\n    bmatrix: ['Array', null, '[', ']', 'c'],\n    Bmatrix: ['Array', null, '\\\\{', '\\\\}', 'c'],\n    vmatrix: ['Array', null, '\\\\vert', '\\\\vert', 'c'],\n    Vmatrix: ['Array', null, '\\\\Vert', '\\\\Vert', 'c'],\n    cases: ['Array', null, '\\\\{', '.', 'll', null, '.2em', 'T']\n}, AmsMethods_js_1.default);\nnew sm.DelimiterMap('AMSmath-delimiter', ParseMethods_js_1.default.delimiter, {\n    '\\\\lvert': ['\\u007C', { texClass: MmlNode_js_1.TEXCLASS.OPEN }],\n    '\\\\rvert': ['\\u007C', { texClass: MmlNode_js_1.TEXCLASS.CLOSE }],\n    '\\\\lVert': ['\\u2016', { texClass: MmlNode_js_1.TEXCLASS.OPEN }],\n    '\\\\rVert': ['\\u2016', { texClass: MmlNode_js_1.TEXCLASS.CLOSE }]\n});\nnew sm.CharacterMap('AMSsymbols-mathchar0mi', ParseMethods_js_1.default.mathchar0mi, {\n    digamma: '\\u03DD',\n    varkappa: '\\u03F0',\n    varGamma: ['\\u0393', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varDelta: ['\\u0394', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varTheta: ['\\u0398', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varLambda: ['\\u039B', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varXi: ['\\u039E', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varPi: ['\\u03A0', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varSigma: ['\\u03A3', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varUpsilon: ['\\u03A5', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varPhi: ['\\u03A6', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varPsi: ['\\u03A8', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    varOmega: ['\\u03A9', { mathvariant: TexConstants_js_1.TexConstant.Variant.ITALIC }],\n    beth: '\\u2136',\n    gimel: '\\u2137',\n    daleth: '\\u2138',\n    backprime: ['\\u2035', { variantForm: true }],\n    hslash: '\\u210F',\n    varnothing: ['\\u2205', { variantForm: true }],\n    blacktriangle: '\\u25B4',\n    triangledown: ['\\u25BD', { variantForm: true }],\n    blacktriangledown: '\\u25BE',\n    square: '\\u25FB',\n    Box: '\\u25FB',\n    blacksquare: '\\u25FC',\n    lozenge: '\\u25CA',\n    Diamond: '\\u25CA',\n    blacklozenge: '\\u29EB',\n    circledS: ['\\u24C8', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    bigstar: '\\u2605',\n    sphericalangle: '\\u2222',\n    measuredangle: '\\u2221',\n    nexists: '\\u2204',\n    complement: '\\u2201',\n    mho: '\\u2127',\n    eth: ['\\u00F0', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    Finv: '\\u2132',\n    diagup: '\\u2571',\n    Game: '\\u2141',\n    diagdown: '\\u2572',\n    Bbbk: ['\\u006B',\n        { mathvariant: TexConstants_js_1.TexConstant.Variant.DOUBLESTRUCK }],\n    yen: '\\u00A5',\n    circledR: '\\u00AE',\n    checkmark: '\\u2713',\n    maltese: '\\u2720'\n});\nnew sm.CharacterMap('AMSsymbols-mathchar0m0', ParseMethods_js_1.default.mathchar0mo, {\n    dotplus: '\\u2214',\n    ltimes: '\\u22C9',\n    smallsetminus: ['\\u2216', { variantForm: true }],\n    rtimes: '\\u22CA',\n    Cap: '\\u22D2',\n    doublecap: '\\u22D2',\n    leftthreetimes: '\\u22CB',\n    Cup: '\\u22D3',\n    doublecup: '\\u22D3',\n    rightthreetimes: '\\u22CC',\n    barwedge: '\\u22BC',\n    curlywedge: '\\u22CF',\n    veebar: '\\u22BB',\n    curlyvee: '\\u22CE',\n    doublebarwedge: '\\u2A5E',\n    boxminus: '\\u229F',\n    circleddash: '\\u229D',\n    boxtimes: '\\u22A0',\n    circledast: '\\u229B',\n    boxdot: '\\u22A1',\n    circledcirc: '\\u229A',\n    boxplus: '\\u229E',\n    centerdot: ['\\u22C5', { variantForm: true }],\n    divideontimes: '\\u22C7',\n    intercal: '\\u22BA',\n    leqq: '\\u2266',\n    geqq: '\\u2267',\n    leqslant: '\\u2A7D',\n    geqslant: '\\u2A7E',\n    eqslantless: '\\u2A95',\n    eqslantgtr: '\\u2A96',\n    lesssim: '\\u2272',\n    gtrsim: '\\u2273',\n    lessapprox: '\\u2A85',\n    gtrapprox: '\\u2A86',\n    approxeq: '\\u224A',\n    lessdot: '\\u22D6',\n    gtrdot: '\\u22D7',\n    lll: '\\u22D8',\n    llless: '\\u22D8',\n    ggg: '\\u22D9',\n    gggtr: '\\u22D9',\n    lessgtr: '\\u2276',\n    gtrless: '\\u2277',\n    lesseqgtr: '\\u22DA',\n    gtreqless: '\\u22DB',\n    lesseqqgtr: '\\u2A8B',\n    gtreqqless: '\\u2A8C',\n    doteqdot: '\\u2251',\n    Doteq: '\\u2251',\n    eqcirc: '\\u2256',\n    risingdotseq: '\\u2253',\n    circeq: '\\u2257',\n    fallingdotseq: '\\u2252',\n    triangleq: '\\u225C',\n    backsim: '\\u223D',\n    thicksim: ['\\u223C', { variantForm: true }],\n    backsimeq: '\\u22CD',\n    thickapprox: ['\\u2248', { variantForm: true }],\n    subseteqq: '\\u2AC5',\n    supseteqq: '\\u2AC6',\n    Subset: '\\u22D0',\n    Supset: '\\u22D1',\n    sqsubset: '\\u228F',\n    sqsupset: '\\u2290',\n    preccurlyeq: '\\u227C',\n    succcurlyeq: '\\u227D',\n    curlyeqprec: '\\u22DE',\n    curlyeqsucc: '\\u22DF',\n    precsim: '\\u227E',\n    succsim: '\\u227F',\n    precapprox: '\\u2AB7',\n    succapprox: '\\u2AB8',\n    vartriangleleft: '\\u22B2',\n    lhd: '\\u22B2',\n    vartriangleright: '\\u22B3',\n    rhd: '\\u22B3',\n    trianglelefteq: '\\u22B4',\n    unlhd: '\\u22B4',\n    trianglerighteq: '\\u22B5',\n    unrhd: '\\u22B5',\n    vDash: ['\\u22A8', { variantForm: true }],\n    Vdash: '\\u22A9',\n    Vvdash: '\\u22AA',\n    smallsmile: ['\\u2323', { variantForm: true }],\n    shortmid: ['\\u2223', { variantForm: true }],\n    smallfrown: ['\\u2322', { variantForm: true }],\n    shortparallel: ['\\u2225', { variantForm: true }],\n    bumpeq: '\\u224F',\n    between: '\\u226C',\n    Bumpeq: '\\u224E',\n    pitchfork: '\\u22D4',\n    varpropto: ['\\u221D', { variantForm: true }],\n    backepsilon: '\\u220D',\n    blacktriangleleft: '\\u25C2',\n    blacktriangleright: '\\u25B8',\n    therefore: '\\u2234',\n    because: '\\u2235',\n    eqsim: '\\u2242',\n    vartriangle: ['\\u25B3', { variantForm: true }],\n    Join: '\\u22C8',\n    nless: '\\u226E',\n    ngtr: '\\u226F',\n    nleq: '\\u2270',\n    ngeq: '\\u2271',\n    nleqslant: ['\\u2A87', { variantForm: true }],\n    ngeqslant: ['\\u2A88', { variantForm: true }],\n    nleqq: ['\\u2270', { variantForm: true }],\n    ngeqq: ['\\u2271', { variantForm: true }],\n    lneq: '\\u2A87',\n    gneq: '\\u2A88',\n    lneqq: '\\u2268',\n    gneqq: '\\u2269',\n    lvertneqq: ['\\u2268', { variantForm: true }],\n    gvertneqq: ['\\u2269', { variantForm: true }],\n    lnsim: '\\u22E6',\n    gnsim: '\\u22E7',\n    lnapprox: '\\u2A89',\n    gnapprox: '\\u2A8A',\n    nprec: '\\u2280',\n    nsucc: '\\u2281',\n    npreceq: ['\\u22E0', { variantForm: true }],\n    nsucceq: ['\\u22E1', { variantForm: true }],\n    precneqq: '\\u2AB5',\n    succneqq: '\\u2AB6',\n    precnsim: '\\u22E8',\n    succnsim: '\\u22E9',\n    precnapprox: '\\u2AB9',\n    succnapprox: '\\u2ABA',\n    nsim: '\\u2241',\n    ncong: '\\u2246',\n    nshortmid: ['\\u2224', { variantForm: true }],\n    nshortparallel: ['\\u2226', { variantForm: true }],\n    nmid: '\\u2224',\n    nparallel: '\\u2226',\n    nvdash: '\\u22AC',\n    nvDash: '\\u22AD',\n    nVdash: '\\u22AE',\n    nVDash: '\\u22AF',\n    ntriangleleft: '\\u22EA',\n    ntriangleright: '\\u22EB',\n    ntrianglelefteq: '\\u22EC',\n    ntrianglerighteq: '\\u22ED',\n    nsubseteq: '\\u2288',\n    nsupseteq: '\\u2289',\n    nsubseteqq: ['\\u2288', { variantForm: true }],\n    nsupseteqq: ['\\u2289', { variantForm: true }],\n    subsetneq: '\\u228A',\n    supsetneq: '\\u228B',\n    varsubsetneq: ['\\u228A', { variantForm: true }],\n    varsupsetneq: ['\\u228B', { variantForm: true }],\n    subsetneqq: '\\u2ACB',\n    supsetneqq: '\\u2ACC',\n    varsubsetneqq: ['\\u2ACB', { variantForm: true }],\n    varsupsetneqq: ['\\u2ACC', { variantForm: true }],\n    leftleftarrows: '\\u21C7',\n    rightrightarrows: '\\u21C9',\n    leftrightarrows: '\\u21C6',\n    rightleftarrows: '\\u21C4',\n    Lleftarrow: '\\u21DA',\n    Rrightarrow: '\\u21DB',\n    twoheadleftarrow: '\\u219E',\n    twoheadrightarrow: '\\u21A0',\n    leftarrowtail: '\\u21A2',\n    rightarrowtail: '\\u21A3',\n    looparrowleft: '\\u21AB',\n    looparrowright: '\\u21AC',\n    leftrightharpoons: '\\u21CB',\n    rightleftharpoons: ['\\u21CC', { variantForm: true }],\n    curvearrowleft: '\\u21B6',\n    curvearrowright: '\\u21B7',\n    circlearrowleft: '\\u21BA',\n    circlearrowright: '\\u21BB',\n    Lsh: '\\u21B0',\n    Rsh: '\\u21B1',\n    upuparrows: '\\u21C8',\n    downdownarrows: '\\u21CA',\n    upharpoonleft: '\\u21BF',\n    upharpoonright: '\\u21BE',\n    downharpoonleft: '\\u21C3',\n    restriction: '\\u21BE',\n    multimap: '\\u22B8',\n    downharpoonright: '\\u21C2',\n    leftrightsquigarrow: '\\u21AD',\n    rightsquigarrow: '\\u21DD',\n    leadsto: '\\u21DD',\n    dashrightarrow: '\\u21E2',\n    dashleftarrow: '\\u21E0',\n    nleftarrow: '\\u219A',\n    nrightarrow: '\\u219B',\n    nLeftarrow: '\\u21CD',\n    nRightarrow: '\\u21CF',\n    nleftrightarrow: '\\u21AE',\n    nLeftrightarrow: '\\u21CE'\n});\nnew sm.DelimiterMap('AMSsymbols-delimiter', ParseMethods_js_1.default.delimiter, {\n    '\\\\ulcorner': '\\u231C',\n    '\\\\urcorner': '\\u231D',\n    '\\\\llcorner': '\\u231E',\n    '\\\\lrcorner': '\\u231F'\n});\nnew sm.CommandMap('AMSsymbols-macros', {\n    implies: ['Macro', '\\\\;\\\\Longrightarrow\\\\;'],\n    impliedby: ['Macro', '\\\\;\\\\Longleftarrow\\\\;']\n}, AmsMethods_js_1.default);\n//# sourceMappingURL=AmsMappings.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar sm = require(\"../SymbolMap.js\");\nvar ParseMethods_js_1 = require(\"../ParseMethods.js\");\nvar AmsCdMethods_js_1 = require(\"./AmsCdMethods.js\");\nnew sm.EnvironmentMap('amsCd_environment', ParseMethods_js_1.default.environment, { CD: 'CD' }, AmsCdMethods_js_1.default);\nnew sm.CommandMap('amsCd_macros', {\n    minCDarrowwidth: 'minCDarrowwidth',\n    minCDarrowheight: 'minCDarrowheight',\n}, AmsCdMethods_js_1.default);\nnew sm.MacroMap('amsCd_special', { '@': 'arrow' }, AmsCdMethods_js_1.default);\n//# sourceMappingURL=AmsCdMappings.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar BraketMethods_js_1 = require(\"./BraketMethods.js\");\nnew SymbolMap_js_1.CommandMap('Braket-macros', {\n    bra: ['Macro', '{\\\\langle {#1} \\\\vert}', 1],\n    ket: ['Macro', '{\\\\vert {#1} \\\\rangle}', 1],\n    braket: ['Braket', '\\u27E8', '\\u27E9', false, Infinity],\n    'set': ['Braket', '{', '}', false, 1],\n    Bra: ['Macro', '{\\\\left\\\\langle {#1} \\\\right\\\\vert}', 1],\n    Ket: ['Macro', '{\\\\left\\\\vert {#1} \\\\right\\\\rangle}', 1],\n    Braket: ['Braket', '\\u27E8', '\\u27E9', true, Infinity],\n    Set: ['Braket', '{', '}', true, 1],\n    ketbra: ['Macro', '{\\\\vert {#1} \\\\rangle\\\\langle {#2} \\\\vert}', 2],\n    Ketbra: ['Macro', '{\\\\left\\\\vert {#1} \\\\right\\\\rangle\\\\left\\\\langle {#2} \\\\right\\\\vert}', 2],\n    '|': 'Bar'\n}, BraketMethods_js_1.default);\nnew SymbolMap_js_1.MacroMap('Braket-characters', {\n    '|': 'Bar'\n}, BraketMethods_js_1.default);\n//# sourceMappingURL=BraketMappings.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BussproofsMethods_js_1 = require(\"./BussproofsMethods.js\");\nvar ParseMethods_js_1 = require(\"../ParseMethods.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nnew SymbolMap_js_1.CommandMap('Bussproofs-macros', {\n    AxiomC: 'Axiom',\n    UnaryInfC: ['Inference', 1],\n    BinaryInfC: ['Inference', 2],\n    TrinaryInfC: ['Inference', 3],\n    QuaternaryInfC: ['Inference', 4],\n    QuinaryInfC: ['Inference', 5],\n    RightLabel: ['Label', 'right'],\n    LeftLabel: ['Label', 'left'],\n    AXC: 'Axiom',\n    UIC: ['Inference', 1],\n    BIC: ['Inference', 2],\n    TIC: ['Inference', 3],\n    RL: ['Label', 'right'],\n    LL: ['Label', 'left'],\n    noLine: ['SetLine', 'none', false],\n    singleLine: ['SetLine', 'solid', false],\n    solidLine: ['SetLine', 'solid', false],\n    dashedLine: ['SetLine', 'dashed', false],\n    alwaysNoLine: ['SetLine', 'none', true],\n    alwaysSingleLine: ['SetLine', 'solid', true],\n    alwaysSolidLine: ['SetLine', 'solid', true],\n    alwaysDashedLine: ['SetLine', 'dashed', true],\n    rootAtTop: ['RootAtTop', true],\n    alwaysRootAtTop: ['RootAtTop', true],\n    rootAtBottom: ['RootAtTop', false],\n    alwaysRootAtBottom: ['RootAtTop', false],\n    fCenter: 'FCenter',\n    Axiom: 'AxiomF',\n    UnaryInf: ['InferenceF', 1],\n    BinaryInf: ['InferenceF', 2],\n    TrinaryInf: ['InferenceF', 3],\n    QuaternaryInf: ['InferenceF', 4],\n    QuinaryInf: ['InferenceF', 5]\n}, BussproofsMethods_js_1.default);\nnew SymbolMap_js_1.EnvironmentMap('Bussproofs-environments', ParseMethods_js_1.default.environment, {\n    prooftree: ['Prooftree', null, false]\n}, BussproofsMethods_js_1.default);\n//# sourceMappingURL=BussproofsMappings.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.COLORS = new Map([\n    ['Apricot', '#FBB982'],\n    ['Aquamarine', '#00B5BE'],\n    ['Bittersweet', '#C04F17'],\n    ['Black', '#221E1F'],\n    ['Blue', '#2D2F92'],\n    ['BlueGreen', '#00B3B8'],\n    ['BlueViolet', '#473992'],\n    ['BrickRed', '#B6321C'],\n    ['Brown', '#792500'],\n    ['BurntOrange', '#F7921D'],\n    ['CadetBlue', '#74729A'],\n    ['CarnationPink', '#F282B4'],\n    ['Cerulean', '#00A2E3'],\n    ['CornflowerBlue', '#41B0E4'],\n    ['Cyan', '#00AEEF'],\n    ['Dandelion', '#FDBC42'],\n    ['DarkOrchid', '#A4538A'],\n    ['Emerald', '#00A99D'],\n    ['ForestGreen', '#009B55'],\n    ['Fuchsia', '#8C368C'],\n    ['Goldenrod', '#FFDF42'],\n    ['Gray', '#949698'],\n    ['Green', '#00A64F'],\n    ['GreenYellow', '#DFE674'],\n    ['JungleGreen', '#00A99A'],\n    ['Lavender', '#F49EC4'],\n    ['LimeGreen', '#8DC73E'],\n    ['Magenta', '#EC008C'],\n    ['Mahogany', '#A9341F'],\n    ['Maroon', '#AF3235'],\n    ['Melon', '#F89E7B'],\n    ['MidnightBlue', '#006795'],\n    ['Mulberry', '#A93C93'],\n    ['NavyBlue', '#006EB8'],\n    ['OliveGreen', '#3C8031'],\n    ['Orange', '#F58137'],\n    ['OrangeRed', '#ED135A'],\n    ['Orchid', '#AF72B0'],\n    ['Peach', '#F7965A'],\n    ['Periwinkle', '#7977B8'],\n    ['PineGreen', '#008B72'],\n    ['Plum', '#92268F'],\n    ['ProcessBlue', '#00B0F0'],\n    ['Purple', '#99479B'],\n    ['RawSienna', '#974006'],\n    ['Red', '#ED1B23'],\n    ['RedOrange', '#F26035'],\n    ['RedViolet', '#A1246B'],\n    ['Rhodamine', '#EF559F'],\n    ['RoyalBlue', '#0071BC'],\n    ['RoyalPurple', '#613F99'],\n    ['RubineRed', '#ED017D'],\n    ['Salmon', '#F69289'],\n    ['SeaGreen', '#3FBC9D'],\n    ['Sepia', '#671800'],\n    ['SkyBlue', '#46C5DD'],\n    ['SpringGreen', '#C6DC67'],\n    ['Tan', '#DA9D76'],\n    ['TealBlue', '#00AEB3'],\n    ['Thistle', '#D883B7'],\n    ['Turquoise', '#00B4CE'],\n    ['Violet', '#58429B'],\n    ['VioletRed', '#EF58A0'],\n    ['White', '#FFFFFF'],\n    ['WildStrawberry', '#EE2967'],\n    ['Yellow', '#FFF200'],\n    ['YellowGreen', '#98CC70'],\n    ['YellowOrange', '#FAA21A'],\n]);\n//# sourceMappingURL=ColorConstants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NewcommandMethods_js_1 = require(\"./NewcommandMethods.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nnew SymbolMap_js_1.CommandMap('Newcommand-macros', {\n    newcommand: 'NewCommand',\n    renewcommand: 'NewCommand',\n    newenvironment: 'NewEnvironment',\n    renewenvironment: 'NewEnvironment',\n    def: 'MacroDef',\n    'let': 'Let'\n}, NewcommandMethods_js_1.default);\n//# sourceMappingURL=NewcommandMappings.js.map","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\n//\n// Core parser for mhchem syntax  (recursive)\n//\n/** @type {MhchemParser} */\nvar mhchemParser = {\n  //\n  // Parses mchem \\ce syntax\n  //\n  // Call like\n  //   go(\"H2O\");\n  //\n  go: function (input, stateMachine) {\n    if (!input) { return []; }\n    if (stateMachine === undefined) { stateMachine = 'ce'; }\n    var state = '0';\n\n    //\n    // String buffers for parsing:\n    //\n    // buffer.a == amount\n    // buffer.o == element\n    // buffer.b == left-side superscript\n    // buffer.p == left-side subscript\n    // buffer.q == right-side subscript\n    // buffer.d == right-side superscript\n    //\n    // buffer.r == arrow\n    // buffer.rdt == arrow, script above, type\n    // buffer.rd == arrow, script above, content\n    // buffer.rqt == arrow, script below, type\n    // buffer.rq == arrow, script below, content\n    //\n    // buffer.text_\n    // buffer.rm\n    // etc.\n    //\n    // buffer.parenthesisLevel == int, starting at 0\n    // buffer.sb == bool, space before\n    // buffer.beginsWithBond == bool\n    //\n    // These letters are also used as state names.\n    //\n    // Other states:\n    // 0 == begin of main part (arrow/operator unlikely)\n    // 1 == next entity\n    // 2 == next entity (arrow/operator unlikely)\n    // 3 == next atom\n    // c == macro\n    //\n    /** @type {Buffer} */\n    var buffer = {};\n    buffer['parenthesisLevel'] = 0;\n\n    input = input.replace(/\\n/g, \" \");\n    input = input.replace(/[\\u2212\\u2013\\u2014\\u2010]/g, \"-\");\n    input = input.replace(/[\\u2026]/g, \"...\");\n\n    //\n    // Looks through mhchemParser.transitions, to execute a matching action\n    // (recursive)\n    //\n    var lastInput;\n    var watchdog = 10;\n    /** @type {ParserOutput[]} */\n    var output = [];\n    while (true) {\n      if (lastInput !== input) {\n        watchdog = 10;\n        lastInput = input;\n      } else {\n        watchdog--;\n      }\n      //\n      // Find actions in transition table\n      //\n      var machine = mhchemParser.stateMachines[stateMachine];\n      var t = machine.transitions[state] || machine.transitions['*'];\n      iterateTransitions:\n      for (var i=0; i<t.length; i++) {\n        var matches = mhchemParser.patterns.match_(t[i].pattern, input);\n        if (matches) {\n          //\n          // Execute actions\n          //\n          var task = t[i].task;\n          for (var iA=0; iA<task.action_.length; iA++) {\n            var o;\n            //\n            // Find and execute action\n            //\n            if (machine.actions[task.action_[iA].type_]) {\n              o = machine.actions[task.action_[iA].type_](buffer, matches.match_, task.action_[iA].option);\n            } else if (mhchemParser.actions[task.action_[iA].type_]) {\n              o = mhchemParser.actions[task.action_[iA].type_](buffer, matches.match_, task.action_[iA].option);\n            } else {\n              throw [\"MhchemBugA\", \"mhchem bug A. Please report. (\" + task.action_[iA].type_ + \")\"];  // Trying to use non-existing action\n            }\n            //\n            // Add output\n            //\n            mhchemParser.concatArray(output, o);\n          }\n          //\n          // Set next state,\n          // Shorten input,\n          // Continue with next character\n          //   (= apply only one transition per position)\n          //\n          state = task.nextState || state;\n          if (input.length > 0) {\n            if (!task.revisit) {\n              input = matches.remainder;\n            }\n            if (!task.toContinue) {\n              break iterateTransitions;\n            }\n          } else {\n            return output;\n          }\n        }\n      }\n      //\n      // Prevent infinite loop\n      //\n      if (watchdog <= 0) {\n        throw [\"MhchemBugU\", \"mhchem bug U. Please report.\"];  // Unexpected character\n      }\n    }\n  },\n  concatArray: function (a, b) {\n    if (b) {\n      if (Array.isArray(b)) {\n        for (var iB=0; iB<b.length; iB++) {\n          a.push(b[iB]);\n        }\n      } else {\n        a.push(b);\n      }\n    }\n  },\n\n  patterns: {\n    //\n    // Matching patterns\n    // either regexps or function that return null or {match_:\"a\", remainder:\"bc\"}\n    //\n    patterns: {\n      // property names must not look like integers (\"2\") for correct property traversal order, later on\n      'empty': /^$/,\n      'else': /^./,\n      'else2': /^./,\n      'space': /^\\s/,\n      'space A': /^\\s(?=[A-Z\\\\$])/,\n      'space$': /^\\s$/,\n      'a-z': /^[a-z]/,\n      'x': /^x/,\n      'x$': /^x$/,\n      'i$': /^i$/,\n      'letters': /^(?:[a-zA-Z\\u03B1-\\u03C9\\u0391-\\u03A9?@]|(?:\\\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\\s+|\\{\\}|(?![a-zA-Z]))))+/,\n      '\\\\greek': /^\\\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\\s+|\\{\\}|(?![a-zA-Z]))/,\n      'one lowercase latin letter $': /^(?:([a-z])(?:$|[^a-zA-Z]))$/,\n      '$one lowercase latin letter$ $': /^\\$(?:([a-z])(?:$|[^a-zA-Z]))\\$$/,\n      'one lowercase greek letter $': /^(?:\\$?[\\u03B1-\\u03C9]\\$?|\\$?\\\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\\s*\\$?)(?:\\s+|\\{\\}|(?![a-zA-Z]))$/,\n      'digits': /^[0-9]+/,\n      '-9.,9': /^[+\\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\\.[0-9]+))/,\n      '-9.,9 no missing 0': /^[+\\-]?[0-9]+(?:[.,][0-9]+)?/,\n      '(-)(9.,9)(e)(99)': function (input) {\n        var m = input.match(/^(\\+\\-|\\+\\/\\-|\\+|\\-|\\\\pm\\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\\.[0-9]+))?(\\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\\.[0-9]+))\\))?(?:([eE]|\\s*(\\*|x|\\\\times|\\u00D7)\\s*10\\^)([+\\-]?[0-9]+|\\{[+\\-]?[0-9]+\\}))?/);\n        if (m && m[0]) {\n          return { match_: m.splice(1), remainder: input.substr(m[0].length) };\n        }\n        return null;\n      },\n      '(-)(9)^(-9)': function (input) {\n        var m = input.match(/^(\\+\\-|\\+\\/\\-|\\+|\\-|\\\\pm\\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\\.[0-9]+)?)\\^([+\\-]?[0-9]+|\\{[+\\-]?[0-9]+\\})/);\n        if (m && m[0]) {\n          return { match_: m.splice(1), remainder: input.substr(m[0].length) };\n        }\n        return null;\n      },\n      'state of aggregation $': function (input) {  // ... or crystal system\n        var a = mhchemParser.patterns.findObserveGroups(input, \"\", /^\\([a-z]{1,3}(?=[\\),])/, \")\", \"\");  // (aq), (aq,$\\infty$), (aq, sat)\n        if (a  &&  a.remainder.match(/^($|[\\s,;\\)\\]\\}])/)) { return a; }  //  AND end of 'phrase'\n        var m = input.match(/^(?:\\((?:\\\\ca\\s?)?\\$[amothc]\\$\\))/);  // OR crystal system ($o$) (\\ca$c$)\n        if (m) {\n          return { match_: m[0], remainder: input.substr(m[0].length) };\n        }\n        return null;\n      },\n      '_{(state of aggregation)}$': /^_\\{(\\([a-z]{1,3}\\))\\}/,\n      '{[(': /^(?:\\\\\\{|\\[|\\()/,\n      ')]}': /^(?:\\)|\\]|\\\\\\})/,\n      ', ': /^[,;]\\s*/,\n      ',': /^[,;]/,\n      '.': /^[.]/,\n      '. ': /^([.\\u22C5\\u00B7\\u2022])\\s*/,\n      '...': /^\\.\\.\\.(?=$|[^.])/,\n      '* ': /^([*])\\s*/,\n      '^{(...)}': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"^{\", \"\", \"\", \"}\"); },\n      '^($...$)': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"^\", \"$\", \"$\", \"\"); },\n      '^a': /^\\^([0-9]+|[^\\\\_])/,\n      '^\\\\x{}{}': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"^\", /^\\\\[a-zA-Z]+\\{/, \"}\", \"\", \"\", \"{\", \"}\", \"\", true); },\n      '^\\\\x{}': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"^\", /^\\\\[a-zA-Z]+\\{/, \"}\", \"\"); },\n      '^\\\\x': /^\\^(\\\\[a-zA-Z]+)\\s*/,\n      '^(-1)': /^\\^(-?\\d+)/,\n      '\\'': /^'/,\n      '_{(...)}': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"_{\", \"\", \"\", \"}\"); },\n      '_($...$)': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"_\", \"$\", \"$\", \"\"); },\n      '_9': /^_([+\\-]?[0-9]+|[^\\\\])/,\n      '_\\\\x{}{}': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"_\", /^\\\\[a-zA-Z]+\\{/, \"}\", \"\", \"\", \"{\", \"}\", \"\", true); },\n      '_\\\\x{}': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"_\", /^\\\\[a-zA-Z]+\\{/, \"}\", \"\"); },\n      '_\\\\x': /^_(\\\\[a-zA-Z]+)\\s*/,\n      '^_': /^(?:\\^(?=_)|\\_(?=\\^)|[\\^_]$)/,\n      '{}': /^\\{\\}/,\n      '{...}': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"\", \"{\", \"}\", \"\"); },\n      '{(...)}': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"{\", \"\", \"\", \"}\"); },\n      '$...$': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"\", \"$\", \"$\", \"\"); },\n      '${(...)}$': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"${\", \"\", \"\", \"}$\"); },\n      '$(...)$': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"$\", \"\", \"\", \"$\"); },\n      '=<>': /^[=<>]/,\n      '#': /^[#\\u2261]/,\n      '+': /^\\+/,\n      '-$': /^-(?=[\\s_},;\\]/]|$|\\([a-z]+\\))/,  // -space -, -; -] -/ -$ -state-of-aggregation\n      '-9': /^-(?=[0-9])/,\n      '- orbital overlap': /^-(?=(?:[spd]|sp)(?:$|[\\s,;\\)\\]\\}]))/,\n      '-': /^-/,\n      'pm-operator': /^(?:\\\\pm|\\$\\\\pm\\$|\\+-|\\+\\/-)/,\n      'operator': /^(?:\\+|(?:[\\-=<>]|<<|>>|\\\\approx|\\$\\\\approx\\$)(?=\\s|$|-?[0-9]))/,\n      'arrowUpDown': /^(?:v|\\(v\\)|\\^|\\(\\^\\))(?=$|[\\s,;\\)\\]\\}])/,\n      '\\\\bond{(...)}': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"\\\\bond{\", \"\", \"\", \"}\"); },\n      '->': /^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\\u2192\\u27F6\\u21CC])/,\n      'CMT': /^[CMT](?=\\[)/,\n      '[(...)]': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"[\", \"\", \"\", \"]\"); },\n      '1st-level escape': /^(&|\\\\\\\\|\\\\hline)\\s*/,\n      '\\\\,': /^(?:\\\\[,\\ ;:])/,  // \\\\x - but output no space before\n      '\\\\x{}{}': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"\", /^\\\\[a-zA-Z]+\\{/, \"}\", \"\", \"\", \"{\", \"}\", \"\", true); },\n      '\\\\x{}': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"\", /^\\\\[a-zA-Z]+\\{/, \"}\", \"\"); },\n      '\\\\ca': /^\\\\ca(?:\\s+|(?![a-zA-Z]))/,\n      '\\\\x': /^(?:\\\\[a-zA-Z]+\\s*|\\\\[_&{}%])/,\n      'orbital': /^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,  // only those with numbers in front, because the others will be formatted correctly anyway\n      'others': /^[\\/~|]/,\n      '\\\\frac{(...)}': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"\\\\frac{\", \"\", \"\", \"}\", \"{\", \"\", \"\", \"}\"); },\n      '\\\\overset{(...)}': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"\\\\overset{\", \"\", \"\", \"}\", \"{\", \"\", \"\", \"}\"); },\n      '\\\\underset{(...)}': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"\\\\underset{\", \"\", \"\", \"}\", \"{\", \"\", \"\", \"}\"); },\n      '\\\\underbrace{(...)}': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"\\\\underbrace{\", \"\", \"\", \"}_\", \"{\", \"\", \"\", \"}\"); },\n      '\\\\color{(...)}0': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"\\\\color{\", \"\", \"\", \"}\"); },\n      '\\\\color{(...)}{(...)}1': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"\\\\color{\", \"\", \"\", \"}\", \"{\", \"\", \"\", \"}\"); },\n      '\\\\color(...){(...)}2': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"\\\\color\", \"\\\\\", \"\", /^(?=\\{)/, \"{\", \"\", \"\", \"}\"); },\n      '\\\\ce{(...)}': function (input) { return mhchemParser.patterns.findObserveGroups(input, \"\\\\ce{\", \"\", \"\", \"}\"); },\n      'oxidation$': /^(?:[+-][IVX]+|\\\\pm\\s*0|\\$\\\\pm\\$\\s*0)$/,\n      'd-oxidation$': /^(?:[+-]?\\s?[IVX]+|\\\\pm\\s*0|\\$\\\\pm\\$\\s*0)$/,  // 0 could be oxidation or charge\n      'roman numeral': /^[IVX]+/,\n      '1/2$': /^[+\\-]?(?:[0-9]+|\\$[a-z]\\$|[a-z])\\/[0-9]+(?:\\$[a-z]\\$|[a-z])?$/,\n      'amount': function (input) {\n        var match;\n        // e.g. 2, 0.5, 1/2, -2, n/2, +;  $a$ could be added later in parsing\n        match = input.match(/^(?:(?:(?:\\([+\\-]?[0-9]+\\/[0-9]+\\)|[+\\-]?(?:[0-9]+|\\$[a-z]\\$|[a-z])\\/[0-9]+|[+\\-]?[0-9]+[.,][0-9]+|[+\\-]?\\.[0-9]+|[+\\-]?[0-9]+)(?:[a-z](?=\\s*[A-Z]))?)|[+\\-]?[a-z](?=\\s*[A-Z])|\\+(?!\\s))/);\n        if (match) {\n          return { match_: match[0], remainder: input.substr(match[0].length) };\n        }\n        var a = mhchemParser.patterns.findObserveGroups(input, \"\", \"$\", \"$\", \"\");\n        if (a) {  // e.g. $2n-1$, $-$\n          match = a.match_.match(/^\\$(?:\\(?[+\\-]?(?:[0-9]*[a-z]?[+\\-])?[0-9]*[a-z](?:[+\\-][0-9]*[a-z]?)?\\)?|\\+|-)\\$$/);\n          if (match) {\n            return { match_: match[0], remainder: input.substr(match[0].length) };\n          }\n        }\n        return null;\n      },\n      'amount2': function (input) { return this['amount'](input); },\n      '(KV letters),': /^(?:[A-Z][a-z]{0,2}|i)(?=,)/,\n      'formula$': function (input) {\n        if (input.match(/^\\([a-z]+\\)$/)) { return null; }  // state of aggregation = no formula\n        var match = input.match(/^(?:[a-z]|(?:[0-9\\ \\+\\-\\,\\.\\(\\)]+[a-z])+[0-9\\ \\+\\-\\,\\.\\(\\)]*|(?:[a-z][0-9\\ \\+\\-\\,\\.\\(\\)]+)+[a-z]?)$/);\n        if (match) {\n          return { match_: match[0], remainder: input.substr(match[0].length) };\n        }\n        return null;\n      },\n      'uprightEntities': /^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,\n      '/': /^\\s*(\\/)\\s*/,\n      '//': /^\\s*(\\/\\/)\\s*/,\n      '*': /^\\s*[*.]\\s*/\n    },\n    findObserveGroups: function (input, begExcl, begIncl, endIncl, endExcl, beg2Excl, beg2Incl, end2Incl, end2Excl, combine) {\n      /** @type {{(input: string, pattern: string | RegExp): string | string[] | null;}} */\n      var _match = function (input, pattern) {\n        if (typeof pattern === \"string\") {\n          if (input.indexOf(pattern) !== 0) { return null; }\n          return pattern;\n        } else {\n          var match = input.match(pattern);\n          if (!match) { return null; }\n          return match[0];\n        }\n      };\n      /** @type {{(input: string, i: number, endChars: string | RegExp): {endMatchBegin: number, endMatchEnd: number} | null;}} */\n      var _findObserveGroups = function (input, i, endChars) {\n        var braces = 0;\n        while (i < input.length) {\n          var a = input.charAt(i);\n          var match = _match(input.substr(i), endChars);\n          if (match !== null  &&  braces === 0) {\n            return { endMatchBegin: i, endMatchEnd: i + match.length };\n          } else if (a === \"{\") {\n            braces++;\n          } else if (a === \"}\") {\n            if (braces === 0) {\n              throw [\"ExtraCloseMissingOpen\", \"Extra close brace or missing open brace\"];\n            } else {\n              braces--;\n            }\n          }\n          i++;\n        }\n        if (braces > 0) {\n          return null;\n        }\n        return null;\n      };\n      var match = _match(input, begExcl);\n      if (match === null) { return null; }\n      input = input.substr(match.length);\n      match = _match(input, begIncl);\n      if (match === null) { return null; }\n      var e = _findObserveGroups(input, match.length, endIncl || endExcl);\n      if (e === null) { return null; }\n      var match1 = input.substring(0, (endIncl ? e.endMatchEnd : e.endMatchBegin));\n      if (!(beg2Excl || beg2Incl)) {\n        return {\n          match_: match1,\n          remainder: input.substr(e.endMatchEnd)\n        };\n      } else {\n        var group2 = this.findObserveGroups(input.substr(e.endMatchEnd), beg2Excl, beg2Incl, end2Incl, end2Excl);\n        if (group2 === null) { return null; }\n        /** @type {string[]} */\n        var matchRet = [match1, group2.match_];\n        return {\n          match_: (combine ? matchRet.join(\"\") : matchRet),\n          remainder: group2.remainder\n        };\n      }\n    },\n\n    //\n    // Matching function\n    // e.g. match(\"a\", input) will look for the regexp called \"a\" and see if it matches\n    // returns null or {match_:\"a\", remainder:\"bc\"}\n    //\n    match_: function (m, input) {\n      var pattern = mhchemParser.patterns.patterns[m];\n      if (pattern === undefined) {\n        throw [\"MhchemBugP\", \"mhchem bug P. Please report. (\" + m + \")\"];  // Trying to use non-existing pattern\n      } else if (typeof pattern === \"function\") {\n        return mhchemParser.patterns.patterns[m](input);  // cannot use cached var pattern here, because some pattern functions need this===mhchemParser\n      } else {  // RegExp\n        var match = input.match(pattern);\n        if (match) {\n          var mm;\n          if (match[2]) {\n            mm = [ match[1], match[2] ];\n          } else if (match[1]) {\n            mm = match[1];\n          } else {\n            mm = match[0];\n          }\n          return { match_: mm, remainder: input.substr(match[0].length) };\n        }\n        return null;\n      }\n    }\n  },\n\n  //\n  // Generic state machine actions\n  //\n  actions: {\n    'a=': function (buffer, m) { buffer.a = (buffer.a || \"\") + m; },\n    'b=': function (buffer, m) { buffer.b = (buffer.b || \"\") + m; },\n    'p=': function (buffer, m) { buffer.p = (buffer.p || \"\") + m; },\n    'o=': function (buffer, m) { buffer.o = (buffer.o || \"\") + m; },\n    'q=': function (buffer, m) { buffer.q = (buffer.q || \"\") + m; },\n    'd=': function (buffer, m) { buffer.d = (buffer.d || \"\") + m; },\n    'rm=': function (buffer, m) { buffer.rm = (buffer.rm || \"\") + m; },\n    'text=': function (buffer, m) { buffer.text_ = (buffer.text_ || \"\") + m; },\n    'insert': function (buffer, m, a) { return { type_: a }; },\n    'insert+p1': function (buffer, m, a) { return { type_: a, p1: m }; },\n    'insert+p1+p2': function (buffer, m, a) { return { type_: a, p1: m[0], p2: m[1] }; },\n    'copy': function (buffer, m) { return m; },\n    'rm': function (buffer, m) { return { type_: 'rm', p1: m || \"\"}; },\n    'text': function (buffer, m) { return mhchemParser.go(m, 'text'); },\n    '{text}': function (buffer, m) {\n      var ret = [ \"{\" ];\n      mhchemParser.concatArray(ret, mhchemParser.go(m, 'text'));\n      ret.push(\"}\");\n      return ret;\n    },\n    'tex-math': function (buffer, m) { return mhchemParser.go(m, 'tex-math'); },\n    'tex-math tight': function (buffer, m) { return mhchemParser.go(m, 'tex-math tight'); },\n    'bond': function (buffer, m, k) { return { type_: 'bond', kind_: k || m }; },\n    'color0-output': function (buffer, m) { return { type_: 'color0', color: m[0] }; },\n    'ce': function (buffer, m) { return mhchemParser.go(m); },\n    '1/2': function (buffer, m) {\n      /** @type {ParserOutput[]} */\n      var ret = [];\n      if (m.match(/^[+\\-]/)) {\n        ret.push(m.substr(0, 1));\n        m = m.substr(1);\n      }\n      var n = m.match(/^([0-9]+|\\$[a-z]\\$|[a-z])\\/([0-9]+)(\\$[a-z]\\$|[a-z])?$/);\n      n[1] = n[1].replace(/\\$/g, \"\");\n      ret.push({ type_: 'frac', p1: n[1], p2: n[2] });\n      if (n[3]) {\n        n[3] = n[3].replace(/\\$/g, \"\");\n        ret.push({ type_: 'tex-math', p1: n[3] });\n      }\n      return ret;\n    },\n    '9,9': function (buffer, m) { return mhchemParser.go(m, '9,9'); }\n  },\n  //\n  // createTransitions\n  // convert  { 'letter': { 'state': { action_: 'output' } } }  to  { 'state' => [ { pattern: 'letter', task: { action_: [{type_: 'output'}] } } ] }\n  // with expansion of 'a|b' to 'a' and 'b' (at 2 places)\n  //\n  createTransitions: function (o) {\n    var pattern, state;\n    /** @type {string[]} */\n    var stateArray;\n    var i;\n    //\n    // 1. Collect all states\n    //\n    /** @type {Transitions} */\n    var transitions = {};\n    for (pattern in o) {\n      for (state in o[pattern]) {\n        stateArray = state.split(\"|\");\n        o[pattern][state].stateArray = stateArray;\n        for (i=0; i<stateArray.length; i++) {\n          transitions[stateArray[i]] = [];\n        }\n      }\n    }\n    //\n    // 2. Fill states\n    //\n    for (pattern in o) {\n      for (state in o[pattern]) {\n        stateArray = o[pattern][state].stateArray || [];\n        for (i=0; i<stateArray.length; i++) {\n          //\n          // 2a. Normalize actions into array:  'text=' ==> [{type_:'text='}]\n          // (Note to myself: Resolving the function here would be problematic. It would need .bind (for *this*) and currying (for *option*).)\n          //\n          /** @type {any} */\n          var p = o[pattern][state];\n          if (p.action_) {\n            p.action_ = [].concat(p.action_);\n            for (var k=0; k<p.action_.length; k++) {\n              if (typeof p.action_[k] === \"string\") {\n                p.action_[k] = { type_: p.action_[k] };\n              }\n            }\n          } else {\n            p.action_ = [];\n          }\n          //\n          // 2.b Multi-insert\n          //\n          var patternArray = pattern.split(\"|\");\n          for (var j=0; j<patternArray.length; j++) {\n            if (stateArray[i] === '*') {  // insert into all\n              for (var t in transitions) {\n                transitions[t].push({ pattern: patternArray[j], task: p });\n              }\n            } else {\n              transitions[stateArray[i]].push({ pattern: patternArray[j], task: p });\n            }\n          }\n        }\n      }\n    }\n    return transitions;\n  },\n  stateMachines: {}\n};\n\n//\n// Definition of state machines\n//\nmhchemParser.stateMachines = {\n  //\n  // \\ce state machines\n  //\n  //#region ce\n  'ce': {  // main parser\n    transitions: mhchemParser.createTransitions({\n      'empty': {\n        '*': { action_: 'output' } },\n      'else':  {\n        '0|1|2': { action_: 'beginsWithBond=false', revisit: true, toContinue: true } },\n      'oxidation$': {\n        '0': { action_: 'oxidation-output' } },\n      'CMT': {\n        'r': { action_: 'rdt=', nextState: 'rt' },\n        'rd': { action_: 'rqt=', nextState: 'rdt' } },\n      'arrowUpDown': {\n        '0|1|2|as': { action_: [ 'sb=false', 'output', 'operator' ], nextState: '1' } },\n      'uprightEntities': {\n        '0|1|2': { action_: [ 'o=', 'output' ], nextState: '1' } },\n      'orbital': {\n        '0|1|2|3': { action_: 'o=', nextState: 'o' } },\n      '->': {\n        '0|1|2|3': { action_: 'r=', nextState: 'r' },\n        'a|as': { action_: [ 'output', 'r=' ], nextState: 'r' },\n        '*': { action_: [ 'output', 'r=' ], nextState: 'r' } },\n      '+': {\n        'o': { action_: 'd= kv',  nextState: 'd' },\n        'd|D': { action_: 'd=', nextState: 'd' },\n        'q': { action_: 'd=',  nextState: 'qd' },\n        'qd|qD': { action_: 'd=', nextState: 'qd' },\n        'dq': { action_: [ 'output', 'd=' ], nextState: 'd' },\n        '3': { action_: [ 'sb=false', 'output', 'operator' ], nextState: '0' } },\n      'amount': {\n        '0|2': { action_: 'a=', nextState: 'a' } },\n      'pm-operator': {\n        '0|1|2|a|as': { action_: [ 'sb=false', 'output', { type_: 'operator', option: '\\\\pm' } ], nextState: '0' } },\n      'operator': {\n        '0|1|2|a|as': { action_: [ 'sb=false', 'output', 'operator' ], nextState: '0' } },\n      '-$': {\n        'o|q': { action_: [ 'charge or bond', 'output' ],  nextState: 'qd' },\n        'd': { action_: 'd=', nextState: 'd' },\n        'D': { action_: [ 'output', { type_: 'bond', option: \"-\" } ], nextState: '3' },\n        'q': { action_: 'd=',  nextState: 'qd' },\n        'qd': { action_: 'd=', nextState: 'qd' },\n        'qD|dq': { action_: [ 'output', { type_: 'bond', option: \"-\" } ], nextState: '3' } },\n      '-9': {\n        '3|o': { action_: [ 'output', { type_: 'insert', option: 'hyphen' } ], nextState: '3' } },\n      '- orbital overlap': {\n        'o': { action_: [ 'output', { type_: 'insert', option: 'hyphen' } ], nextState: '2' },\n        'd': { action_: [ 'output', { type_: 'insert', option: 'hyphen' } ], nextState: '2' } },\n      '-': {\n        '0|1|2': { action_: [ { type_: 'output', option: 1 }, 'beginsWithBond=true', { type_: 'bond', option: \"-\" } ], nextState: '3' },\n        '3': { action_: { type_: 'bond', option: \"-\" } },\n        'a': { action_: [ 'output', { type_: 'insert', option: 'hyphen' } ], nextState: '2' },\n        'as': { action_: [ { type_: 'output', option: 2 }, { type_: 'bond', option: \"-\" } ], nextState: '3' },\n        'b': { action_: 'b=' },\n        'o': { action_: { type_: '- after o/d', option: false }, nextState: '2' },\n        'q': { action_: { type_: '- after o/d', option: false }, nextState: '2' },\n        'd|qd|dq': { action_: { type_: '- after o/d', option: true }, nextState: '2' },\n        'D|qD|p': { action_: [ 'output', { type_: 'bond', option: \"-\" } ], nextState: '3' } },\n      'amount2': {\n        '1|3': { action_: 'a=', nextState: 'a' } },\n      'letters': {\n        '0|1|2|3|a|as|b|p|bp|o': { action_: 'o=', nextState: 'o' },\n        'q|dq': { action_: ['output', 'o='], nextState: 'o' },\n        'd|D|qd|qD': { action_: 'o after d', nextState: 'o' } },\n      'digits': {\n        'o': { action_: 'q=', nextState: 'q' },\n        'd|D': { action_: 'q=', nextState: 'dq' },\n        'q': { action_: [ 'output', 'o=' ], nextState: 'o' },\n        'a': { action_: 'o=', nextState: 'o' } },\n      'space A': {\n        'b|p|bp': {} },\n      'space': {\n        'a': { nextState: 'as' },\n        '0': { action_: 'sb=false' },\n        '1|2': { action_: 'sb=true' },\n        'r|rt|rd|rdt|rdq': { action_: 'output', nextState: '0' },\n        '*': { action_: [ 'output', 'sb=true' ], nextState: '1'} },\n      '1st-level escape': {\n        '1|2': { action_: [ 'output', { type_: 'insert+p1', option: '1st-level escape' } ] },\n        '*': { action_: [ 'output', { type_: 'insert+p1', option: '1st-level escape' } ], nextState: '0' } },\n      '[(...)]': {\n        'r|rt': { action_: 'rd=', nextState: 'rd' },\n        'rd|rdt': { action_: 'rq=', nextState: 'rdq' } },\n      '...': {\n        'o|d|D|dq|qd|qD': { action_: [ 'output', { type_: 'bond', option: \"...\" } ], nextState: '3' },\n        '*': { action_: [ { type_: 'output', option: 1 }, { type_: 'insert', option: 'ellipsis' } ], nextState: '1' } },\n      '. |* ': {\n        '*': { action_: [ 'output', { type_: 'insert', option: 'addition compound' } ], nextState: '1' } },\n      'state of aggregation $': {\n        '*': { action_: [ 'output', 'state of aggregation' ], nextState: '1' } },\n      '{[(': {\n        'a|as|o': { action_: [ 'o=', 'output', 'parenthesisLevel++' ], nextState: '2' },\n        '0|1|2|3': { action_: [ 'o=', 'output', 'parenthesisLevel++' ], nextState: '2' },\n        '*': { action_: [ 'output', 'o=', 'output', 'parenthesisLevel++' ], nextState: '2' } },\n      ')]}': {\n        '0|1|2|3|b|p|bp|o': { action_: [ 'o=', 'parenthesisLevel--' ], nextState: 'o' },\n        'a|as|d|D|q|qd|qD|dq': { action_: [ 'output', 'o=', 'parenthesisLevel--' ], nextState: 'o' } },\n      ', ': {\n        '*': { action_: [ 'output', 'comma' ], nextState: '0' } },\n      '^_': {  // ^ and _ without a sensible argument\n        '*': { } },\n      '^{(...)}|^($...$)': {\n        '0|1|2|as': { action_: 'b=', nextState: 'b' },\n        'p': { action_: 'b=', nextState: 'bp' },\n        '3|o': { action_: 'd= kv', nextState: 'D' },\n        'q': { action_: 'd=', nextState: 'qD' },\n        'd|D|qd|qD|dq': { action_: [ 'output', 'd=' ], nextState: 'D' } },\n      '^a|^\\\\x{}{}|^\\\\x{}|^\\\\x|\\'': {\n        '0|1|2|as': { action_: 'b=', nextState: 'b' },\n        'p': { action_: 'b=', nextState: 'bp' },\n        '3|o': { action_: 'd= kv', nextState: 'd' },\n        'q': { action_: 'd=', nextState: 'qd' },\n        'd|qd|D|qD': { action_: 'd=' },\n        'dq': { action_: [ 'output', 'd=' ], nextState: 'd' } },\n      '_{(state of aggregation)}$': {\n        'd|D|q|qd|qD|dq': { action_: [ 'output', 'q=' ], nextState: 'q' } },\n      '_{(...)}|_($...$)|_9|_\\\\x{}{}|_\\\\x{}|_\\\\x': {\n        '0|1|2|as': { action_: 'p=', nextState: 'p' },\n        'b': { action_: 'p=', nextState: 'bp' },\n        '3|o': { action_: 'q=', nextState: 'q' },\n        'd|D': { action_: 'q=', nextState: 'dq' },\n        'q|qd|qD|dq': { action_: [ 'output', 'q=' ], nextState: 'q' } },\n      '=<>': {\n        '0|1|2|3|a|as|o|q|d|D|qd|qD|dq': { action_: [ { type_: 'output', option: 2 }, 'bond' ], nextState: '3' } },\n      '#': {\n        '0|1|2|3|a|as|o': { action_: [ { type_: 'output', option: 2 }, { type_: 'bond', option: \"#\" } ], nextState: '3' } },\n      '{}': {\n        '*': { action_: { type_: 'output', option: 1 },  nextState: '1' } },\n      '{...}': {\n        '0|1|2|3|a|as|b|p|bp': { action_: 'o=', nextState: 'o' },\n        'o|d|D|q|qd|qD|dq': { action_: [ 'output', 'o=' ], nextState: 'o' } },\n      '$...$': {\n        'a': { action_: 'a=' },  // 2$n$\n        '0|1|2|3|as|b|p|bp|o': { action_: 'o=', nextState: 'o' },  // not 'amount'\n        'as|o': { action_: 'o=' },\n        'q|d|D|qd|qD|dq': { action_: [ 'output', 'o=' ], nextState: 'o' } },\n      '\\\\bond{(...)}': {\n        '*': { action_: [ { type_: 'output', option: 2 }, 'bond' ], nextState: \"3\" } },\n      '\\\\frac{(...)}': {\n        '*': { action_: [ { type_: 'output', option: 1 }, 'frac-output' ], nextState: '3' } },\n      '\\\\overset{(...)}': {\n        '*': { action_: [ { type_: 'output', option: 2 }, 'overset-output' ], nextState: '3' } },\n      '\\\\underset{(...)}': {\n        '*': { action_: [ { type_: 'output', option: 2 }, 'underset-output' ], nextState: '3' } },\n      '\\\\underbrace{(...)}': {\n        '*': { action_: [ { type_: 'output', option: 2 }, 'underbrace-output' ], nextState: '3' } },\n      '\\\\color{(...)}{(...)}1|\\\\color(...){(...)}2': {\n        '*': { action_: [ { type_: 'output', option: 2 }, 'color-output' ], nextState: '3' } },\n      '\\\\color{(...)}0': {\n        '*': { action_: [ { type_: 'output', option: 2 }, 'color0-output' ] } },\n      '\\\\ce{(...)}': {\n        '*': { action_: [ { type_: 'output', option: 2 }, 'ce' ], nextState: '3' } },\n      '\\\\,': {\n        '*': { action_: [ { type_: 'output', option: 1 }, 'copy' ], nextState: '1' } },\n      '\\\\x{}{}|\\\\x{}|\\\\x': {\n        '0|1|2|3|a|as|b|p|bp|o|c0': { action_: [ 'o=', 'output' ], nextState: '3' },\n        '*': { action_: ['output', 'o=', 'output' ], nextState: '3' } },\n      'others': {\n        '*': { action_: [ { type_: 'output', option: 1 }, 'copy' ], nextState: '3' } },\n      'else2': {\n        'a': { action_: 'a to o', nextState: 'o', revisit: true },\n        'as': { action_: [ 'output', 'sb=true' ], nextState: '1', revisit: true },\n        'r|rt|rd|rdt|rdq': { action_: [ 'output' ], nextState: '0', revisit: true },\n        '*': { action_: [ 'output', 'copy' ], nextState: '3' } }\n    }),\n    actions: {\n      'o after d': function (buffer, m) {\n        var ret;\n        if ((buffer.d || \"\").match(/^[0-9]+$/)) {\n          var tmp = buffer.d;\n          buffer.d = undefined;\n          ret = this['output'](buffer);\n          buffer.b = tmp;\n        } else {\n          ret = this['output'](buffer);\n        }\n        mhchemParser.actions['o='](buffer, m);\n        return ret;\n      },\n      'd= kv': function (buffer, m) {\n        buffer.d = m;\n        buffer.dType = 'kv';\n      },\n      'charge or bond': function (buffer, m) {\n        if (buffer['beginsWithBond']) {\n          /** @type {ParserOutput[]} */\n          var ret = [];\n          mhchemParser.concatArray(ret, this['output'](buffer));\n          mhchemParser.concatArray(ret, mhchemParser.actions['bond'](buffer, m, \"-\"));\n          return ret;\n        } else {\n          buffer.d = m;\n        }\n      },\n      '- after o/d': function (buffer, m, isAfterD) {\n        var c1 = mhchemParser.patterns.match_('orbital', buffer.o || \"\");\n        var c2 = mhchemParser.patterns.match_('one lowercase greek letter $', buffer.o || \"\");\n        var c3 = mhchemParser.patterns.match_('one lowercase latin letter $', buffer.o || \"\");\n        var c4 = mhchemParser.patterns.match_('$one lowercase latin letter$ $', buffer.o || \"\");\n        var hyphenFollows =  m===\"-\" && ( c1 && c1.remainder===\"\"  ||  c2  ||  c3  ||  c4 );\n        if (hyphenFollows && !buffer.a && !buffer.b && !buffer.p && !buffer.d && !buffer.q && !c1 && c3) {\n          buffer.o = '$' + buffer.o + '$';\n        }\n        /** @type {ParserOutput[]} */\n        var ret = [];\n        if (hyphenFollows) {\n          mhchemParser.concatArray(ret, this['output'](buffer));\n          ret.push({ type_: 'hyphen' });\n        } else {\n          c1 = mhchemParser.patterns.match_('digits', buffer.d || \"\");\n          if (isAfterD && c1 && c1.remainder==='') {\n            mhchemParser.concatArray(ret, mhchemParser.actions['d='](buffer, m));\n            mhchemParser.concatArray(ret, this['output'](buffer));\n          } else {\n            mhchemParser.concatArray(ret, this['output'](buffer));\n            mhchemParser.concatArray(ret, mhchemParser.actions['bond'](buffer, m, \"-\"));\n          }\n        }\n        return ret;\n      },\n      'a to o': function (buffer) {\n        buffer.o = buffer.a;\n        buffer.a = undefined;\n      },\n      'sb=true': function (buffer) { buffer.sb = true; },\n      'sb=false': function (buffer) { buffer.sb = false; },\n      'beginsWithBond=true': function (buffer) { buffer['beginsWithBond'] = true; },\n      'beginsWithBond=false': function (buffer) { buffer['beginsWithBond'] = false; },\n      'parenthesisLevel++': function (buffer) { buffer['parenthesisLevel']++; },\n      'parenthesisLevel--': function (buffer) { buffer['parenthesisLevel']--; },\n      'state of aggregation': function (buffer, m) {\n        return { type_: 'state of aggregation', p1: mhchemParser.go(m, 'o') };\n      },\n      'comma': function (buffer, m) {\n        var a = m.replace(/\\s*$/, '');\n        var withSpace = (a !== m);\n        if (withSpace  &&  buffer['parenthesisLevel'] === 0) {\n          return { type_: 'comma enumeration L', p1: a };\n        } else {\n          return { type_: 'comma enumeration M', p1: a };\n        }\n      },\n      'output': function (buffer, m, entityFollows) {\n        // entityFollows:\n        //   undefined = if we have nothing else to output, also ignore the just read space (buffer.sb)\n        //   1 = an entity follows, never omit the space if there was one just read before (can only apply to state 1)\n        //   2 = 1 + the entity can have an amount, so output a\\, instead of converting it to o (can only apply to states a|as)\n        /** @type {ParserOutput | ParserOutput[]} */\n        var ret;\n        if (!buffer.r) {\n          ret = [];\n          if (!buffer.a && !buffer.b && !buffer.p && !buffer.o && !buffer.q && !buffer.d && !entityFollows) {\n            //ret = [];\n          } else {\n            if (buffer.sb) {\n              ret.push({ type_: 'entitySkip' });\n            }\n            if (!buffer.o && !buffer.q && !buffer.d && !buffer.b && !buffer.p && entityFollows!==2) {\n              buffer.o = buffer.a;\n              buffer.a = undefined;\n            } else if (!buffer.o && !buffer.q && !buffer.d && (buffer.b || buffer.p)) {\n              buffer.o = buffer.a;\n              buffer.d = buffer.b;\n              buffer.q = buffer.p;\n              buffer.a = buffer.b = buffer.p = undefined;\n            } else {\n              if (buffer.o && buffer.dType==='kv' && mhchemParser.patterns.match_('d-oxidation$', buffer.d || \"\")) {\n                buffer.dType = 'oxidation';\n              } else if (buffer.o && buffer.dType==='kv' && !buffer.q) {\n                buffer.dType = undefined;\n              }\n            }\n            ret.push({\n              type_: 'chemfive',\n              a: mhchemParser.go(buffer.a, 'a'),\n              b: mhchemParser.go(buffer.b, 'bd'),\n              p: mhchemParser.go(buffer.p, 'pq'),\n              o: mhchemParser.go(buffer.o, 'o'),\n              q: mhchemParser.go(buffer.q, 'pq'),\n              d: mhchemParser.go(buffer.d, (buffer.dType === 'oxidation' ? 'oxidation' : 'bd')),\n              dType: buffer.dType\n            });\n          }\n        } else {  // r\n          /** @type {ParserOutput[]} */\n          var rd;\n          if (buffer.rdt === 'M') {\n            rd = mhchemParser.go(buffer.rd, 'tex-math');\n          } else if (buffer.rdt === 'T') {\n            rd = [ { type_: 'text', p1: buffer.rd || \"\" } ];\n          } else {\n            rd = mhchemParser.go(buffer.rd);\n          }\n          /** @type {ParserOutput[]} */\n          var rq;\n          if (buffer.rqt === 'M') {\n            rq = mhchemParser.go(buffer.rq, 'tex-math');\n          } else if (buffer.rqt === 'T') {\n            rq = [ { type_: 'text', p1: buffer.rq || \"\"} ];\n          } else {\n            rq = mhchemParser.go(buffer.rq);\n          }\n          ret = {\n            type_: 'arrow',\n            r: buffer.r,\n            rd: rd,\n            rq: rq\n          };\n        }\n        for (var p in buffer) {\n          if (p !== 'parenthesisLevel'  &&  p !== 'beginsWithBond') {\n            delete buffer[p];\n          }\n        }\n        return ret;\n      },\n      'oxidation-output': function (buffer, m) {\n        var ret = [ \"{\" ];\n        mhchemParser.concatArray(ret, mhchemParser.go(m, 'oxidation'));\n        ret.push(\"}\");\n        return ret;\n      },\n      'frac-output': function (buffer, m) {\n        return { type_: 'frac-ce', p1: mhchemParser.go(m[0]), p2: mhchemParser.go(m[1]) };\n      },\n      'overset-output': function (buffer, m) {\n        return { type_: 'overset', p1: mhchemParser.go(m[0]), p2: mhchemParser.go(m[1]) };\n      },\n      'underset-output': function (buffer, m) {\n        return { type_: 'underset', p1: mhchemParser.go(m[0]), p2: mhchemParser.go(m[1]) };\n      },\n      'underbrace-output': function (buffer, m) {\n        return { type_: 'underbrace', p1: mhchemParser.go(m[0]), p2: mhchemParser.go(m[1]) };\n      },\n      'color-output': function (buffer, m) {\n        return { type_: 'color', color1: m[0], color2: mhchemParser.go(m[1]) };\n      },\n      'r=': function (buffer, m) { buffer.r = m; },\n      'rdt=': function (buffer, m) { buffer.rdt = m; },\n      'rd=': function (buffer, m) { buffer.rd = m; },\n      'rqt=': function (buffer, m) { buffer.rqt = m; },\n      'rq=': function (buffer, m) { buffer.rq = m; },\n      'operator': function (buffer, m, p1) { return { type_: 'operator', kind_: (p1 || m) }; }\n    }\n  },\n  'a': {\n    transitions: mhchemParser.createTransitions({\n      'empty': {\n        '*': {} },\n      '1/2$': {\n        '0': { action_: '1/2' } },\n      'else': {\n        '0': { nextState: '1', revisit: true } },\n      '$(...)$': {\n        '*': { action_: 'tex-math tight', nextState: '1' } },\n      ',': {\n        '*': { action_: { type_: 'insert', option: 'commaDecimal' } } },\n      'else2': {\n        '*': { action_: 'copy' } }\n    }),\n    actions: {}\n  },\n  'o': {\n    transitions: mhchemParser.createTransitions({\n      'empty': {\n        '*': {} },\n      '1/2$': {\n        '0': { action_: '1/2' } },\n      'else': {\n        '0': { nextState: '1', revisit: true } },\n      'letters': {\n        '*': { action_: 'rm' } },\n      '\\\\ca': {\n        '*': { action_: { type_: 'insert', option: 'circa' } } },\n      '\\\\x{}{}|\\\\x{}|\\\\x': {\n        '*': { action_: 'copy' } },\n      '${(...)}$|$(...)$': {\n        '*': { action_: 'tex-math' } },\n      '{(...)}': {\n        '*': { action_: '{text}' } },\n      'else2': {\n        '*': { action_: 'copy' } }\n    }),\n    actions: {}\n  },\n  'text': {\n    transitions: mhchemParser.createTransitions({\n      'empty': {\n        '*': { action_: 'output' } },\n      '{...}': {\n        '*': { action_: 'text=' } },\n      '${(...)}$|$(...)$': {\n        '*': { action_: 'tex-math' } },\n      '\\\\greek': {\n        '*': { action_: [ 'output', 'rm' ] } },\n      '\\\\,|\\\\x{}{}|\\\\x{}|\\\\x': {\n        '*': { action_: [ 'output', 'copy' ] } },\n      'else': {\n        '*': { action_: 'text=' } }\n    }),\n    actions: {\n      'output': function (buffer) {\n        if (buffer.text_) {\n          /** @type {ParserOutput} */\n          var ret = { type_: 'text', p1: buffer.text_ };\n          for (var p in buffer) { delete buffer[p]; }\n          return ret;\n        }\n      }\n    }\n  },\n  'pq': {\n    transitions: mhchemParser.createTransitions({\n      'empty': {\n        '*': {} },\n      'state of aggregation $': {\n        '*': { action_: 'state of aggregation' } },\n      'i$': {\n        '0': { nextState: '!f', revisit: true } },\n      '(KV letters),': {\n        '0': { action_: 'rm', nextState: '0' } },\n      'formula$': {\n        '0': { nextState: 'f', revisit: true } },\n      '1/2$': {\n        '0': { action_: '1/2' } },\n      'else': {\n        '0': { nextState: '!f', revisit: true } },\n      '${(...)}$|$(...)$': {\n        '*': { action_: 'tex-math' } },\n      '{(...)}': {\n        '*': { action_: 'text' } },\n      'a-z': {\n        'f': { action_: 'tex-math' } },\n      'letters': {\n        '*': { action_: 'rm' } },\n      '-9.,9': {\n        '*': { action_: '9,9'  } },\n      ',': {\n        '*': { action_: { type_: 'insert+p1', option: 'comma enumeration S' } } },\n      '\\\\color{(...)}{(...)}1|\\\\color(...){(...)}2': {\n        '*': { action_: 'color-output' } },\n      '\\\\color{(...)}0': {\n        '*': { action_: 'color0-output' } },\n      '\\\\ce{(...)}': {\n        '*': { action_: 'ce' } },\n      '\\\\,|\\\\x{}{}|\\\\x{}|\\\\x': {\n        '*': { action_: 'copy' } },\n      'else2': {\n        '*': { action_: 'copy' } }\n    }),\n    actions: {\n      'state of aggregation': function (buffer, m) {\n        return { type_: 'state of aggregation subscript', p1: mhchemParser.go(m, 'o') };\n      },\n      'color-output': function (buffer, m) {\n        return { type_: 'color', color1: m[0], color2: mhchemParser.go(m[1], 'pq') };\n      }\n    }\n  },\n  'bd': {\n    transitions: mhchemParser.createTransitions({\n      'empty': {\n        '*': {} },\n      'x$': {\n        '0': { nextState: '!f', revisit: true } },\n      'formula$': {\n        '0': { nextState: 'f', revisit: true } },\n      'else': {\n        '0': { nextState: '!f', revisit: true } },\n      '-9.,9 no missing 0': {\n        '*': { action_: '9,9' } },\n      '.': {\n        '*': { action_: { type_: 'insert', option: 'electron dot' } } },\n      'a-z': {\n        'f': { action_: 'tex-math' } },\n      'x': {\n        '*': { action_: { type_: 'insert', option: 'KV x' } } },\n      'letters': {\n        '*': { action_: 'rm' } },\n      '\\'': {\n        '*': { action_: { type_: 'insert', option: 'prime' } } },\n      '${(...)}$|$(...)$': {\n        '*': { action_: 'tex-math' } },\n      '{(...)}': {\n        '*': { action_: 'text' } },\n      '\\\\color{(...)}{(...)}1|\\\\color(...){(...)}2': {\n        '*': { action_: 'color-output' } },\n      '\\\\color{(...)}0': {\n        '*': { action_: 'color0-output' } },\n      '\\\\ce{(...)}': {\n        '*': { action_: 'ce' } },\n      '\\\\,|\\\\x{}{}|\\\\x{}|\\\\x': {\n        '*': { action_: 'copy' } },\n      'else2': {\n        '*': { action_: 'copy' } }\n    }),\n    actions: {\n      'color-output': function (buffer, m) {\n        return { type_: 'color', color1: m[0], color2: mhchemParser.go(m[1], 'bd') };\n      }\n    }\n  },\n  'oxidation': {\n    transitions: mhchemParser.createTransitions({\n      'empty': {\n        '*': {} },\n      'roman numeral': {\n        '*': { action_: 'roman-numeral' } },\n      '${(...)}$|$(...)$': {\n        '*': { action_: 'tex-math' } },\n      'else': {\n        '*': { action_: 'copy' } }\n    }),\n    actions: {\n      'roman-numeral': function (buffer, m) { return { type_: 'roman numeral', p1: m || \"\" }; }\n    }\n  },\n  'tex-math': {\n    transitions: mhchemParser.createTransitions({\n      'empty': {\n        '*': { action_: 'output' } },\n      '\\\\ce{(...)}': {\n        '*': { action_: [ 'output', 'ce' ] } },\n      '{...}|\\\\,|\\\\x{}{}|\\\\x{}|\\\\x': {\n        '*': { action_: 'o=' } },\n      'else': {\n        '*': { action_: 'o=' } }\n    }),\n    actions: {\n      'output': function (buffer) {\n        if (buffer.o) {\n          /** @type {ParserOutput} */\n          var ret = { type_: 'tex-math', p1: buffer.o };\n          for (var p in buffer) { delete buffer[p]; }\n          return ret;\n        }\n      }\n    }\n  },\n  'tex-math tight': {\n    transitions: mhchemParser.createTransitions({\n      'empty': {\n        '*': { action_: 'output' } },\n      '\\\\ce{(...)}': {\n        '*': { action_: [ 'output', 'ce' ] } },\n      '{...}|\\\\,|\\\\x{}{}|\\\\x{}|\\\\x': {\n        '*': { action_: 'o=' } },\n      '-|+': {\n        '*': { action_: 'tight operator' } },\n      'else': {\n        '*': { action_: 'o=' } }\n    }),\n    actions: {\n      'tight operator': function (buffer, m) { buffer.o = (buffer.o || \"\") + \"{\"+m+\"}\"; },\n      'output': function (buffer) {\n        if (buffer.o) {\n          /** @type {ParserOutput} */\n          var ret = { type_: 'tex-math', p1: buffer.o };\n          for (var p in buffer) { delete buffer[p]; }\n          return ret;\n        }\n      }\n    }\n  },\n  '9,9': {\n    transitions: mhchemParser.createTransitions({\n      'empty': {\n        '*': {} },\n      ',': {\n        '*': { action_: 'comma' } },\n      'else': {\n        '*': { action_: 'copy' } }\n    }),\n    actions: {\n      'comma': function () { return { type_: 'commaDecimal' }; }\n    }\n  },\n  //#endregion\n  //\n  // \\pu state machines\n  //\n  //#region pu\n  'pu': {\n    transitions: mhchemParser.createTransitions({\n      'empty': {\n        '*': { action_: 'output' } },\n      'space$': {\n        '*': { action_: [ 'output', 'space' ] } },\n      '{[(|)]}': {\n        '0|a': { action_: 'copy' } },\n      '(-)(9)^(-9)': {\n        '0': { action_: 'number^', nextState: 'a' } },\n      '(-)(9.,9)(e)(99)': {\n        '0': { action_: 'enumber', nextState: 'a' } },\n      'space': {\n        '0|a': {} },\n      'pm-operator': {\n        '0|a': { action_: { type_: 'operator', option: '\\\\pm' }, nextState: '0' } },\n      'operator': {\n        '0|a': { action_: 'copy', nextState: '0' } },\n      '//': {\n        'd': { action_: 'o=', nextState: '/' } },\n      '/': {\n        'd': { action_: 'o=', nextState: '/' } },\n      '{...}|else': {\n        '0|d': { action_: 'd=', nextState: 'd' },\n        'a': { action_: [ 'space', 'd=' ], nextState: 'd' },\n        '/|q': { action_: 'q=', nextState: 'q' } }\n    }),\n    actions: {\n      'enumber': function (buffer, m) {\n        /** @type {ParserOutput[]} */\n        var ret = [];\n        if (m[0] === \"+-\"  ||  m[0] === \"+/-\") {\n          ret.push(\"\\\\pm \");\n        } else if (m[0]) {\n          ret.push(m[0]);\n        }\n        if (m[1]) {\n          mhchemParser.concatArray(ret, mhchemParser.go(m[1], 'pu-9,9'));\n          if (m[2]) {\n            if (m[2].match(/[,.]/)) {\n              mhchemParser.concatArray(ret, mhchemParser.go(m[2], 'pu-9,9'));\n            } else {\n              ret.push(m[2]);\n            }\n          }\n          m[3] = m[4] || m[3];\n          if (m[3]) {\n            m[3] = m[3].trim();\n            if (m[3] === \"e\"  ||  m[3].substr(0, 1) === \"*\") {\n              ret.push({ type_: 'cdot' });\n            } else {\n              ret.push({ type_: 'times' });\n            }\n          }\n        }\n        if (m[3]) {\n          ret.push(\"10^{\"+m[5]+\"}\");\n        }\n        return ret;\n      },\n      'number^': function (buffer, m) {\n        /** @type {ParserOutput[]} */\n        var ret = [];\n        if (m[0] === \"+-\"  ||  m[0] === \"+/-\") {\n          ret.push(\"\\\\pm \");\n        } else if (m[0]) {\n          ret.push(m[0]);\n        }\n        mhchemParser.concatArray(ret, mhchemParser.go(m[1], 'pu-9,9'));\n        ret.push(\"^{\"+m[2]+\"}\");\n        return ret;\n      },\n      'operator': function (buffer, m, p1) { return { type_: 'operator', kind_: (p1 || m) }; },\n      'space': function () { return { type_: 'pu-space-1' }; },\n      'output': function (buffer) {\n        /** @type {ParserOutput | ParserOutput[]} */\n        var ret;\n        var md = mhchemParser.patterns.match_('{(...)}', buffer.d || \"\");\n        if (md  &&  md.remainder === '') { buffer.d = md.match_; }\n        var mq = mhchemParser.patterns.match_('{(...)}', buffer.q || \"\");\n        if (mq  &&  mq.remainder === '') { buffer.q = mq.match_; }\n        if (buffer.d) {\n          buffer.d = buffer.d.replace(/\\u00B0C|\\^oC|\\^{o}C/g, \"{}^{\\\\circ}C\");\n          buffer.d = buffer.d.replace(/\\u00B0F|\\^oF|\\^{o}F/g, \"{}^{\\\\circ}F\");\n        }\n        if (buffer.q) {  // fraction\n          buffer.q = buffer.q.replace(/\\u00B0C|\\^oC|\\^{o}C/g, \"{}^{\\\\circ}C\");\n          buffer.q = buffer.q.replace(/\\u00B0F|\\^oF|\\^{o}F/g, \"{}^{\\\\circ}F\");\n          var b5 = {\n            d: mhchemParser.go(buffer.d, 'pu'),\n            q: mhchemParser.go(buffer.q, 'pu')\n          };\n          if (buffer.o === '//') {\n            ret = { type_: 'pu-frac', p1: b5.d, p2: b5.q };\n          } else {\n            ret = b5.d;\n            if (b5.d.length > 1  ||  b5.q.length > 1) {\n              ret.push({ type_: ' / ' });\n            } else {\n              ret.push({ type_: '/' });\n            }\n            mhchemParser.concatArray(ret, b5.q);\n          }\n        } else {  // no fraction\n          ret = mhchemParser.go(buffer.d, 'pu-2');\n        }\n        for (var p in buffer) { delete buffer[p]; }\n        return ret;\n      }\n    }\n  },\n  'pu-2': {\n    transitions: mhchemParser.createTransitions({\n      'empty': {\n        '*': { action_: 'output' } },\n      '*': {\n        '*': { action_: [ 'output', 'cdot' ], nextState: '0' } },\n      '\\\\x': {\n        '*': { action_: 'rm=' } },\n      'space': {\n        '*': { action_: [ 'output', 'space' ], nextState: '0' } },\n      '^{(...)}|^(-1)': {\n        '1': { action_: '^(-1)' } },\n      '-9.,9': {\n        '0': { action_: 'rm=', nextState: '0' },\n        '1': { action_: '^(-1)', nextState: '0' } },\n      '{...}|else': {\n        '*': { action_: 'rm=', nextState: '1' } }\n    }),\n    actions: {\n      'cdot': function () { return { type_: 'tight cdot' }; },\n      '^(-1)': function (buffer, m) { buffer.rm += \"^{\"+m+\"}\"; },\n      'space': function () { return { type_: 'pu-space-2' }; },\n      'output': function (buffer) {\n        /** @type {ParserOutput | ParserOutput[]} */\n        var ret = [];\n        if (buffer.rm) {\n          var mrm = mhchemParser.patterns.match_('{(...)}', buffer.rm || \"\");\n          if (mrm  &&  mrm.remainder === '') {\n            ret = mhchemParser.go(mrm.match_, 'pu');\n          } else {\n            ret = { type_: 'rm', p1: buffer.rm };\n          }\n        }\n        for (var p in buffer) { delete buffer[p]; }\n        return ret;\n      }\n    }\n  },\n  'pu-9,9': {\n    transitions: mhchemParser.createTransitions({\n      'empty': {\n        '0': { action_: 'output-0' },\n        'o': { action_: 'output-o' } },\n      ',': {\n        '0': { action_: [ 'output-0', 'comma' ], nextState: 'o' } },\n      '.': {\n        '0': { action_: [ 'output-0', 'copy' ], nextState: 'o' } },\n      'else': {\n        '*': { action_: 'text=' } }\n    }),\n    actions: {\n      'comma': function () { return { type_: 'commaDecimal' }; },\n      'output-0': function (buffer) {\n        /** @type {ParserOutput[]} */\n        var ret = [];\n        buffer.text_ = buffer.text_ || \"\";\n        if (buffer.text_.length > 4) {\n          var a = buffer.text_.length % 3;\n          if (a === 0) { a = 3; }\n          for (var i=buffer.text_.length-3; i>0; i-=3) {\n            ret.push(buffer.text_.substr(i, 3));\n            ret.push({ type_: '1000 separator' });\n          }\n          ret.push(buffer.text_.substr(0, a));\n          ret.reverse();\n        } else {\n          ret.push(buffer.text_);\n        }\n        for (var p in buffer) { delete buffer[p]; }\n        return ret;\n      },\n      'output-o': function (buffer) {\n        /** @type {ParserOutput[]} */\n        var ret = [];\n        buffer.text_ = buffer.text_ || \"\";\n        if (buffer.text_.length > 4) {\n          var a = buffer.text_.length - 3;\n          for (var i=0; i<a; i+=3) {\n            ret.push(buffer.text_.substr(i, 3));\n            ret.push({ type_: '1000 separator' });\n          }\n          ret.push(buffer.text_.substr(i));\n        } else {\n          ret.push(buffer.text_);\n        }\n        for (var p in buffer) { delete buffer[p]; }\n        return ret;\n      }\n    }\n  }\n  //#endregion\n};\n\n//\n// texify: Take MhchemParser output and convert it to TeX\n//\n/** @type {Texify} */\nvar texify = {\n  go: function (input, isInner) {  // (recursive, max 4 levels)\n    if (!input) { return \"\"; }\n    var res = \"\";\n    var cee = false;\n    for (var i=0; i < input.length; i++) {\n      var inputi = input[i];\n      if (typeof inputi === \"string\") {\n        res += inputi;\n      } else {\n        res += texify._go2(inputi);\n        if (inputi.type_ === '1st-level escape') { cee = true; }\n      }\n    }\n    if (!isInner && !cee && res) {\n      res = \"{\" + res + \"}\";\n    }\n    return res;\n  },\n  _goInner: function (input) {\n    if (!input) { return input; }\n    return texify.go(input, true);\n  },\n  _go2: function (buf) {\n    /** @type {undefined | string} */\n    var res;\n    switch (buf.type_) {\n    case 'chemfive':\n      res = \"\";\n      var b5 = {\n        a: texify._goInner(buf.a),\n        b: texify._goInner(buf.b),\n        p: texify._goInner(buf.p),\n        o: texify._goInner(buf.o),\n        q: texify._goInner(buf.q),\n        d: texify._goInner(buf.d)\n      };\n      //\n      // a\n      //\n      if (b5.a) {\n        if (b5.a.match(/^[+\\-]/)) { b5.a = \"{\"+b5.a+\"}\"; }\n        res += b5.a + \"\\\\,\";\n      }\n      //\n      // b and p\n      //\n      if (b5.b || b5.p) {\n        res += \"{\\\\vphantom{X}}\";\n        res += \"^{\\\\hphantom{\"+(b5.b||\"\")+\"}}_{\\\\hphantom{\"+(b5.p||\"\")+\"}}\";\n        res += \"{\\\\vphantom{X}}\";\n        res += \"^{\\\\smash[t]{\\\\vphantom{2}}\\\\llap{\"+(b5.b||\"\")+\"}}\";\n        res += \"_{\\\\vphantom{2}\\\\llap{\\\\smash[t]{\"+(b5.p||\"\")+\"}}}\";\n      }\n      //\n      // o\n      //\n      if (b5.o) {\n        if (b5.o.match(/^[+\\-]/)) { b5.o = \"{\"+b5.o+\"}\"; }\n        res += b5.o;\n      }\n      //\n      // q and d\n      //\n      if (buf.dType === 'kv') {\n        if (b5.d || b5.q) {\n          res += \"{\\\\vphantom{X}}\";\n        }\n        if (b5.d) {\n          res += \"^{\"+b5.d+\"}\";\n        }\n        if (b5.q) {\n          res += \"_{\\\\smash[t]{\"+b5.q+\"}}\";\n        }\n      } else if (buf.dType === 'oxidation') {\n        if (b5.d) {\n          res += \"{\\\\vphantom{X}}\";\n          res += \"^{\"+b5.d+\"}\";\n        }\n        if (b5.q) {\n          res += \"{\\\\vphantom{X}}\";\n          res += \"_{\\\\smash[t]{\"+b5.q+\"}}\";\n        }\n      } else {\n        if (b5.q) {\n          res += \"{\\\\vphantom{X}}\";\n          res += \"_{\\\\smash[t]{\"+b5.q+\"}}\";\n        }\n        if (b5.d) {\n          res += \"{\\\\vphantom{X}}\";\n          res += \"^{\"+b5.d+\"}\";\n        }\n      }\n      break;\n    case 'rm':\n      res = \"\\\\mathrm{\"+buf.p1+\"}\";\n      break;\n    case 'text':\n      if (buf.p1.match(/[\\^_]/)) {\n        buf.p1 = buf.p1.replace(\" \", \"~\").replace(\"-\", \"\\\\text{-}\");\n        res = \"\\\\mathrm{\"+buf.p1+\"}\";\n      } else {\n        res = \"\\\\text{\"+buf.p1+\"}\";\n      }\n      break;\n    case 'roman numeral':\n      res = \"\\\\mathrm{\"+buf.p1+\"}\";\n      break;\n    case 'state of aggregation':\n      res = \"\\\\mskip2mu \"+texify._goInner(buf.p1);\n      break;\n    case 'state of aggregation subscript':\n      res = \"\\\\mskip1mu \"+texify._goInner(buf.p1);\n      break;\n    case 'bond':\n      res = texify._getBond(buf.kind_);\n      if (!res) {\n        throw [\"MhchemErrorBond\", \"mhchem Error. Unknown bond type (\" + buf.kind_ + \")\"];\n      }\n      break;\n    case 'frac':\n      var c = \"\\\\frac{\" + buf.p1 + \"}{\" + buf.p2 + \"}\";\n      res = \"\\\\mathchoice{\\\\textstyle\"+c+\"}{\"+c+\"}{\"+c+\"}{\"+c+\"}\";\n      break;\n    case 'pu-frac':\n      var d = \"\\\\frac{\" + texify._goInner(buf.p1) + \"}{\" + texify._goInner(buf.p2) + \"}\";\n      res = \"\\\\mathchoice{\\\\textstyle\"+d+\"}{\"+d+\"}{\"+d+\"}{\"+d+\"}\";\n      break;\n    case 'tex-math':\n      res = buf.p1 + \" \";\n      break;\n    case 'frac-ce':\n      res = \"\\\\frac{\" + texify._goInner(buf.p1) + \"}{\" + texify._goInner(buf.p2) + \"}\";\n      break;\n    case 'overset':\n      res = \"\\\\overset{\" + texify._goInner(buf.p1) + \"}{\" + texify._goInner(buf.p2) + \"}\";\n      break;\n    case 'underset':\n      res = \"\\\\underset{\" + texify._goInner(buf.p1) + \"}{\" + texify._goInner(buf.p2) + \"}\";\n      break;\n    case 'underbrace':\n      res =  \"\\\\underbrace{\" + texify._goInner(buf.p1) + \"}_{\" + texify._goInner(buf.p2) + \"}\";\n      break;\n    case 'color':\n      res = \"{\\\\color{\" + buf.color1 + \"}{\" + texify._goInner(buf.color2) + \"}}\";\n      break;\n    case 'color0':\n      res = \"\\\\color{\" + buf.color + \"}\";\n      break;\n    case 'arrow':\n      var b6 = {\n        rd: texify._goInner(buf.rd),\n        rq: texify._goInner(buf.rq)\n      };\n      var arrow = texify._getArrow(buf.r);\n      if (b6.rd || b6.rq) {\n        if (buf.r === \"<=>\"  ||  buf.r === \"<=>>\"  ||  buf.r === \"<<=>\"  ||  buf.r === \"<-->\") {\n          // arrows that cannot stretch correctly yet, https://github.com/mathjax/MathJax/issues/1491\n          arrow = \"\\\\long\"+arrow;\n          if (b6.rd) { arrow = \"\\\\overset{\"+b6.rd+\"}{\"+arrow+\"}\"; }\n          if (b6.rq) { arrow = \"\\\\underset{\\\\lower7mu{\"+b6.rq+\"}}{\"+arrow+\"}\"; }\n          arrow = \" {}\\\\mathrel{\"+arrow+\"}{} \";\n        } else {\n          if (b6.rq) { arrow += \"[{\"+b6.rq+\"}]\"; }\n          arrow += \"{\"+b6.rd+\"}\";\n          arrow = \" {}\\\\mathrel{\\\\x\"+arrow+\"}{} \";\n        }\n      } else {\n        arrow = \" {}\\\\mathrel{\\\\long\"+arrow+\"}{} \";\n      }\n      res = arrow;\n      break;\n    case 'operator':\n      res = texify._getOperator(buf.kind_);\n      break;\n    case '1st-level escape':\n      res = buf.p1+\" \";  // &, \\\\\\\\, \\\\hlin\n      break;\n    case 'space':\n      res = \" \";\n      break;\n    case 'entitySkip':\n      res = \"~\";\n      break;\n    case 'pu-space-1':\n      res = \"~\";\n      break;\n    case 'pu-space-2':\n      res = \"\\\\mkern3mu \";\n      break;\n    case '1000 separator':\n      res = \"\\\\mkern2mu \";\n      break;\n    case 'commaDecimal':\n      res = \"{,}\";\n      break;\n    case 'comma enumeration L':\n      res = \"{\"+buf.p1+\"}\\\\mkern6mu \";\n      break;\n    case 'comma enumeration M':\n      res = \"{\"+buf.p1+\"}\\\\mkern3mu \";\n      break;\n    case 'comma enumeration S':\n      res = \"{\"+buf.p1+\"}\\\\mkern1mu \";\n      break;\n    case 'hyphen':\n      res = \"\\\\text{-}\";\n      break;\n    case 'addition compound':\n      res = \"\\\\,{\\\\cdot}\\\\,\";\n      break;\n    case 'electron dot':\n      res = \"\\\\mkern1mu \\\\bullet\\\\mkern1mu \";\n      break;\n    case 'KV x':\n      res = \"{\\\\times}\";\n      break;\n    case 'prime':\n      res = \"\\\\prime \";\n      break;\n    case 'cdot':\n      res = \"\\\\cdot \";\n      break;\n    case 'tight cdot':\n      res = \"\\\\mkern1mu{\\\\cdot}\\\\mkern1mu \";\n      break;\n    case 'times':\n      res = \"\\\\times \";\n      break;\n    case 'circa':\n      res = \"{\\\\sim}\";\n      break;\n    case '^':\n      res = \"uparrow\";\n      break;\n    case 'v':\n      res = \"downarrow\";\n      break;\n    case 'ellipsis':\n      res = \"\\\\ldots \";\n      break;\n    case '/':\n      res = \"/\";\n      break;\n    case ' / ':\n      res = \"\\\\,/\\\\,\";\n      break;\n    default:\n      assertNever(buf);\n      throw [\"MhchemBugT\", \"mhchem bug T. Please report.\"];  // Missing texify rule or unknown MhchemParser output\n    }\n    assertString(res);\n    return res;\n  },\n  _getArrow: function (a) {\n    switch (a) {\n    case \"->\": return \"rightarrow\";\n    case \"\\u2192\": return \"rightarrow\";\n    case \"\\u27F6\": return \"rightarrow\";\n    case \"<-\": return \"leftarrow\";\n    case \"<->\": return \"leftrightarrow\";\n    case \"<-->\": return \"leftrightarrows\";\n    case \"<=>\": return \"rightleftharpoons\";\n    case \"\\u21CC\": return \"rightleftharpoons\";\n    case \"<=>>\": return \"Rightleftharpoons\";\n    case \"<<=>\": return \"Leftrightharpoons\";\n    default:\n      assertNever(a);\n      throw [\"MhchemBugT\", \"mhchem bug T. Please report.\"];\n    }\n  },\n  _getBond: function (a) {\n    switch (a) {\n    case \"-\": return \"{-}\";\n    case \"1\": return \"{-}\";\n    case \"=\": return \"{=}\";\n    case \"2\": return \"{=}\";\n    case \"#\": return \"{\\\\equiv}\";\n    case \"3\": return \"{\\\\equiv}\";\n    case \"~\": return \"{\\\\tripledash}\";\n    case \"~-\": return \"{\\\\rlap{\\\\lower.1em{-}}\\\\raise.1em{\\\\tripledash}}\";\n    case \"~=\": return \"{\\\\rlap{\\\\lower.2em{-}}\\\\rlap{\\\\raise.2em{\\\\tripledash}}-}\";\n    case \"~--\": return \"{\\\\rlap{\\\\lower.2em{-}}\\\\rlap{\\\\raise.2em{\\\\tripledash}}-}\";\n    case \"-~-\": return \"{\\\\rlap{\\\\lower.2em{-}}\\\\rlap{\\\\raise.2em{-}}\\\\tripledash}\";\n    case \"...\": return \"{{\\\\cdot}{\\\\cdot}{\\\\cdot}}\";\n    case \"....\": return \"{{\\\\cdot}{\\\\cdot}{\\\\cdot}{\\\\cdot}}\";\n    case \"->\": return \"{\\\\rightarrow}\";\n    case \"<-\": return \"{\\\\leftarrow}\";\n    case \"<\": return \"{<}\";\n    case \">\": return \"{>}\";\n    default:\n      assertNever(a);\n      throw [\"MhchemBugT\", \"mhchem bug T. Please report.\"];\n    }\n  },\n  _getOperator: function (a) {\n    switch (a) {\n    case \"+\": return \" {}+{} \";\n    case \"-\": return \" {}-{} \";\n    case \"=\": return \" {}={} \";\n    case \"<\": return \" {}<{} \";\n    case \">\": return \" {}>{} \";\n    case \"<<\": return \" {}\\\\ll{} \";\n    case \">>\": return \" {}\\\\gg{} \";\n    case \"\\\\pm\": return \" {}\\\\pm{} \";\n    case \"\\\\approx\": return \" {}\\\\approx{} \";\n    case \"$\\\\approx$\": return \" {}\\\\approx{} \";\n    case \"v\": return \" \\\\downarrow{} \";\n    case \"(v)\": return \" \\\\downarrow{} \";\n    case \"^\": return \" \\\\uparrow{} \";\n    case \"(^)\": return \" \\\\uparrow{} \";\n    default:\n      assertNever(a);\n      throw [\"MhchemBugT\", \"mhchem bug T. Please report.\"];\n    }\n  }\n};\n\n//\n// Helpers for code anaylsis\n// Will show type error at calling position\n//\n/** @param {number} a */\nfunction assertNever(a) {}\n/** @param {string} a */\nfunction assertString(a) {}\n\nexports.mhchemParser = mhchemParser;\nexports.texify = texify;\nexports.assertNever = assertNever;\nexports.assertString = assertString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nvar PhysicsMethods_js_1 = require(\"./PhysicsMethods.js\");\nvar TexConstants_js_1 = require(\"../TexConstants.js\");\nvar ParseMethods_js_1 = require(\"../ParseMethods.js\");\nvar MmlNode_js_1 = require(\"../../../core/MmlTree/MmlNode.js\");\nnew SymbolMap_js_1.CommandMap('Physics-automatic-bracing-macros', {\n    'quantity': 'Quantity',\n    'qty': 'Quantity',\n    'pqty': ['Quantity', '(', ')', true],\n    'bqty': ['Quantity', '[', ']', true],\n    'vqty': ['Quantity', '|', '|', true],\n    'Bqty': ['Quantity', '{', '}', true],\n    'absolutevalue': ['Quantity', '|', '|', true],\n    'abs': ['Quantity', '|', '|', true],\n    'norm': ['Quantity', '\\\\|', '\\\\|', true],\n    'evaluated': 'Eval',\n    'eval': 'Eval',\n    'order': ['Quantity', '(', ')', true, 'O',\n        TexConstants_js_1.TexConstant.Variant.CALLIGRAPHIC],\n    'commutator': 'Commutator',\n    'comm': 'Commutator',\n    'anticommutator': ['Commutator', '\\\\{', '\\\\}'],\n    'acomm': ['Commutator', '\\\\{', '\\\\}'],\n    'poissonbracket': ['Commutator', '\\\\{', '\\\\}'],\n    'pb': ['Commutator', '\\\\{', '\\\\}']\n}, PhysicsMethods_js_1.default);\nnew SymbolMap_js_1.CharacterMap('Physics-vector-chars', ParseMethods_js_1.default.mathchar0mi, {\n    dotproduct: ['\\u22C5', { mathvariant: TexConstants_js_1.TexConstant.Variant.BOLD }],\n    vdot: ['\\u22C5', { mathvariant: TexConstants_js_1.TexConstant.Variant.BOLD }],\n    crossproduct: '\\u00D7',\n    cross: '\\u00D7',\n    cp: '\\u00D7',\n    gradientnabla: ['\\u2207', { mathvariant: TexConstants_js_1.TexConstant.Variant.BOLD }],\n    real: ['\\u211C', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }],\n    imaginary: ['\\u2111', { mathvariant: TexConstants_js_1.TexConstant.Variant.NORMAL }]\n});\nnew SymbolMap_js_1.CommandMap('Physics-vector-macros', {\n    'vectorbold': 'VectorBold',\n    'vb': 'VectorBold',\n    'vectorarrow': ['StarMacro', 1, '\\\\vec{\\\\vb', '{#1}}'],\n    'va': ['StarMacro', 1, '\\\\vec{\\\\vb', '{#1}}'],\n    'vectorunit': ['StarMacro', 1, '\\\\hat{\\\\vb', '{#1}}'],\n    'vu': ['StarMacro', 1, '\\\\hat{\\\\vb', '{#1}}'],\n    'gradient': ['OperatorApplication', '\\\\gradientnabla', '(', '['],\n    'grad': ['OperatorApplication', '\\\\gradientnabla', '(', '['],\n    'divergence': ['VectorOperator', '\\\\gradientnabla\\\\vdot', '(', '['],\n    'div': ['VectorOperator', '\\\\gradientnabla\\\\vdot', '(', '['],\n    'curl': ['VectorOperator',\n        '\\\\gradientnabla\\\\crossproduct', '(', '['],\n    'laplacian': ['OperatorApplication', '\\\\nabla^2', '(', '['],\n}, PhysicsMethods_js_1.default);\nnew SymbolMap_js_1.CommandMap('Physics-expressions-macros', {\n    'sin': 'Expression',\n    'sinh': 'Expression',\n    'arcsin': 'Expression',\n    'asin': 'Expression',\n    'cos': 'Expression',\n    'cosh': 'Expression',\n    'arccos': 'Expression',\n    'acos': 'Expression',\n    'tan': 'Expression',\n    'tanh': 'Expression',\n    'arctan': 'Expression',\n    'atan': 'Expression',\n    'csc': 'Expression',\n    'csch': 'Expression',\n    'arccsc': 'Expression',\n    'acsc': 'Expression',\n    'sec': 'Expression',\n    'sech': 'Expression',\n    'arcsec': 'Expression',\n    'asec': 'Expression',\n    'cot': 'Expression',\n    'coth': 'Expression',\n    'arccot': 'Expression',\n    'acot': 'Expression',\n    'exp': ['Expression', false],\n    'log': 'Expression',\n    'ln': 'Expression',\n    'det': ['Expression', false],\n    'Pr': ['Expression', false],\n    'tr': ['Expression', false],\n    'trace': ['Expression', false, 'tr'],\n    'Tr': ['Expression', false],\n    'Trace': ['Expression', false, 'Tr'],\n    'rank': 'NamedFn',\n    'erf': ['Expression', false],\n    'Res': ['OperatorApplication', '{\\\\rm Res}', '(', '[', '{'],\n    'principalvalue': ['OperatorApplication', '{\\\\cal P}'],\n    'pv': ['OperatorApplication', '{\\\\cal P}'],\n    'PV': ['OperatorApplication', '{\\\\rm P.V.}'],\n    'Re': ['OperatorApplication', '{\\\\rm Re}', '{'],\n    'Im': ['OperatorApplication', '{\\\\rm Im}', '{'],\n    'sine': ['NamedFn', 'sin'],\n    'hypsine': ['NamedFn', 'sinh'],\n    'arcsine': ['NamedFn', 'arcsin'],\n    'asine': ['NamedFn', 'asin'],\n    'cosine': ['NamedFn', 'cos'],\n    'hypcosine': ['NamedFn', 'cosh'],\n    'arccosine': ['NamedFn', 'arccos'],\n    'acosine': ['NamedFn', 'acos'],\n    'tangent': ['NamedFn', 'tan'],\n    'hyptangent': ['NamedFn', 'tanh'],\n    'arctangent': ['NamedFn', 'arctan'],\n    'atangent': ['NamedFn', 'atan'],\n    'cosecant': ['NamedFn', 'csc'],\n    'hypcosecant': ['NamedFn', 'csch'],\n    'arccosecant': ['NamedFn', 'arccsc'],\n    'acosecant': ['NamedFn', 'acsc'],\n    'secant': ['NamedFn', 'sec'],\n    'hypsecant': ['NamedFn', 'sech'],\n    'arcsecant': ['NamedFn', 'arcsec'],\n    'asecant': ['NamedFn', 'asec'],\n    'cotangent': ['NamedFn', 'cot'],\n    'hypcotangent': ['NamedFn', 'coth'],\n    'arccotangent': ['NamedFn', 'arccot'],\n    'acotangent': ['NamedFn', 'acot'],\n    'exponential': ['NamedFn', 'exp'],\n    'logarithm': ['NamedFn', 'log'],\n    'naturallogarithm': ['NamedFn', 'ln'],\n    'determinant': ['NamedFn', 'det'],\n    'Probability': ['NamedFn', 'Pr'],\n}, PhysicsMethods_js_1.default);\nnew SymbolMap_js_1.CommandMap('Physics-quick-quad-macros', {\n    'qqtext': 'Qqtext',\n    'qq': 'Qqtext',\n    'qcomma': ['Macro', '\\\\qqtext*{,}'],\n    'qc': ['Macro', '\\\\qqtext*{,}'],\n    'qcc': ['Qqtext', 'c.c.'],\n    'qif': ['Qqtext', 'if'],\n    'qthen': ['Qqtext', 'then'],\n    'qelse': ['Qqtext', 'else'],\n    'qotherwise': ['Qqtext', 'otherwise'],\n    'qunless': ['Qqtext', 'unless'],\n    'qgiven': ['Qqtext', 'given'],\n    'qusing': ['Qqtext', 'using'],\n    'qassume': ['Qqtext', 'assume'],\n    'qsince,': ['Qqtext', 'since,'],\n    'qlet': ['Qqtext', 'let'],\n    'qfor': ['Qqtext', 'for'],\n    'qall': ['Qqtext', 'all'],\n    'qeven': ['Qqtext', 'even'],\n    'qodd': ['Qqtext', 'odd'],\n    'qinteger': ['Qqtext', 'integer'],\n    'qand': ['Qqtext', 'and'],\n    'qor': ['Qqtext', 'or'],\n    'qas': ['Qqtext', 'as'],\n    'qin': ['Qqtext', 'in'],\n}, PhysicsMethods_js_1.default);\nnew SymbolMap_js_1.CommandMap('Physics-derivative-macros', {\n    'flatfrac': ['Macro', '\\\\left.#1\\\\middle/#2\\\\right.', 2],\n    'differential': ['Differential', '{\\\\rm d}'],\n    'dd': ['Differential', '{\\\\rm d}'],\n    'variation': ['Differential', '\\\\delta'],\n    'var': ['Differential', '\\\\delta'],\n    'derivative': ['Derivative', 2, '{\\\\rm d}'],\n    'dv': ['Derivative', 2, '{\\\\rm d}'],\n    'partialderivative': ['Derivative', 3, '\\\\partial'],\n    'pderivative': ['Derivative', 3, '\\\\partial'],\n    'pdv': ['Derivative', 3, '\\\\partial'],\n    'functionalderivative': ['Derivative', 2, '\\\\delta'],\n    'fderivative': ['Derivative', 2, '\\\\delta'],\n    'fdv': ['Derivative', 2, '\\\\delta'],\n}, PhysicsMethods_js_1.default);\nnew SymbolMap_js_1.CommandMap('Physics-bra-ket-macros', {\n    'bra': 'Bra',\n    'ket': 'Ket',\n    'innerproduct': 'BraKet',\n    'braket': 'BraKet',\n    'outerproduct': 'KetBra',\n    'dyad': 'KetBra',\n    'ketbra': 'KetBra',\n    'op': 'KetBra',\n    'expectationvalue': 'Expectation',\n    'expval': 'Expectation',\n    'ev': 'Expectation',\n    'matrixelement': 'MatrixElement',\n    'matrixel': 'MatrixElement',\n    'mel': 'MatrixElement',\n}, PhysicsMethods_js_1.default);\nnew SymbolMap_js_1.CommandMap('Physics-matrix-macros', {\n    'matrixquantity': 'MatrixQuantity',\n    'mqty': 'MatrixQuantity',\n    'pmqty': ['Macro', '\\\\mqty(#1)', 1],\n    'Pmqty': ['Macro', '\\\\mqty*(#1)', 1],\n    'bmqty': ['Macro', '\\\\mqty[#1]', 1],\n    'vmqty': ['Macro', '\\\\mqty|#1|', 1],\n    'smallmatrixquantity': ['MatrixQuantity', true],\n    'smqty': ['MatrixQuantity', true],\n    'spmqty': ['Macro', '\\\\smqty(#1)', 1],\n    'sPmqty': ['Macro', '\\\\smqty*(#1)', 1],\n    'sbmqty': ['Macro', '\\\\smqty[#1]', 1],\n    'svmqty': ['Macro', '\\\\smqty|#1|', 1],\n    'matrixdeterminant': ['Macro', '\\\\vmqty{#1}', 1],\n    'mdet': ['Macro', '\\\\vmqty{#1}', 1],\n    'smdet': ['Macro', '\\\\svmqty{#1}', 1],\n    'identitymatrix': 'IdentityMatrix',\n    'imat': 'IdentityMatrix',\n    'xmatrix': 'XMatrix',\n    'xmat': 'XMatrix',\n    'zeromatrix': ['Macro', '\\\\xmat{0}{#1}{#2}', 2],\n    'zmat': ['Macro', '\\\\xmat{0}{#1}{#2}', 2],\n    'paulimatrix': 'PauliMatrix',\n    'pmat': 'PauliMatrix',\n    'diagonalmatrix': 'DiagonalMatrix',\n    'dmat': 'DiagonalMatrix',\n    'antidiagonalmatrix': ['DiagonalMatrix', true],\n    'admat': ['DiagonalMatrix', true]\n}, PhysicsMethods_js_1.default);\nnew SymbolMap_js_1.EnvironmentMap('Physics-aux-envs', ParseMethods_js_1.default.environment, {\n    smallmatrix: ['Array', null, null, null, 'c', '0.333em', '.2em', 'S', 1]\n}, PhysicsMethods_js_1.default);\nnew SymbolMap_js_1.MacroMap('Physics-characters', {\n    '|': ['AutoClose', MmlNode_js_1.TEXCLASS.ORD],\n    ')': 'AutoClose',\n    ']': 'AutoClose'\n}, PhysicsMethods_js_1.default);\n//# sourceMappingURL=PhysicsMappings.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar Tags_js_1 = require(\"../Tags.js\");\nvar tagID = 0;\nfunction tagFormatConfig(config, jax) {\n    var tags = jax.parseOptions.options.tags;\n    if (tags !== 'base' && config.tags.hasOwnProperty(tags)) {\n        Tags_js_1.TagsFactory.add(tags, config.tags[tags]);\n    }\n    var TagClass = Tags_js_1.TagsFactory.create(jax.parseOptions.options.tags).constructor;\n    var TagFormat = (function (_super) {\n        __extends(TagFormat, _super);\n        function TagFormat() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        TagFormat.prototype.formatNumber = function (n) {\n            return jax.parseOptions.options.tagFormat.number(n);\n        };\n        TagFormat.prototype.formatTag = function (tag) {\n            return jax.parseOptions.options.tagFormat.tag(tag);\n        };\n        TagFormat.prototype.formatId = function (id) {\n            return jax.parseOptions.options.tagFormat.id(id);\n        };\n        TagFormat.prototype.formatUrl = function (id, base) {\n            return jax.parseOptions.options.tagFormat.url(id, base);\n        };\n        return TagFormat;\n    }(TagClass));\n    tagID++;\n    var tagName = 'configTags-' + tagID;\n    Tags_js_1.TagsFactory.add(tagName, TagFormat);\n    jax.parseOptions.options.tags = tagName;\n}\nexports.tagFormatConfig = tagFormatConfig;\nexports.TagFormatConfiguration = Configuration_js_1.Configuration.create('tagFormat', {\n    config: tagFormatConfig,\n    configPriority: 10,\n    options: {\n        tagFormat: {\n            number: function (n) { return n.toString(); },\n            tag: function (tag) { return '(' + tag + ')'; },\n            id: function (id) { return 'mjx-eqn-' + id.replace(/\\s/g, '_'); },\n            url: function (id, base) { return base + '#' + encodeURIComponent(id); },\n        }\n    }\n});\n//# sourceMappingURL=TagFormatConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.mathjax = MathJax._.mathjax.mathjax;\n","import {combineWithMathJax} from '../../../../../js/components/global.js';\n\nimport * as module1 from '../../../../../js/input/tex.js';\nimport * as module2 from '../../../../../js/input/tex/AllPackages.js';\nimport * as module3 from '../../../../../js/input/tex/Configuration.js';\nimport * as module4 from '../../../../../js/input/tex/FilterUtil.js';\nimport * as module5 from '../../../../../js/input/tex/FindTeX.js';\nimport * as module6 from '../../../../../js/input/tex/MapHandler.js';\nimport * as module7 from '../../../../../js/input/tex/NodeFactory.js';\nimport * as module8 from '../../../../../js/input/tex/NodeUtil.js';\nimport * as module9 from '../../../../../js/input/tex/ParseMethods.js';\nimport * as module10 from '../../../../../js/input/tex/ParseOptions.js';\nimport * as module11 from '../../../../../js/input/tex/ParseUtil.js';\nimport * as module12 from '../../../../../js/input/tex/Stack.js';\nimport * as module13 from '../../../../../js/input/tex/StackItem.js';\nimport * as module14 from '../../../../../js/input/tex/StackItemFactory.js';\nimport * as module15 from '../../../../../js/input/tex/Symbol.js';\nimport * as module16 from '../../../../../js/input/tex/SymbolMap.js';\nimport * as module17 from '../../../../../js/input/tex/Tags.js';\nimport * as module18 from '../../../../../js/input/tex/TexConstants.js';\nimport * as module19 from '../../../../../js/input/tex/TexError.js';\nimport * as module20 from '../../../../../js/input/tex/TexParser.js';\nimport * as module21 from '../../../../../js/input/tex/action/ActionConfiguration.js';\nimport * as module22 from '../../../../../js/input/tex/ams_cd/AmsCdConfiguration.js';\nimport * as module23 from '../../../../../js/input/tex/ams_cd/AmsCdMethods.js';\nimport * as module24 from '../../../../../js/input/tex/ams/AmsConfiguration.js';\nimport * as module25 from '../../../../../js/input/tex/ams/AmsItems.js';\nimport * as module26 from '../../../../../js/input/tex/ams/AmsMethods.js';\nimport * as module27 from '../../../../../js/input/tex/autoload/AutoloadConfiguration.js';\nimport * as module28 from '../../../../../js/input/tex/base/BaseConfiguration.js';\nimport * as module29 from '../../../../../js/input/tex/base/BaseItems.js';\nimport * as module30 from '../../../../../js/input/tex/base/BaseMethods.js';\nimport * as module31 from '../../../../../js/input/tex/bbox/BboxConfiguration.js';\nimport * as module32 from '../../../../../js/input/tex/boldsymbol/BoldsymbolConfiguration.js';\nimport * as module33 from '../../../../../js/input/tex/braket/BraketConfiguration.js';\nimport * as module34 from '../../../../../js/input/tex/braket/BraketItems.js';\nimport * as module35 from '../../../../../js/input/tex/braket/BraketMethods.js';\nimport * as module36 from '../../../../../js/input/tex/bussproofs/BussproofsConfiguration.js';\nimport * as module37 from '../../../../../js/input/tex/bussproofs/BussproofsItems.js';\nimport * as module38 from '../../../../../js/input/tex/bussproofs/BussproofsMethods.js';\nimport * as module39 from '../../../../../js/input/tex/bussproofs/BussproofsUtil.js';\nimport * as module40 from '../../../../../js/input/tex/cancel/CancelConfiguration.js';\nimport * as module41 from '../../../../../js/input/tex/color_v2/ColorV2Configuration.js';\nimport * as module42 from '../../../../../js/input/tex/color/ColorConfiguration.js';\nimport * as module43 from '../../../../../js/input/tex/color/ColorMethods.js';\nimport * as module44 from '../../../../../js/input/tex/color/ColorUtil.js';\nimport * as module45 from '../../../../../js/input/tex/config_macros/ConfigMacrosConfiguration.js';\nimport * as module46 from '../../../../../js/input/tex/enclose/EncloseConfiguration.js';\nimport * as module47 from '../../../../../js/input/tex/extpfeil/ExtpfeilConfiguration.js';\nimport * as module48 from '../../../../../js/input/tex/html/HtmlConfiguration.js';\nimport * as module49 from '../../../../../js/input/tex/html/HtmlMethods.js';\nimport * as module50 from '../../../../../js/input/tex/mhchem/MhchemConfiguration.js';\nimport * as module51 from '../../../../../js/input/tex/newcommand/NewcommandConfiguration.js';\nimport * as module52 from '../../../../../js/input/tex/newcommand/NewcommandItems.js';\nimport * as module53 from '../../../../../js/input/tex/newcommand/NewcommandMethods.js';\nimport * as module54 from '../../../../../js/input/tex/newcommand/NewcommandUtil.js';\nimport * as module55 from '../../../../../js/input/tex/noerrors/NoErrorsConfiguration.js';\nimport * as module56 from '../../../../../js/input/tex/noundefined/NoUndefinedConfiguration.js';\nimport * as module57 from '../../../../../js/input/tex/physics/PhysicsConfiguration.js';\nimport * as module58 from '../../../../../js/input/tex/physics/PhysicsItems.js';\nimport * as module59 from '../../../../../js/input/tex/physics/PhysicsMethods.js';\nimport * as module60 from '../../../../../js/input/tex/require/RequireConfiguration.js';\nimport * as module61 from '../../../../../js/input/tex/unicode/UnicodeConfiguration.js';\nimport * as module62 from '../../../../../js/input/tex/verb/VerbConfiguration.js';\n\ncombineWithMathJax({_: {\n    input: {\n        tex_ts: module1,\n        tex: {\n            AllPackages: module2,\n            Configuration: module3,\n            FilterUtil: module4,\n            FindTeX: module5,\n            MapHandler: module6,\n            NodeFactory: module7,\n            NodeUtil: module8,\n            ParseMethods: module9,\n            ParseOptions: module10,\n            ParseUtil: module11,\n            Stack: module12,\n            StackItem: module13,\n            StackItemFactory: module14,\n            Symbol: module15,\n            SymbolMap: module16,\n            Tags: module17,\n            TexConstants: module18,\n            TexError: module19,\n            TexParser: module20,\n            action: {\n                ActionConfiguration: module21\n            },\n            ams_cd: {\n                AmsCdConfiguration: module22,\n                AmsCdMethods: module23\n            },\n            ams: {\n                AmsConfiguration: module24,\n                AmsItems: module25,\n                AmsMethods: module26\n            },\n            autoload: {\n                AutoloadConfiguration: module27\n            },\n            base: {\n                BaseConfiguration: module28,\n                BaseItems: module29,\n                BaseMethods: module30\n            },\n            bbox: {\n                BboxConfiguration: module31\n            },\n            boldsymbol: {\n                BoldsymbolConfiguration: module32\n            },\n            braket: {\n                BraketConfiguration: module33,\n                BraketItems: module34,\n                BraketMethods: module35\n            },\n            bussproofs: {\n                BussproofsConfiguration: module36,\n                BussproofsItems: module37,\n                BussproofsMethods: module38,\n                BussproofsUtil: module39\n            },\n            cancel: {\n                CancelConfiguration: module40\n            },\n            color_v2: {\n                ColorV2Configuration: module41\n            },\n            color: {\n                ColorConfiguration: module42,\n                ColorMethods: module43,\n                ColorUtil: module44\n            },\n            config_macros: {\n                ConfigMacrosConfiguration: module45\n            },\n            enclose: {\n                EncloseConfiguration: module46\n            },\n            extpfeil: {\n                ExtpfeilConfiguration: module47\n            },\n            html: {\n                HtmlConfiguration: module48,\n                HtmlMethods: module49\n            },\n            mhchem: {\n                MhchemConfiguration: module50\n            },\n            newcommand: {\n                NewcommandConfiguration: module51,\n                NewcommandItems: module52,\n                NewcommandMethods: module53,\n                NewcommandUtil: module54\n            },\n            noerrors: {\n                NoErrorsConfiguration: module55\n            },\n            noundefined: {\n                NoUndefinedConfiguration: module56\n            },\n            physics: {\n                PhysicsConfiguration: module57,\n                PhysicsItems: module58,\n                PhysicsMethods: module59\n            },\n            require: {\n                RequireConfiguration: module60\n            },\n            unicode: {\n                UnicodeConfiguration: module61\n            },\n            verb: {\n                VerbConfiguration: module62\n            }\n        }\n    }\n}});\n","import './lib/tex-full.js';\n\nimport {registerTeX} from '../tex/register.js';\nimport {Loader} from '../../../../js/components/loader.js';\nimport {AllPackages} from '../../../../js/input/tex/AllPackages.js';\nimport '../../../../js/input/tex/require/RequireConfiguration.js';\n\nLoader.preLoad(\n    'input/tex-base',\n    '[tex]/all-packages',\n    '[tex]/require'\n);\n\nregisterTeX(['require',...AllPackages]);\n","import {TeX} from '../../../../js/input/tex.js';\nimport {insert} from '../../../../js/util/Options.js';\n\nexport function registerTeX(packageList) {\n    if (MathJax.startup) {\n        MathJax.startup.registerConstructor('tex', TeX);\n        MathJax.startup.useInput('tex');\n        if (!MathJax.config.tex) {\n            MathJax.config.tex = {};\n        }\n        let packages = MathJax.config.tex.packages;\n        MathJax.config.tex.packages = packageList;\n        if (packages) {\n            insert(MathJax.config.tex, {packages});\n        }\n    }\n}\n"],"sourceRoot":""}