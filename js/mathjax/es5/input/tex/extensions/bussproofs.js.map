{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/bussproofs/BussproofsUtil.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/bussproofs/BussproofsItems.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/bussproofs/BussproofsMethods.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/input/tex-base/lib/input/tex/TexError.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/input/tex-base/lib/input/tex/ParseUtil.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/core/lib/components/global.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/bussproofs/BussproofsConfiguration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/input/tex-base/lib/input/tex/Configuration.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/input/tex-base/lib/input/tex/StackItem.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/input/tex-base/lib/input/tex/Stack.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/input/tex-base/lib/input/tex/NodeUtil.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/js/input/tex/bussproofs/BussproofsMappings.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/input/tex-base/lib/input/tex/TexParser.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/input/tex-base/lib/input/tex/ParseMethods.js","webpack:////Users/mac/Downloads/Highline/Physics202/projects/gausslaw2d/js/mathjax/components/src/input/tex-base/lib/input/tex/SymbolMap.js","webpack:///./lib/bussproofs.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_a","__read","this","iterator","e","ar","next","done","push","error","__values","length","TypeError","getBBox","node","item","root","doc","outputJax","w","getRule","NodeUtil_js_1","default","isType","childNodes","parent","getPremises","rule","direction","getPremise","premises","firstPremise","getConclusion","getColumn","inf","getParentInf","getProperty","getSpaces","right","result","children_1","index_1","children","index","adjustValue","conc","addSpace","config","space","mrow","nodeFactory","replaceChild","setChildren","moveProperties","mspace","setAttribute","ParseUtil_js_1","Em","dimen2em","getAttribute","width","appendChild","unshift","addSequentSpace","sequent","position","row","setProperty","src","dest","forEach","x","removeProperty","adjustSequentPairwise","sequents","top","pop","bottom","compareSequents","left","Math","abs","tr","br","balanceRules","arg","e_1","document","options","MathItem","math","display","data","nodeLists","seq","collect","premise","adjustSequents","inferences","inferences_1","inferences_1_1","isProof","premiseF","adjust_1","w_1","premiseL","adjust","maxAdjust","max","column","sibling","indexOf","pos","parentRule","e_1_1","return","property_prefix","blacklistedProperties","makeBsprAttributes","walkTree","mml","attr","getPropertyNames","match","RegExp","join","saveDocument","Error","clearDocument","extendStatics","__extends","b","setPrototypeOf","__proto__","Array","__","constructor","_super","TexError_js_1","StackItem_js_1","Stack_js_1","BussproofsUtil","ProofTreeItem","BaseItem","configurable","checkItem","isKind","getName","toMml","factory","innerStack","Push","fail","tree","start","Top","Size","prefix","_this","apply","arguments","leftLabel","rigthLabel","__spread","concat","TexParser_js_1","BussproofsMethods","parser","begin","itemFactory","setProperties","line","currentLine","rootAtTop","stack","kind","content","paddedContent","GetArgument","nodes","internalMath","trimSpaces","lpad","rpad","createRule","conclusions","style","rightLabel","label","upper","lower","align","rowlines","framespacing","height","voffset","parseFCenterLine","GetNext","axiom","GetUpTo","split","prem","env","configuration","conclusion","fcenter","middle","table","columnspacing","columnalign","addNode","Inference","childCount","Peek","Pop","Label","side","SetLine","always","RootAtTop","where","AxiomF","FCenter","InferenceF","MathJax","_","input","tex","TexError","ParseUtil","isObject","components","global","combineConfig","combineDefaults","combineWithMathJax","Configuration_js_1","BussproofsItems_js_1","BussproofsUtil_js_1","BussproofsConfiguration","Configuration","handler","macro","environment","items","preprocessors","postprocessors","ConfigurationHandler","MmlStack","StackItem","Stack","NodeUtil","BussproofsMethods_js_1","ParseMethods_js_1","SymbolMap_js_1","CommandMap","AxiomC","UnaryInfC","BinaryInfC","TrinaryInfC","QuaternaryInfC","QuinaryInfC","RightLabel","LeftLabel","AXC","UIC","BIC","TIC","RL","LL","noLine","singleLine","solidLine","dashedLine","alwaysNoLine","alwaysSingleLine","alwaysSolidLine","alwaysDashedLine","alwaysRootAtTop","rootAtBottom","alwaysRootAtBottom","fCenter","Axiom","UnaryInf","BinaryInf","TrinaryInf","QuaternaryInf","QuinaryInf","EnvironmentMap","prooftree","TexParser","ParseMethods","AbstractSymbolMap","SymbolMap","RegExpMap","AbstractParseMap","CharacterMap","DelimiterMap","MacroMap","bussproofs","module1","BussproofsItems","module2","module3","module4"],"mappings":"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","file":"bussproofs.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NodeUtil_js_1 = require(\"../NodeUtil.js\");\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nvar doc = null;\nvar item = null;\nvar getBBox = function (node) {\n    item.root = node;\n    var width = doc.outputJax.getBBox(item, doc).w;\n    return width;\n};\nvar getRule = function (node) {\n    var i = 0;\n    while (node && !NodeUtil_js_1.default.isType(node, 'mtable')) {\n        if (NodeUtil_js_1.default.isType(node, 'text')) {\n            return null;\n        }\n        if (NodeUtil_js_1.default.isType(node, 'mrow')) {\n            node = node.childNodes[0];\n            i = 0;\n            continue;\n        }\n        node = node.parent.childNodes[i];\n        i++;\n    }\n    return node;\n};\nvar getPremises = function (rule, direction) {\n    return rule.childNodes[direction === 'up' ? 1 : 0].childNodes[0].\n        childNodes[0].childNodes[0].childNodes[0];\n};\nvar getPremise = function (premises, n) {\n    return premises.childNodes[n].childNodes[0].childNodes[0];\n};\nvar firstPremise = function (premises) {\n    return getPremise(premises, 0);\n};\nvar lastPremise = function (premises) {\n    return getPremise(premises, premises.childNodes.length - 1);\n};\nvar getConclusion = function (rule, direction) {\n    return rule.childNodes[direction === 'up' ? 0 : 1].childNodes[0].childNodes[0].childNodes[0];\n};\nvar getColumn = function (inf) {\n    while (inf && !NodeUtil_js_1.default.isType(inf, 'mtd')) {\n        inf = inf.parent;\n    }\n    return inf;\n};\nvar nextSibling = function (inf) {\n    return inf.parent.childNodes[inf.parent.childNodes.indexOf(inf) + 1];\n};\nvar previousSibling = function (inf) {\n    return inf.parent.childNodes[inf.parent.childNodes.indexOf(inf) - 1];\n};\nvar getParentInf = function (inf) {\n    while (inf && exports.getProperty(inf, 'inference') == null) {\n        inf = inf.parent;\n    }\n    return inf;\n};\nvar getSpaces = function (inf, rule, right) {\n    if (right === void 0) { right = false; }\n    var result = 0;\n    if (inf === rule) {\n        return result;\n    }\n    if (inf !== rule.parent) {\n        var children_1 = inf.childNodes;\n        var index_1 = right ? children_1.length - 1 : 0;\n        if (NodeUtil_js_1.default.isType(children_1[index_1], 'mspace')) {\n            result += getBBox(children_1[index_1]);\n        }\n        inf = rule.parent;\n    }\n    if (inf === rule) {\n        return result;\n    }\n    var children = inf.childNodes;\n    var index = right ? children.length - 1 : 0;\n    if (children[index] !== rule) {\n        result += getBBox(children[index]);\n    }\n    return result;\n};\nvar adjustValue = function (inf, right) {\n    if (right === void 0) { right = false; }\n    var rule = getRule(inf);\n    var conc = getConclusion(rule, exports.getProperty(rule, 'inferenceRule'));\n    var w = getSpaces(inf, rule, right);\n    var x = getBBox(rule);\n    var y = getBBox(conc);\n    return w + ((x - y) / 2);\n};\nvar addSpace = function (config, inf, space, right) {\n    if (right === void 0) { right = false; }\n    if (exports.getProperty(inf, 'inferenceRule') ||\n        exports.getProperty(inf, 'labelledRule')) {\n        var mrow = config.nodeFactory.create('node', 'mrow');\n        inf.parent.replaceChild(mrow, inf);\n        mrow.setChildren([inf]);\n        moveProperties(inf, mrow);\n        inf = mrow;\n    }\n    var index = right ? inf.childNodes.length - 1 : 0;\n    var mspace = inf.childNodes[index];\n    if (NodeUtil_js_1.default.isType(mspace, 'mspace')) {\n        NodeUtil_js_1.default.setAttribute(mspace, 'width', ParseUtil_js_1.default.Em(ParseUtil_js_1.default.dimen2em(NodeUtil_js_1.default.getAttribute(mspace, 'width')) + space));\n        return;\n    }\n    mspace = config.nodeFactory.create('node', 'mspace', [], { width: ParseUtil_js_1.default.Em(space) });\n    if (right) {\n        inf.appendChild(mspace);\n        return;\n    }\n    mspace.parent = inf;\n    inf.childNodes.unshift(mspace);\n};\nvar moveProperties = function (src, dest) {\n    var props = ['inference', 'proof', 'maxAdjust', 'labelledRule'];\n    props.forEach(function (x) {\n        var value = exports.getProperty(src, x);\n        if (value != null) {\n            exports.setProperty(dest, x, value);\n            exports.removeProperty(src, x);\n        }\n    });\n};\nvar adjustSequents = function (config) {\n    var sequents = config.nodeLists['sequent'];\n    if (!sequents) {\n        return;\n    }\n    for (var i = sequents.length - 1, seq = void 0; seq = sequents[i]; i--) {\n        if (exports.getProperty(seq, 'sequentProcessed')) {\n            exports.removeProperty(seq, 'sequentProcessed');\n            continue;\n        }\n        var collect = [];\n        var inf = getParentInf(seq);\n        if (exports.getProperty(inf, 'inference') !== 1) {\n            continue;\n        }\n        collect.push(seq);\n        while (exports.getProperty(inf, 'inference') === 1) {\n            inf = getRule(inf);\n            var premise = firstPremise(getPremises(inf, exports.getProperty(inf, 'inferenceRule')));\n            var sequent = (exports.getProperty(premise, 'inferenceRule')) ?\n                getConclusion(premise, exports.getProperty(premise, 'inferenceRule')) :\n                premise;\n            if (exports.getProperty(sequent, 'sequent')) {\n                seq = sequent.childNodes[0];\n                collect.push(seq);\n                exports.setProperty(seq, 'sequentProcessed', true);\n            }\n            inf = premise;\n        }\n        adjustSequentPairwise(config, collect);\n    }\n};\nvar addSequentSpace = function (config, sequent, position, direction, width) {\n    var mspace = config.nodeFactory.create('node', 'mspace', [], { width: ParseUtil_js_1.default.Em(width) });\n    if (direction === 'left') {\n        var row = sequent.childNodes[position].childNodes[0];\n        mspace.parent = row;\n        row.childNodes.unshift(mspace);\n    }\n    else {\n        sequent.childNodes[position].appendChild(mspace);\n    }\n    exports.setProperty(sequent.parent, 'sequentAdjust_' + direction, width);\n};\nvar adjustSequentPairwise = function (config, sequents) {\n    var top = sequents.pop();\n    while (sequents.length) {\n        var bottom = sequents.pop();\n        var _a = __read(compareSequents(top, bottom), 2), left = _a[0], right = _a[1];\n        if (exports.getProperty(top.parent, 'axiom')) {\n            addSequentSpace(config, left < 0 ? top : bottom, 0, 'left', Math.abs(left));\n            addSequentSpace(config, right < 0 ? top : bottom, 2, 'right', Math.abs(right));\n        }\n        top = bottom;\n    }\n};\nvar compareSequents = function (top, bottom) {\n    var tr = getBBox(top.childNodes[2]);\n    var br = getBBox(bottom.childNodes[2]);\n    var tl = getBBox(top.childNodes[0]);\n    var bl = getBBox(bottom.childNodes[0]);\n    var dl = tl - bl;\n    var dr = tr - br;\n    return [dl, dr];\n};\nexports.balanceRules = function (arg) {\n    var e_1, _a;\n    item = new arg.document.options.MathItem('', null, arg.math.display);\n    var config = arg.data;\n    adjustSequents(config);\n    var inferences = config.nodeLists['inference'] || [];\n    var topAdjust = 0;\n    try {\n        for (var inferences_1 = __values(inferences), inferences_1_1 = inferences_1.next(); !inferences_1_1.done; inferences_1_1 = inferences_1.next()) {\n            var inf = inferences_1_1.value;\n            var isProof = exports.getProperty(inf, 'proof');\n            var label = exports.getProperty(inf, 'labelledRule');\n            var rule = getRule(inf);\n            var premises = getPremises(rule, exports.getProperty(rule, 'inferenceRule'));\n            var premiseF = firstPremise(premises);\n            if (exports.getProperty(premiseF, 'inference')) {\n                var adjust_1 = adjustValue(premiseF);\n                if (adjust_1) {\n                    addSpace(config, premiseF, -adjust_1);\n                    var w_1 = getSpaces(inf, rule, false);\n                    addSpace(config, inf, adjust_1 - w_1);\n                }\n            }\n            var premiseL = lastPremise(premises);\n            if (exports.getProperty(premiseL, 'inference') == null) {\n                continue;\n            }\n            var adjust = adjustValue(premiseL, true);\n            addSpace(config, premiseL, -adjust, true);\n            var w = getSpaces(inf, rule, true);\n            var maxAdjust = exports.getProperty(inf, 'maxAdjust');\n            if (maxAdjust != null) {\n                adjust = Math.max(adjust, maxAdjust);\n            }\n            var column = void 0;\n            if (isProof || !(column = getColumn(inf))) {\n                addSpace(config, exports.getProperty(inf, 'proof') ? inf : inf.parent, adjust - w, true);\n                continue;\n            }\n            var sibling = nextSibling(column);\n            if (sibling) {\n                var pos = config.nodeFactory.create('node', 'mspace', [], { width: adjust - w + 'em' });\n                sibling.appendChild(pos);\n                inf.removeProperty('maxAdjust');\n                continue;\n            }\n            var parentRule = getParentInf(column);\n            if (!parentRule) {\n                continue;\n            }\n            adjust = exports.getProperty(parentRule, 'maxAdjust') ?\n                Math.max(exports.getProperty(parentRule, 'maxAdjust'), adjust) : adjust;\n            exports.setProperty(parentRule, 'maxAdjust', adjust);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (inferences_1_1 && !inferences_1_1.done && (_a = inferences_1.return)) _a.call(inferences_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n};\nvar property_prefix = 'bspr_';\nvar blacklistedProperties = (_a = {},\n    _a[property_prefix + 'maxAdjust'] = true,\n    _a);\nexports.setProperty = function (node, property, value) {\n    NodeUtil_js_1.default.setProperty(node, property_prefix + property, value);\n};\nexports.getProperty = function (node, property) {\n    return NodeUtil_js_1.default.getProperty(node, property_prefix + property);\n};\nexports.removeProperty = function (node, property) {\n    node.removeProperty(property_prefix + property);\n};\nexports.makeBsprAttributes = function (arg) {\n    arg.data.root.walkTree(function (mml, data) {\n        var attr = [];\n        mml.getPropertyNames().forEach(function (x) {\n            if (!blacklistedProperties[x] && x.match(RegExp('^' + property_prefix))) {\n                attr.push(x + ':' + mml.getProperty(x));\n            }\n        });\n        if (attr.length) {\n            NodeUtil_js_1.default.setAttribute(mml, 'semantics', attr.join(';'));\n        }\n    });\n};\nexports.saveDocument = function (arg) {\n    doc = arg.document;\n    if (!('getBBox' in doc.outputJax)) {\n        throw Error('The bussproofs extension requires an output jax with a getBBox() method');\n    }\n};\nexports.clearDocument = function (arg) {\n    doc = null;\n};\n//# sourceMappingURL=BussproofsUtil.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TexError_js_1 = require(\"../TexError.js\");\nvar StackItem_js_1 = require(\"../StackItem.js\");\nvar Stack_js_1 = require(\"../Stack.js\");\nvar BussproofsUtil = require(\"./BussproofsUtil.js\");\nvar ProofTreeItem = (function (_super) {\n    __extends(ProofTreeItem, _super);\n    function ProofTreeItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.leftLabel = null;\n        _this.rigthLabel = null;\n        _this.innerStack = new Stack_js_1.default(_this.factory, {}, true);\n        return _this;\n    }\n    Object.defineProperty(ProofTreeItem.prototype, \"kind\", {\n        get: function () {\n            return 'proofTree';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ProofTreeItem.prototype.checkItem = function (item) {\n        if (item.isKind('end') && item.getName() === 'prooftree') {\n            var node = this.toMml();\n            BussproofsUtil.setProperty(node, 'proof', true);\n            return [[this.factory.create('mml', node), item], true];\n        }\n        if (item.isKind('stop')) {\n            throw new TexError_js_1.default('EnvMissingEnd', 'Missing \\\\end{%1}', this.getName());\n        }\n        this.innerStack.Push(item);\n        return StackItem_js_1.BaseItem.fail;\n    };\n    ProofTreeItem.prototype.toMml = function () {\n        var tree = _super.prototype.toMml.call(this);\n        var start = this.innerStack.Top();\n        if (start.isKind('start') && !start.Size()) {\n            return tree;\n        }\n        this.innerStack.Push(this.factory.create('stop'));\n        var prefix = this.innerStack.Top().toMml();\n        return this.create('node', 'mrow', [prefix, tree], {});\n    };\n    return ProofTreeItem;\n}(StackItem_js_1.BaseItem));\nexports.ProofTreeItem = ProofTreeItem;\n//# sourceMappingURL=BussproofsItems.js.map","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TexError_js_1 = require(\"../TexError.js\");\nvar TexParser_js_1 = require(\"../TexParser.js\");\nvar ParseUtil_js_1 = require(\"../ParseUtil.js\");\nvar BussproofsUtil = require(\"./BussproofsUtil.js\");\nvar BussproofsMethods = {};\nBussproofsMethods.Prooftree = function (parser, begin) {\n    parser.Push(begin);\n    var newItem = parser.itemFactory.create('proofTree').\n        setProperties({ name: begin.getName(),\n        line: 'solid', currentLine: 'solid', rootAtTop: false });\n    return newItem;\n};\nBussproofsMethods.Axiom = function (parser, name) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    var content = paddedContent(parser, parser.GetArgument(name));\n    BussproofsUtil.setProperty(content, 'axiom', true);\n    top.Push(content);\n};\nvar paddedContent = function (parser, content) {\n    var nodes = ParseUtil_js_1.default.internalMath(parser, ParseUtil_js_1.default.trimSpaces(content), 0);\n    if (!nodes[0].childNodes[0].childNodes.length) {\n        return parser.create('node', 'mrow', []);\n    }\n    var lpad = parser.create('node', 'mspace', [], { width: '.5ex' });\n    var rpad = parser.create('node', 'mspace', [], { width: '.5ex' });\n    return parser.create('node', 'mrow', __spread([lpad], nodes, [rpad]));\n};\nBussproofsMethods.Inference = function (parser, name, n) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    if (top.Size() < n) {\n        throw new TexError_js_1.default('BadProofTree', 'Proof tree badly specified.');\n    }\n    var rootAtTop = top.getProperty('rootAtTop');\n    var childCount = (n === 1 && !top.Peek()[0].childNodes.length) ? 0 : n;\n    var children = [];\n    do {\n        if (children.length) {\n            children.unshift(parser.create('node', 'mtd', [], {}));\n        }\n        children.unshift(parser.create('node', 'mtd', [top.Pop()], { 'rowalign': (rootAtTop ? 'top' : 'bottom') }));\n        n--;\n    } while (n > 0);\n    var row = parser.create('node', 'mtr', children, {});\n    var table = parser.create('node', 'mtable', [row], { framespacing: '0 0' });\n    var conclusion = paddedContent(parser, parser.GetArgument(name));\n    var style = top.getProperty('currentLine');\n    if (style !== top.getProperty('line')) {\n        top.setProperty('currentLine', top.getProperty('line'));\n    }\n    var rule = createRule(parser, table, [conclusion], top.getProperty('left'), top.getProperty('right'), style, rootAtTop);\n    top.setProperty('left', null);\n    top.setProperty('right', null);\n    BussproofsUtil.setProperty(rule, 'inference', childCount);\n    parser.configuration.addNode('inference', rule);\n    top.Push(rule);\n};\nfunction createRule(parser, premise, conclusions, left, right, style, rootAtTop) {\n    var upper = parser.create('node', 'mtr', [parser.create('node', 'mtd', [premise], {})], {});\n    var lower = parser.create('node', 'mtr', [parser.create('node', 'mtd', conclusions, {})], {});\n    var rule = parser.create('node', 'mtable', rootAtTop ? [lower, upper] : [upper, lower], { align: 'top 2', rowlines: style, framespacing: '0 0' });\n    BussproofsUtil.setProperty(rule, 'inferenceRule', rootAtTop ? 'up' : 'down');\n    var leftLabel, rightLabel;\n    if (left) {\n        leftLabel = parser.create('node', 'mpadded', [left], { height: '+.5em', width: '+.5em', voffset: '-.15em' });\n        BussproofsUtil.setProperty(leftLabel, 'prooflabel', 'left');\n    }\n    if (right) {\n        rightLabel = parser.create('node', 'mpadded', [right], { height: '+.5em', width: '+.5em', voffset: '-.15em' });\n        BussproofsUtil.setProperty(rightLabel, 'prooflabel', 'right');\n    }\n    var children, label;\n    if (left && right) {\n        children = [leftLabel, rule, rightLabel];\n        label = 'both';\n    }\n    else if (left) {\n        children = [leftLabel, rule];\n        label = 'left';\n    }\n    else if (right) {\n        children = [rule, rightLabel];\n        label = 'right';\n    }\n    else {\n        return rule;\n    }\n    rule = parser.create('node', 'mrow', children);\n    BussproofsUtil.setProperty(rule, 'labelledRule', label);\n    return rule;\n}\n;\nBussproofsMethods.Label = function (parser, name, side) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    var content = ParseUtil_js_1.default.internalMath(parser, parser.GetArgument(name), 0);\n    var label = (content.length > 1) ?\n        parser.create('node', 'mrow', content, {}) : content[0];\n    top.setProperty(side, label);\n};\nBussproofsMethods.SetLine = function (parser, name, style, always) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    top.setProperty('currentLine', style);\n    if (always) {\n        top.setProperty('line', style);\n    }\n};\nBussproofsMethods.RootAtTop = function (parser, name, where) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    top.setProperty('rootAtTop', where);\n};\nBussproofsMethods.AxiomF = function (parser, name) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    var line = parseFCenterLine(parser, name);\n    BussproofsUtil.setProperty(line, 'axiom', true);\n    top.Push(line);\n};\nfunction parseFCenterLine(parser, name) {\n    var dollar = parser.GetNext();\n    if (dollar !== '$') {\n        throw new TexError_js_1.default('IllegalUseOfCommand', 'Use of %1 does not match it\\'s definition.', name);\n    }\n    parser.i++;\n    var axiom = parser.GetUpTo(name, '$');\n    if (axiom.indexOf('\\\\fCenter') === -1) {\n        throw new TexError_js_1.default('IllegalUseOfCommand', 'Missing \\\\fCenter in %1.', name);\n    }\n    var _a = __read(axiom.split('\\\\fCenter'), 2), prem = _a[0], conc = _a[1];\n    var premise = (new TexParser_js_1.default(prem, parser.stack.env, parser.configuration)).mml();\n    var conclusion = (new TexParser_js_1.default(conc, parser.stack.env, parser.configuration)).mml();\n    var fcenter = (new TexParser_js_1.default('\\\\fCenter', parser.stack.env, parser.configuration)).mml();\n    var left = parser.create('node', 'mtd', [premise], {});\n    var middle = parser.create('node', 'mtd', [fcenter], {});\n    var right = parser.create('node', 'mtd', [conclusion], {});\n    var row = parser.create('node', 'mtr', [left, middle, right], {});\n    var table = parser.create('node', 'mtable', [row], { columnspacing: '.5ex', columnalign: 'center 2' });\n    BussproofsUtil.setProperty(table, 'sequent', true);\n    parser.configuration.addNode('sequent', row);\n    return table;\n}\n;\nBussproofsMethods.FCenter = function (parser, name) { };\nBussproofsMethods.InferenceF = function (parser, name, n) {\n    var top = parser.stack.Top();\n    if (top.kind !== 'proofTree') {\n        throw new TexError_js_1.default('IllegalProofCommand', 'Proof commands only allowed in prooftree environment.');\n    }\n    if (top.Size() < n) {\n        throw new TexError_js_1.default('BadProofTree', 'Proof tree badly specified.');\n    }\n    var rootAtTop = top.getProperty('rootAtTop');\n    var childCount = (n === 1 && !top.Peek()[0].childNodes.length) ? 0 : n;\n    var children = [];\n    do {\n        if (children.length) {\n            children.unshift(parser.create('node', 'mtd', [], {}));\n        }\n        children.unshift(parser.create('node', 'mtd', [top.Pop()], { 'rowalign': (rootAtTop ? 'top' : 'bottom') }));\n        n--;\n    } while (n > 0);\n    var row = parser.create('node', 'mtr', children, {});\n    var table = parser.create('node', 'mtable', [row], { framespacing: '0 0' });\n    var conclusion = parseFCenterLine(parser, name);\n    var style = top.getProperty('currentLine');\n    if (style !== top.getProperty('line')) {\n        top.setProperty('currentLine', top.getProperty('line'));\n    }\n    var rule = createRule(parser, table, [conclusion], top.getProperty('left'), top.getProperty('right'), style, rootAtTop);\n    top.setProperty('left', null);\n    top.setProperty('right', null);\n    BussproofsUtil.setProperty(rule, 'inference', childCount);\n    parser.configuration.addNode('inference', rule);\n    top.Push(rule);\n};\nexports.default = BussproofsMethods;\n//# sourceMappingURL=BussproofsMethods.js.map","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.default = MathJax._.input.tex.TexError.default;\n","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.default = MathJax._.input.tex.ParseUtil.default;\n","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.isObject = MathJax._.components.global.isObject;\nexports.combineConfig = MathJax._.components.global.combineConfig;\nexports.combineDefaults = MathJax._.components.global.combineDefaults;\nexports.combineWithMathJax = MathJax._.components.global.combineWithMathJax;\nexports.MathJax = MathJax._.components.global.MathJax;\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Configuration_js_1 = require(\"../Configuration.js\");\nvar BussproofsItems_js_1 = require(\"./BussproofsItems.js\");\nvar BussproofsUtil_js_1 = require(\"./BussproofsUtil.js\");\nrequire(\"./BussproofsMappings.js\");\nexports.BussproofsConfiguration = Configuration_js_1.Configuration.create('bussproofs', { handler: {\n        macro: ['Bussproofs-macros'],\n        environment: ['Bussproofs-environments']\n    },\n    items: (_a = {},\n        _a[BussproofsItems_js_1.ProofTreeItem.prototype.kind] = BussproofsItems_js_1.ProofTreeItem,\n        _a),\n    preprocessors: [\n        [BussproofsUtil_js_1.saveDocument, 1]\n    ],\n    postprocessors: [\n        [BussproofsUtil_js_1.clearDocument, 3],\n        [BussproofsUtil_js_1.makeBsprAttributes, 2],\n        [BussproofsUtil_js_1.balanceRules, 1]\n    ]\n});\n//# sourceMappingURL=BussproofsConfiguration.js.map","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.Configuration = MathJax._.input.tex.Configuration.Configuration;\nexports.ConfigurationHandler = MathJax._.input.tex.Configuration.ConfigurationHandler;\n","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.MmlStack = MathJax._.input.tex.StackItem.MmlStack;\nexports.BaseItem = MathJax._.input.tex.StackItem.BaseItem;\n","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.default = MathJax._.input.tex.Stack.default;\n","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.default = MathJax._.input.tex.NodeUtil.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BussproofsMethods_js_1 = require(\"./BussproofsMethods.js\");\nvar ParseMethods_js_1 = require(\"../ParseMethods.js\");\nvar SymbolMap_js_1 = require(\"../SymbolMap.js\");\nnew SymbolMap_js_1.CommandMap('Bussproofs-macros', {\n    AxiomC: 'Axiom',\n    UnaryInfC: ['Inference', 1],\n    BinaryInfC: ['Inference', 2],\n    TrinaryInfC: ['Inference', 3],\n    QuaternaryInfC: ['Inference', 4],\n    QuinaryInfC: ['Inference', 5],\n    RightLabel: ['Label', 'right'],\n    LeftLabel: ['Label', 'left'],\n    AXC: 'Axiom',\n    UIC: ['Inference', 1],\n    BIC: ['Inference', 2],\n    TIC: ['Inference', 3],\n    RL: ['Label', 'right'],\n    LL: ['Label', 'left'],\n    noLine: ['SetLine', 'none', false],\n    singleLine: ['SetLine', 'solid', false],\n    solidLine: ['SetLine', 'solid', false],\n    dashedLine: ['SetLine', 'dashed', false],\n    alwaysNoLine: ['SetLine', 'none', true],\n    alwaysSingleLine: ['SetLine', 'solid', true],\n    alwaysSolidLine: ['SetLine', 'solid', true],\n    alwaysDashedLine: ['SetLine', 'dashed', true],\n    rootAtTop: ['RootAtTop', true],\n    alwaysRootAtTop: ['RootAtTop', true],\n    rootAtBottom: ['RootAtTop', false],\n    alwaysRootAtBottom: ['RootAtTop', false],\n    fCenter: 'FCenter',\n    Axiom: 'AxiomF',\n    UnaryInf: ['InferenceF', 1],\n    BinaryInf: ['InferenceF', 2],\n    TrinaryInf: ['InferenceF', 3],\n    QuaternaryInf: ['InferenceF', 4],\n    QuinaryInf: ['InferenceF', 5]\n}, BussproofsMethods_js_1.default);\nnew SymbolMap_js_1.EnvironmentMap('Bussproofs-environments', ParseMethods_js_1.default.environment, {\n    prooftree: ['Prooftree', null, false]\n}, BussproofsMethods_js_1.default);\n//# sourceMappingURL=BussproofsMappings.js.map","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.default = MathJax._.input.tex.TexParser.default;\n","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.default = MathJax._.input.tex.ParseMethods.default;\n","\"use strict\";\nObject.defineProperty(exports, '__esModule', {value: true});\nexports.AbstractSymbolMap = MathJax._.input.tex.SymbolMap.AbstractSymbolMap;\nexports.RegExpMap = MathJax._.input.tex.SymbolMap.RegExpMap;\nexports.AbstractParseMap = MathJax._.input.tex.SymbolMap.AbstractParseMap;\nexports.CharacterMap = MathJax._.input.tex.SymbolMap.CharacterMap;\nexports.DelimiterMap = MathJax._.input.tex.SymbolMap.DelimiterMap;\nexports.MacroMap = MathJax._.input.tex.SymbolMap.MacroMap;\nexports.CommandMap = MathJax._.input.tex.SymbolMap.CommandMap;\nexports.EnvironmentMap = MathJax._.input.tex.SymbolMap.EnvironmentMap;\n","import {combineWithMathJax} from '../../../../../../../js/components/global.js';\n\nimport * as module1 from '../../../../../../../js/input/tex/bussproofs/BussproofsConfiguration.js';\nimport * as module2 from '../../../../../../../js/input/tex/bussproofs/BussproofsItems.js';\nimport * as module3 from '../../../../../../../js/input/tex/bussproofs/BussproofsMethods.js';\nimport * as module4 from '../../../../../../../js/input/tex/bussproofs/BussproofsUtil.js';\n\ncombineWithMathJax({_: {\n    input: {\n        tex: {\n            bussproofs: {\n                BussproofsConfiguration: module1,\n                BussproofsItems: module2,\n                BussproofsMethods: module3,\n                BussproofsUtil: module4\n            }\n        }\n    }\n}});\n"],"sourceRoot":""}